if (self.CavalryLogger) { CavalryLogger.start_js(["2RM7H"]); }

__d("MessengerPhotoishXMA.react",["BootloadedComponent.react","JSResource","React","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("requireWeak")("MessengerPhotosGroup.react",function(a){g=a});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a,b){return this.props!==a};d.render=function(){return!g?b("React").jsx(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessengerPhotosGroup.react").__setRef("MessengerPhotoishXMA.react"),isXMA:!0},this.props)):b("React").jsx(g,babelHelpers["extends"]({isXMA:!0},this.props))};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryShareSizeImageByWidthMixin",["Image.react","MercuryAttachment","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","React"],(function(a,b,c,d,e,f){__p&&__p();a={_getImageSize:function(a){var c=this.props.attachment&&this.props.attachment.media;a=a&&c&&c.animated_image?c&&c.animated_image_size:c&&c.image_size;return this.props.maxWidth?b("MercuryAttachment").resizeContain({height:this.props.maxWidth,width:this.props.maxWidth},a):a},_renderImage:function(a){var c=this.props.attachment&&this.props.attachment.media,d=this._getImageSize(a);a=a&&c&&c.animated_image?c.animated_image:c&&c.image;if(this.props.location==b("MercuryShareAttachmentRenderLocations").CHAT)return b("React").jsx(b("MercuryShareImage.react"),{height:d&&d.height,source:a,width:d&&d.width});else return b("React").jsx(b("Image.react"),{height:d&&d.height,src:a,width:d&&d.width})}};e.exports=a}),null);
__d("MercuryVideoShareXMATextBlock.react",["cx","MessengerLivingRoomCTAContainer.react","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.url&&window.open(c.props.url)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.props)return b("React").jsx("div",{className:"__6j"});var a=this.props.width?{maxWidth:this.props.width-h}:{},c={textDecoration:"none"};return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"__6j _43kk"),style:a,children:[b("React").jsxs(b("ShimButton.react"),{form:"link",onClick:this.$1,style:c,children:[this.renderTitle(),this.renderDescription(),this.renderSource()]}),b("React").jsx(b("MessengerLivingRoomCTAContainer.react"),{threadID:this.props.threadID,isFromViewer:this.props.isFromViewer,attachment:this.props.attachment})]})};d.renderTitle=function(){return!this.props.title?null:b("React").jsx("div",{className:"__6k"+(!this.props.uri&&!this.props.description?" _2xsq":""),children:this.props.title})};d.renderDescription=function(){return!this.props.description?null:b("React").jsx("div",{className:"__6l",children:this.props.description})};d.renderSource=function(){return!this.props.source?null:b("React").jsx("div",{className:"__6m",children:this.props.source})};return c}(b("React").Component);c.propTypes={className:a.string,description:a.string,source:a.string,title:a.string,url:a.string,width:a.number,threadID:a.string,isFromViewer:a.bool,attachment:a.object};e.exports=c}),null);
__d("MercuryVideoShareXMA.react",["cx","MercuryVideoShareXMATextBlock.react","MessengerVideoPlayer.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=181,i=200;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.$1(this.props.attachment),c=this.$2(a);return b("React").jsxs("div",{className:"_3duc",children:[c,this.$3(a&&a.original_dimensions)]})};d.$2=function(a){return a?b("React").jsx(b("MessengerVideoPlayer.react"),{attachment:this.props.attachment,videoData:a,isInThread:!0,isVisible:this.props.isVisible,className:b("joinClasses")(this.props.className,"_n4o _3_om")}):null};d.$1=function(a){if(!a.media||!a.media.image_size||!a.target||!a.target.video_id)return null;var b=a.media.image_size;return{disableAutoplay:!0,legacy_attachment_id:a.target.video_id,original_dimensions:this.$4(b),start_muted:!0,no_fullscreen:!0,hide_controls_on_finish:!0,url:a.media.image,is_share:!0}};d.$4=function(a){if(a.width<=h&&a.height<=i)return{x:a.width,y:a.height};var b=Math.min(h/a.width,i/a.height),c=Math.ceil(a.width*b);a=Math.ceil(a.height*b);return{x:c,y:a}};d.$3=function(a){var c=this.props.attachment;return b("React").jsx(b("MercuryVideoShareXMATextBlock.react"),{description:c.description,source:c.source,title:c.video_title,url:c.uri,width:a&&a.x,threadID:this.props.threadID,isFromViewer:this.props.isFromViewer,attachment:c})};return c}(b("React").PureComponent);c.propTypes={attachment:a.object.isRequired,isVisible:a.bool,onClick:a.func,threadID:a.string,isFromViewer:a.bool};e.exports=c}),null);
__d("MercuryVideoShareAttachment.react",["cx","ix","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","Link.react","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareSizeImageByWidthMixin","MercuryVideoShareXMA.react","MessengerPhotoishXMA.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"MercuryVideoShareAttachment",mixins:[b("MercuryShareSizeImageByWidthMixin")],propTypes:{attachment:b("MercuryShareAttachmentReactShape"),location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),maxWidth:a.number,threadID:a.string,isFromViewer:a.bool},render:function(){if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW)return b("React").jsx(b("MercuryFallbackShareAttachment.react"),babelHelpers["extends"]({},this.props));else if(this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER)return b("React").jsx(b("MessengerPhotoishXMA.react"),{attachType:"video",attachments:[this.props.attachment],isVisible:!!this.props.isVisible,onSelect:this.props.onSelect,threadID:this.props.threadID,isFromViewer:this.props.isFromViewer});else if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT)return b("React").jsx(b("MercuryVideoShareXMA.react"),babelHelpers["extends"]({},this.props));var a=this.props.attachment&&this.props.attachment.uri;return b("React").jsx(b("Link.react"),{rel:"theater",href:a,children:b("React").jsxs(b("FBOverlayContainer.react"),{className:"clearfix",style:this._getImageSize(),children:[b("React").jsx(b("FBOverlayBase.react"),{children:this._renderImage()}),b("React").jsx(b("FBOverlayElement.react"),{children:b("React").jsx(b("CenteredContainer.react"),{vertical:!0,children:b("React").jsx(b("Image.react"),{src:h("27983")})})})]})})}});e.exports=c}),null);