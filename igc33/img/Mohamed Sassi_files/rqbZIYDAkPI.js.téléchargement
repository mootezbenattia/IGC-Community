if (self.CavalryLogger) { CavalryLogger.start_js(["DKGqY"]); }

__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"})}),null);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE_BEEPER:"live_beeper"})}),null);
__d("CVCv3SubscriptionHelper",["DateConsts","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DateConsts").MS_PER_SEC;a=function(){__p&&__p();function a(a,c,d){this.$1=a;this.$2=b("guid")();this.$3=((a=c)!=null?a:"null")+"::"+((c=d)!=null?c:"null");this.$4=null}var c=a.prototype;c.isValidSubscription=function(){return!!this.$1};c.makeCVCv3StateUpdate=function(a,b,c,d){var e=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(e={m:d,pf:Math.floor((b-a)*g),s:c,sa:Math.floor(a*g)});d={pps:this.$4,ps:e,si:this.$2,so:this.$3,vi:this.$1};this.$4=e;return d};c.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);return Object.assign({},a,e)};c.clearAnyPreviousContext=function(){this.$4=null};return a}();e.exports=a}),null);
__d("XVideoCVCController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/cvc/",{raw:{type:"Bool",defaultValue:!1}})}),null);
__d("XVideoUnifiedCVCController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/unified_cvc/",{})}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=function(){},this.$2=0}var b=a.prototype;b.setOnPriorityChanged=function(a){this.$1=a};b.getPriorityAdjustment=function(){return this.$2};b.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};b.cleanup=function(){this.$1=function(){}};return a}();e.exports=a}),null);
__d("LiveVideoCopyrightActionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2145232792194057"};b.getQueryID=function(){return"2180375868916621"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2024168130980964",queryID:"292170761620173"})}),null);
__d("MediaController",["EventEmitter","Style"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getRootNode=function(){return this.$MediaController1};d.setDimensions=function(a,c){var d=this.getRootNode();b("Style").apply(d,{width:a+"px",height:c+"px"})};d.getMediaID=function(){return this.$MediaController2};d.isLiveVideo=function(){return!1};d.isVideo=function(){return!1};return c}(b("EventEmitter"));e.exports=a}),null);
__d("SphericalVideoPlayerEvents",[],(function(a,b,c,d,e,f){e.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:"setRelativeSphericalOrientation",SET_ABSOLUTE_SPHERICAL_ORIENTATION:"setAbsoluteSphericalOrientation",SET_FIELD_OF_VIEW:"setFieldOfView",SET_VIDEO_PROJECTION:"setVideoProjection",SET_STEREO_MODE:"setStereoMode",SET_PARTIAL_LIMITS:"setPartialLimits",SET_VIEWPORT_CONTROL_CONFIG:"setViewportControlConfig"}}),null);
__d("VideoChannelViewChainLengthManager",["guid"],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";__p&&__p();function a(a){this.$1=b("guid")(),this.$2=0,this.$3=a,this.$4={},this.$4[a]=0,this.$5=a}var c=a.prototype;c.registerVideoID=function(a){this.$4[a]===void 0&&(this.$2++,this.$4[a]=this.$2),this.$5=a};c.getSessionID=function(){return this.$1};c.getCurrentChainLength=function(){return this.$4[this.$5]!==void 0?this.$4[this.$5]:null};return a}(),h={};a={_ensureSessionID:function(a){a=a.toString(),h[a]||(h[a]=new g(a))},getLoggingData:function(a){a&&(a=a.toString());a=h&&h[a];return!a?{video_chaining_depth_level:null,video_chaining_session_id:null}:{video_chaining_depth_level:a.getCurrentChainLength(),video_chaining_session_id:a.getSessionID()}},registerChainingInfos:function(a,b){var c=a;if(b){b=b.decode();b.root_id&&(c=b.root_id)}c&&(c=c.toString());this.registerVideoID(c,a)},registerVideoID:function(a,b){a=a.toString(),this._ensureSessionID(a),h[a].registerVideoID(b)}};e.exports=a}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$VideoControllerPlayingStateEmitter2=null;c.$VideoControllerPlayingStateEmitter3=b;return c}var d=c.prototype;d.enable=function(){var a=this;this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var b=a.$VideoControllerPlayingStateEmitter2;a.$VideoControllerPlayingStateEmitter2=a.$VideoControllerPlayingStateEmitter3.getState();if(a.$VideoControllerPlayingStateEmitter2===b)return;a.$VideoControllerPlayingStateEmitter5(a.$VideoControllerPlayingStateEmitter2)}));this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};d.setOnPlaying=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",a))};d.setOnPaused=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",a))};d.disable=function(){this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter1&&(this.$VideoControllerPlayingStateEmitter1.release(),this.$VideoControllerPlayingStateEmitter1=null)};d.$VideoControllerPlayingStateEmitter4=function(){this.$VideoControllerPlayingStateEmitter1||(this.$VideoControllerPlayingStateEmitter1=new(b("SubscriptionsHandler"))());return this.$VideoControllerPlayingStateEmitter1};d.$VideoControllerPlayingStateEmitter5=function(a){a==="playing"?this.emit("play"):a==="paused"&&this.emit("pause")};return c}(b("EventEmitter"));e.exports=a}),null);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("live_trace_www_video_player");e.exports=a}),null);
__d("VideoLiveTrace",["LiveTraceWwwVideoPlayerFalcoEvent","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g="x-fb-video-livetrace-ids",h="x-fb-video-livetrace-parentsource",i="x-fb-video-livetrace-streamtype",j="x-fb-origin-hit",k="x-fb-edge-hit",l="PLY:WWW:",m=l+"DL:",n=l+"DIS:",o=1e3,p=/[\r\n]+/;a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+c.substring(0,5);this.$3=l+a;this.$4=m+a;this.$5=n+a;this.$7=b("throttle")(function(a){return e.$8(a)},o)}var c=a.prototype;c.setStreamType=function(a){this.$2=a};c.$9=function(a,c,d,e,f,g){var h=Date.now(),i=Number(this.$1),j=Number(this.$2||0);b("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i,stream_type:j,event_name:c,event_severity:f,event_creation_time:h,source:a,trace_id:d,parent_source:e,metadata:g}})};c.onUpdateStatus=function(a){this.$7(a)};c.$8=function(a){a=a.position*1e3;var b=this.$6;while(b.length&&b[b.length-1].presentationTimestamp<=a){var c=b.pop();this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};c.handleHeadersString=function(a,b){a=a.trim().split(p);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};c.handleHeaders=function(a,b){__p&&__p();var c=[];for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(f)}this.$10(c,b)};c.$10=function(a,b){__p&&__p();var c=this,d="null",e=[],f=[],l="";a.forEach(function(a){__p&&__p();var b=a[0].toLowerCase();a=a[1];if(b===g&&a){var m=a.split(",");m.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];e.push(b);f.unshift({traceId:b,presentationTimestamp:a})})}b===h&&(l=a);c.$2===null&&b===i&&(c.$2=parseInt(a,10));(b===j||b===k)&&parseInt(a,10)&&(d=b===j?"origin":"edge")});var m=b||{};m.hit=d;f.length&&l!==""&&(this.$6=f.concat(this.$6));if(e.length&&l!==""){var n=l;e.forEach(function(a){return c.$9(c.$4,"SEGMENT",a,n,"SUCCESS",m)})}};c.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};c.getLiveTraceContext=function(){return{streamId:this.$1,streamType:this.$2||0,sourceId:this.$3}};return a}();e.exports=a}),null);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}f="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b={h264baseline:a(g,b(30),f),h264main30avc:a(g,c(30),f),h264main31avc:a(g,c(31),f),h264high50avc:a(g,d(50),f),h264high51avc:a(g,d(51),f)};e.exports=b}),null);
__d("VideoPlayerABRQualityTracker",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=null}var b=a.prototype;b.setLastQualitySwitchReason=function(a){this.$2=a};b.getABREvaluation=function(){__p&&__p();var a=[];this.$1&&(a=this.$1.flushABREvaluationSet());var b=0,c=0,d=0,e=0,f=this.$2;for(var g=0;g<a.length;g++)switch(a[g]){case"ideal":b++;break;case"conservative":c++;break;case"aggressive":d++;break;case"conservative_resolution_constrained":e++;break}return{idealSamples:b,conservativeSamples:c,aggressiveSamples:d,conservativeResolutionConstrainedSamples:e,lastQualitySwitchReason:f}};return a}();e.exports=a}),null);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f){var g=b("guid")().slice(-8);function a(){return g}e.exports=a}),null);
__d("R2D2VideoMetadata",["getVideoBrowserTabId","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=10;a=function(){"use strict";__p&&__p();function a(a){this.$1=a.video_id,this.$2=a.ad_client_token,this.$3=a.player_origin,this.$4=a.player_instance_key,this.$6=parseInt(a.playback_duration*g,h),this.$5=b("uuid")()}var c=a.prototype;c.toJSON=function(){return{video_id:this.$1,ad_client_token:this.$2,player_origin:this.$3,player_instance_key:this.$4,r2d2_session_id:this.$5,duration_ms:this.getDurationMs(),browser_tab_id:b("getVideoBrowserTabId")()}};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return parseInt(this.$6,h)};c.setDurationMs=function(a){this.$6=a};return a}();e.exports=a}),null);
__d("R2D2VideoEventValidationSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=0,this.$1=new Map()}var b=a.prototype;b.addEvent=function(a){this.$1.has(a)||this.$1.set(a,0);var b=this.$1.get(a);this.$1.set(a,b+1);this.$2++};b.getEvents=function(){return this.$1};b.getEventsCount=function(){return this.$2};b.toJSON=function(){var a={},b=[];this.$1.forEach(function(c,d){a[d]=c,b.push(d)});return{events_count:JSON.stringify(a),events_name:"['"+b.join("','")+"']"}};return a}();e.exports=a}),null);
__d("R2D2VideoWatchTimeSegment",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getStartTimeMs=function(){return this.$1};b.getEndTimeMs=function(){return this.$2};return a}();e.exports=a}),null);
__d("R2D2VideoState",["R2D2VideoWatchTimeSegment"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.reset()}var c=a.prototype;c.startPlaying=function(a){this.$3||(this.$3=!0,this.$6=a,this.$4||(this.$7=a))};c.stopPlaying=function(a){this.$3&&(this.$3=!1,this.addPlaySegment(this.$6,a),this.$4||this.addPlaySegmentWithSound(this.$7,a))};c.addPlaySegmentHelper=function(a,c,d){__p&&__p();if(c>=d)return;d=new(b("R2D2VideoWatchTimeSegment"))(c,d);var e=!1;for(var f=0;f<a.length;f++)if(a[f].getStartTimeMs()>c){a.splice(f,0,d);e=!0;break}e||a.push(d)};c.addPlaySegment=function(a,b){this.addPlaySegmentHelper(this.$8,a,b)};c.addPlaySegmentWithSound=function(a,b){this.addPlaySegmentHelper(this.$9,a,b)};c.setFinishedPlaying=function(){this.$5=!0};c.getFinishedPlaying=function(){return this.$5};c.setMuted=function(a){this.$4||(this.$4=!0,this.$3&&this.addPlaySegmentWithSound(this.$7,a))};c.setUnmuted=function(a){this.$4&&(this.$4=!1,this.$7=a)};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return this.$2};c.setDurationMs=function(a){this.$2=a};c.getWatchedSegments=function(){return this.$8};c.getWatchedSegmentsWithSound=function(){return this.$9};c.reset=function(){this.$3=!1,this.$4=!0,this.$5=!1,this.$6=0,this.$7=0,this.$8=[],this.$9=[]};return a}();e.exports=a}),null);
__d("R2D2VideoSession",["R2D2VideoState","R2D2VideoEventValidationSummary"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=90*60*1e3;a=function(){"use strict";__p&&__p();function a(a,c,d){this.$4=new(b("R2D2VideoState"))(a.getVideoId(),a.getDurationMs()),this.$5=c,this.$6=d,this.$7=a,this.$8=[],this.$3=!1,this.$9=new(b("R2D2VideoEventValidationSummary"))()}var c=a.prototype;c.addEvent=function(a,b){if(this.$10(a,b))return;this.$11(b);this.$5.processEvent(a,b,this.$4);this.$2=new Date();this.$3=!0;this.$9.addEvent(a);this.$12(a,b)};c.$11=function(a){a=a.playback_duration*g;this.$7.setDurationMs(a);this.$4.setDurationMs(a)};c.$12=function(a,b){var c={};c.Name=a;c.ClientTime=new Date();c.seq_num=b.seq_num;c.video_time_position=b.video_time_position;b.video_last_start_time_position!==void 0&&(c.video_last_start_time_position=b.video_last_start_time_position);this.$8.push(c)};c.$10=function(a,b){if(this.$8.length<1)return!1;var c=this.$8[this.$8.length-1];return c.Name===a&&c.video_time_position==b.video_time_position};c.hasUpdates=function(){return this.$3};c.hasExpired=function(){return this.$2.getTime()<=Date.now()-h};c.recalculateDelta=function(){var a=this.$6.getVideoStateSummary(this.$4),b=this.$6.calculateDelta(a,this.$1);this.$8.forEach(function(a){b.addDebugInfo(a)});this.$8=[];this.$1=a;this.$3=!1;return b};c.getMetadata=function(){return this.$7};c.getDebugInfo=function(){return this.$8};c.getEventValidationSummary=function(){return this.$9};c.getStateVideoDurationMsForTesting=function(){return this.$4.getDurationMs()};return a}();e.exports=a}),null);
__d("R2D2VideoStateMachine",[],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.processEvent=function(a,b,c){__p&&__p();switch(a){case"started_playing":case"unpaused":c.startPlaying(b.video_time_position*g);break;case"finished_playing":c.stopPlaying(b.video_time_position*g);c.setFinishedPlaying();break;case"paused":c.stopPlaying(b.video_time_position*g);break;case"muted":c.setMuted(b.video_time_position*g);break;case"unmuted":c.setUnmuted(b.video_time_position*g);break}};return a}();e.exports=a}),null);
__d("R2D2FinishCountMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="finish_count";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return a.getFinishedPlaying()?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegments();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2PlayCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="play_count";a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return a.getWatchedSegments().length>0&&c.compute(a)>0?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoPlayRetention0to15s",[],(function(a,b,c,d,e,f){__p&&__p();var g="video_play_retention_0_to_15s",h=15,i=0,j=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){__p&&__p();var b=new Array(h-i+1);b.fill(0);a=a.getWatchedSegments();var c=10;for(var d=0;d<a.length;d++){var e=parseInt(a[d].getStartTimeMs()/j,c),f=parseInt(a[d].getEndTimeMs()/j,c);for(var e=e;e<=f;e++)if(e>=i&&e<=h)b[e-i]=1;else if(e>h)break}return b};b.computeDelta=function(a,b){var c=[];if(a.length!==b.length)return c;for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=[],this.$1=new Map()}var b=a.prototype;b.getMetricValue=function(a){a=this.$1.get(a);return a===null||a===void 0?null:a};b.setMetricValue=function(a,b){b!==null&&this.$1.set(a,b)};b.toJSON=function(){var a=this,b={};this.$1.forEach(function(c,d){b[d]=a.$3(c)});if(this.$2.length>0){var c="debug_details";b[c]=JSON.stringify(this.$2)}return b};b.addDebugInfo=function(a){this.$2.push(a)};b.$3=function(a){return Array.isArray(a)?"["+a.toString()+"]":a};return a}();e.exports=a}),null);
__d("R2D2MetricsHelper",[],(function(a,b,c,d,e,f){__p&&__p();a={isPercentageCovered:function(a,b,c){if(b===0)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(e.getStartTimeMs()<=b*a&&e.getEndTimeMs()>=b*a)return!0}return!1}};e.exports=a}),null);
__d("R2D2ViewCountPercentage",["R2D2MetricsHelper"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_";a=function(){"use strict";__p&&__p();function a(a){this.percentFactor=a}var c=a.prototype;c.compute=function(a){return b("R2D2MetricsHelper").isPercentageCovered(this.percentFactor/100,a.getDurationMs(),a.getWatchedSegments())?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g+this.percentFactor};return a}();e.exports=a}),null);
__d("R2D2ViewCount100Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=100;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount10Metric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="true_view_count",h=10*1e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCount25Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=25;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount50Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=50;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount75Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=75;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount95Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=95;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCountRetentionGraphMetric",["R2D2ViewCountMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="retention_graph",h=4,i=40,j=1e3,k=10;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.computeDelta=function(a,b){if(a.length!==b.length)return[];var c=[];for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};c.getMetricName=function(){return g};c.compute=function(a){__p&&__p();var c=a.getDurationMs();if(!isFinite(c)||c<=0)return[];c=new(b("R2D2ViewCountMetric"))().compute(a);var d=a.getDurationMs(),e=parseInt(((d-1)/(j*h)+1)*h,k);e=Math.min(e,i);var f=new Array(e+1);f.fill(0);if(c==0)return f;c=a.getWatchedSegments();for(var a=0;a<c.length;a++){var g=c[a],l=parseInt(e*g.getStartTimeMs()/d,k);g=parseInt(e*g.getEndTimeMs()/d,k);if(l<=g&&l>=0&&g<=e)for(var l=l;l<=g;l++)f[l]=1}return f};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentWithSoundMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_with_sound_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegmentsWithSound();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2ViewCountWithSoundMetric",["R2D2UniqueTimeSpentWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_with_sound_on",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentWithSoundMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummaryCalculator",["R2D2FinishCountMetric","R2D2PlayCountMetric","R2D2UniqueTimeSpentMetric","R2D2VideoPlayRetention0to15s","R2D2VideoStateSummary","R2D2ViewCount100Metric","R2D2ViewCount10Metric","R2D2ViewCount25Metric","R2D2ViewCount50Metric","R2D2ViewCount75Metric","R2D2ViewCount95Metric","R2D2ViewCountMetric","R2D2ViewCountRetentionGraphMetric","R2D2ViewCountWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=[new(b("R2D2UniqueTimeSpentMetric"))(),new(b("R2D2PlayCountMetric"))(),new(b("R2D2ViewCountMetric"))(),new(b("R2D2VideoPlayRetention0to15s"))(),new(b("R2D2FinishCountMetric"))(),new(b("R2D2ViewCountRetentionGraphMetric"))(),new(b("R2D2ViewCount25Metric"))(),new(b("R2D2ViewCount50Metric"))(),new(b("R2D2ViewCount75Metric"))(),new(b("R2D2ViewCount95Metric"))(),new(b("R2D2ViewCount100Metric"))(),new(b("R2D2ViewCountWithSoundMetric"))(),new(b("R2D2ViewCount10Metric"))()]}var c=a.prototype;c.getVideoStateSummary=function(a){var c=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){return c.setMetricValue(b.getMetricName(),b.compute(a))});return c};c.calculateDelta=function(a,c){var d=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){var e=a.getMetricValue(b.getMetricName());if(c!==void 0){var f=c.getMetricValue(b.getMetricName());e=b.computeDelta(e,f)}d.setMetricValue(b.getMetricName(),e)});return d};return a}();e.exports=a}),null);
__d("R2D2Logger",["Banzai","R2D2VideoMetadata","R2D2VideoSession","R2D2VideoStateMachine","R2D2VideoStateSummaryCalculator","VideoPlayerStateBasedLoggingEvents","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=10*1e3,h="video_player",i="r2d2_summary",j="r2d2_event_validation";a=function(){"use strict";__p&&__p();function a(a){this.$4=a,this.$2=new(b("R2D2VideoStateSummaryCalculator"))(),this.$1=new Map()}var c=a.prototype;c.setScriptPath=function(a){this.$3=a};c.$5=function(a,b){return a+":"+b};c.addEvent=function(a,c){var d=this;if(this.shouldNotLogEvent(a))return;var e=this.$5(c.player_instance_key,c.video_id),f=this.$1.get(e);f==null&&(f=new(b("R2D2VideoSession"))(new(b("R2D2VideoMetadata"))(c),new(b("R2D2VideoStateMachine"))(),this.$2),this.$1.set(e,f));f.addEvent(a,c);setTimeout(function(){return d.$6()},g)};c.$6=function(){var a=this,c=[];this.$1.forEach(function(d,e){var f=null;d.hasUpdates()?f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.recalculateDelta(),i):d.hasExpired()&&(c.push(e),f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.getEventValidationSummary(),j));f!==null&&b("Banzai").post(h,f)});c.forEach(function(b){a.$1["delete"](b)})};c.createR2D2SummaryLoggingData=function(a,b,c){a=Object.assign(a.toJSON(),b.toJSON());return{event:c,logData:a,scriptPath:this.$3,source:this.$4}};c.shouldLogForR2D2=function(){return b("gkx")("676938")};c.shouldNotLogEvent=function(a){var c=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);return!c.has(a)};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availability_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",REDISPLAYED:"redisplayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",USER_SELECTED_QUALITY:"user_selected_quality",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",VIDEO_LOGGING_SESSION_WAKEUP:"video_logging_session_wakeup",RETRY_ON_ERROR:"retry_on_error",REPLICA_SWITCH:"replica_switch",REPLICA_SWITCH_SUCCESS:"replica_switch_success",REPLICA_SWITCH_FAILED:"replica_switch_failed",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed",PLAYER_SEEK:"player_seek",VIDEO_CDN_URL_EXPIRED:"video_cdn_url_expired",VIDEO_CDN_URL_REFRESHED:"video_cdn_url_refreshed",VIDEO_CDN_URL_REFRESH_ERROR:"video_cdn_url_refresh_error",LIVE_P2P_PLAYBACK_RELOADING:"live_p2p_playback_reloading",LIVE_P2P_PLAYBACK_PLUGIN_LOADED:"live_p2p_playback_plugin_loaded",LIVE_P2P_PLAYBACK_PLUGIN_FAILED:"live_p2p_playback_plugin_failed",RAID:"raid"})}),null);
__d("VideoPlayerLoggerFallbackReasons",[],(function(a,b,c,d,e,f){e.exports={TIMEOUT:"timeout",FLASH_ERROR:"flash_error",FLASH_UNAVAILABLE:"flash_unavailable"}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",AYMT:"aymt",BALLOT:"ballot",BIZ_ART:"biz_art",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CHANNEL_TAB_LATEST_VIDEOS_CARD:"channel_tab_latest_videos_card",CHANNEL_TAB_LIVE_VIDEO_CARD:"channel_tab_live_video_card",CHANNEL_TAB_ALL_VIDEOS_CARD:"channel_tab_all_videos_card",CHANNEL_TAB_PLAYLISTS_CARD:"channel_tab_playlists_card",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",CORPORATE_CARD_APPLICATION:"corporate_card_application",DIM_SUM:"dim_sum",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",ENTRY_POINT:"entry_point",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VERSE_DESTINATION:"games_verse_destination",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_CLIPS_HOME:"games_video_clips_home",GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:"games_video_clips_home_immersive_player",GAMES_VIDEO_CLIPS_HOME_TOP_CLIPS:"games_video_clips_home_top_clips",GAMES_VIDEO_CLIPS_HOME_MY_CLIPS:"games_video_clips_home_my_clips",GAMES_VIDEO_COMMUNITY_FEED:"games_video_community_feed",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_HIGHLIGHTED_CLIPS_STREAMER_PAGE:"games_video_highlighted_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",INTERN_CRM_CALL_RECORDING:"intern_crm_call_recording",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_LINEAR:"live_linear",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_PYML:"live_pyml",LIVE_RHC:"live_rhc",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVE_MSITE:"live_msite",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",MOVIES_RECOMMENDED_MOVIES_QP:"movies_recommended_movies_qp",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGE_ROLES:"page_roles",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PEOPLE_PORTAL:"people_portal",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CATALOG:"video_home_catalog",TOPIC_SPORTS:"topic_sports",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_EXPLORE_TAB:"explore",VIDEO_HOME_CHANNEL:"video_home_channel",VIDEO_HOME_LIVE_TAB:"video_home_live_tab",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SHOWS_CATALOG:"shows_catalog",SOTTO_CATALOG:"sotto_catalog",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page",RESULTS:"results",SERIES_CARD:"series_card",WATCH_HISTORY:"watch_history",WATCH:"watch",VIDEO_LIST:"video_list",WORK_CAPTIONS_REVIEW:"work_captions_review",MUSIC_VIDEOS_PLAYLISTS_CARD:"music_videos_playlists_card",MEDIA_MATCH_SERVICE:"media_match_service"})}),null);
__d("VideoPlayerLogger",["invariant","Banzai","FBLogger","R2D2Logger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","getVideoBrowserTabId","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("VideoPlayerHTML5Experiments").useBanzaiVitalForLive,j=b("VideoPlayerHTML5Experiments").discerningAbandonStallLogging,k="video_player",l=5e3,m=function(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(h||(h=b("performanceAbsoluteNow")))():Date.now()};a=function(){__p&&__p();function a(a,c){this.$2=a,this.$3=null,this.$5={},this.$4=c,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$6=[],this.$19=0,this.$20=0,this.$11=0,this.$27=!1,this.$16=!1,this.$29(),this.$30(),this.$28=new(b("R2D2Logger"))(this.$2)}var c=a.prototype;c.updateSource=function(a){this.$2=a};c.getSource=function(){return this.$2};c.logEvent=function(a,c){__p&&__p();c=babelHelpers["extends"]({},c,this.$4);c.initial_event=!Object.prototype.hasOwnProperty.call(this.$5,a);Object.prototype.hasOwnProperty.call(c,"time_ms")||(c.time_ms=m());Object.prototype.hasOwnProperty.call(c,"browser_tab_id")||(c.browser_tab_id=b("getVideoBrowserTabId")());Object.prototype.hasOwnProperty.call(c,"time")||(c.time=Math.round(c.time_ms/1e3));c.is_stalling=this.$31();c.error_user_info=this.$32(c.error_user_info);this.$3&&Object.assign(c,this.$3);switch(a){case"paused":case"finished_playing":if(this.$24){var d=this.$24,e=d.getABREvaluation();c.ideal_samples=e.idealSamples;c.conservative_samples=e.conservativeSamples;c.aggressive_samples=e.aggressiveSamples;c.conservative_resolution_constrained_samples=e.conservativeResolutionConstrainedSamples;c.last_quality_switch_reason=e.lastQualitySwitchReason;c.reason&&d.setLastQualitySwitchReason(c.reason)}e=typeof this.$25==="function"&&this.$25();d=typeof this.$26==="function"&&this.$26();typeof d==="number"&&typeof e==="number"&&(c.dropped_frame_count=e,c.total_frame_count=d);break}switch(a){case"started_playing":case"unpaused":this.$27=!0;break;case"finished_playing":case"error":case"paused":this.$27=!1;break}switch(a){case"requested_playing":this.$29();this.$33();this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED;break;case"started_playing":case"unpaused":case"finished_playing":case"cancelled_requested_playing":case"error":case"paused":case"representation_ended":case"heart_beat":if(a==="error"&&b("VideoPlayerExperiments").disableStallLoggingForError)break;if(a=="representation_ended"&&!this.$5.started_playing)break;if(a==="heart_beat"&&(!this.$5.started_playing||!b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTimeV2||this.$31()))break;a==="heart_beat"&&(c.v2_heart_beat=!0);(a==="started_playing"||a==="unpaused")&&(this.$11=c.time_ms,this.$34());if(a==="error"&&c.state!==b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE)break;a==="cancelled_requested_playing"&&(this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED);this.$35();this.$36();(a==="paused"||a==="finished_playing")&&(j&&a==="finished_playing"&&this.$34(),c.recent_stalls_count=this.$37());this.$38();this.$39(c);this.$40(c);this.$30();j&&this.$34();this.$29();break}e={logData:c,event:a,scriptPath:this.$1,source:this.$2};a||b("FBLogger")("video").warn("Missing event name");this.$5[a]=!0;if(this.$2==="animated_image_share")return null;c.ad_client_token||b("VideoPlayerHTML5Experiments").useVitalForEverything||i&&c.playback_is_live_streaming||b("VideoPlayerHTML5Experiments").useVitalForClosing&&(a==="paused"||a==="finished_playing"||a==="heart_beat")||b("VideoPlayerHTML5Experiments").useVitalForOpening&&(a==="unpaused"||a==="started_playing")?b("Banzai").post(k,e,b("Banzai").VITAL):b("Banzai").post(k,e);this.$28.shouldLogForR2D2()&&this.$28.addEvent(a,c);return e};c.setScriptPath=function(a){this.$1=a,this.$28.setScriptPath(a)};c.setFTData=function(a){this.$3=a};c.setABRQualityTracker=function(a){this.$24=a};c.setFrameCountGetters=function(a,b){this.$25=a,this.$26=b};c.startBuffering=function(a){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$33(a)};c.endBuffering=function(){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$36();this.$41();this.$35();this.$38()};c.startInterrupt=function(){this.$42()};c.endInterrupt=function(){this.$36(),this.$41()};c.$31=function(){return this.$15>0};c.$33=function(a){if(this.$31())return;this.$16=this.$27;this.$15=Date.now();a!==void 0&&this.$5.started_playing&&(this.$17=a)};c.$42=function(){if(this.$43())return;this.$21=Date.now()};c.$43=function(){return this.$21>0};c.$44=function(){return!this.$43()?0:Date.now()-this.$21};c.$45=function(){return this.$31()?Date.now()-this.$15:0};c.$36=function(){if(this.$43()){var a=this.$44();this.$22+=a;this.$20+=a;this.$23+=1;this.$19+=1}};c.$41=function(){this.$43()&&(this.$21=0)};c.$30=function(){this.$22=0,this.$23=0,this.$41()};c.$35=function(){__p&&__p();if(this.$31()){var a=this.$45();this.$17!==null&&(this.$18=a);this.$14+=a;this.$8+=a;this.$12++;a>200&&this.$13++;this.$7++;this.$16&&(this.$10+=a,this.$9++,this.$16=!1);j&&this.$6.push(m())}};c.$38=function(){this.$31()&&(this.$15=0)};c.$32=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};c.getCumulativeStallCount=function(){return this.$7};c.getCumulativeInPlayStallCount=function(){return this.$9};c.getStallCount=function(){return this.$12};c.getCumulativeStallTime=function(){return this.$8+this.$45()};c.getCumulativeInPlayStallTime=function(){return this.$10+(this.$16?this.$45():0)};c.getCumulativeInterruptCount=function(){return this.$19};c.getCumulativeInterruptTime=function(){return this.$20+this.$44()};c.$39=function(a){a.stall_time=Math.max(0,this.$14),a.stall_count=this.$12,a.stall_count_200_ms=this.$13,this.$18&&(a.first_stall_time=this.$18,a.first_stall_start_position=this.$17)};c.$40=function(a){a.interrupt_time=Math.max(0,this.$22),a.interrupt_count=this.$23};c.$37=function(){var a=m(),b=a-l;this.$6=this.$6.filter(function(a){return a>=b});j||this.$12>0&&this.$6.push(a);return this.$6.length};c.$29=function(){this.$14=0,this.$15=0,this.$12=0,this.$13=0,this.$17=null,this.$18=0};c.$34=function(){this.$6=[]};c.getFTdata=function(){return this.$3};return a}();a.Sources=b("VideoPlayerLoggerSource");a.Errors=b("VideoPlayerLoggerErrors");a.FallbackReasons=b("VideoPlayerLoggerFallbackReasons");a.ErrorStates=b("VideoPlayerLoggerErrorStates");a.PlayerStates=b("VideoPlayerLoggerPlayerStates");e.exports=a}),null);
__d("VideoPlayerQualitiesArray",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a}function g(a){a=a.length>0?a[a.length-1]:void 0;return a}function h(a){a=a.length>0?a[0]:void 0;return a}function b(a){return a.length>1}function i(a,b){a=g(a);return a!=null&&b!=null&&b===a}function c(a,b){var c=h(a),d=g(a);if(i(a,b)){if(c!=null)return c}else if(d!=null)return d;return void 0}e.exports={ensureVideoPlayerQualitiesArray:a,getHighestVideoQuality:g,getLowestVideoQuality:h,getPreferredVideoQualityForToggleHD:c,hasHDVideoQuality:b,isHDSelectedVideoQuality:i}}),null);
__d("VideoPlayerReasonTransitionHelper",["VideoPlayerReasonTransitionExperiment"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a}var c=a.prototype;c.getReason=function(){return!b("VideoPlayerReasonTransitionExperiment").provideReason?null:this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerShakaBandwidthEstimator",["CacheStorage","Run","VideoPlayerShakaGlobalConfig","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;b("requireWeak")("Shaka",function(a){g=a.util.EWMACacheBandwidthEstimator});var h=null,i=!1;a=function(){"use strict";__p&&__p();function a(){var a=this,c=new(b("CacheStorage"))("localstorage","_video_"),d=c.get("bandwidthEstimate");this.$1={isMockObject:!0,getBandwidth:function(a){return d},getFastMovingBandwidth:function(){return d}};g&&(this.$1=new g(b("VideoPlayerShakaGlobalConfig").getNumber("cache_delay",30),b("VideoPlayerShakaGlobalConfig").getNumber("cache_bandwidth",2e6),function(){b("VideoPlayerShakaGlobalConfig").getBool("shaka_update_bandwidth_cache_on_sample",!1)&&c.set("bandwidthEstimate",a.$1.getBandwidth())},d),this.$1.isMockObject=!1);b("Run").onUnload(function(){c.set("bandwidthEstimate",a.$1.getBandwidth())})}var c=a.prototype;c.getEstimator=function(){return this.$1};a.getInstance=function(){(h===null||h.getEstimator().isMockObject&&g)&&(h=new a());return h};a.getEstimator=function(){return a.getInstance().getEstimator()};a.getBandwidth=function(b){var c=a.getEstimator();return c.getBandwidth(b)};a.getBandwidthByVideoType=function(b){return a.getBandwidth(a.getBandwidthModel(b))};a.getBandwidthModel=function(a){return a?"aggressive":"conservative"};a.isAutoplayBandwidthRestrained=function(c){var d=a.getEstimator(),e;b("VideoPlayerShakaGlobalConfig").getBool("block_autoplay_use_fast_moving_average",!0)&&i?e=d.getFastMovingBandwidth():e=d.getBandwidth();d=c?b("VideoPlayerShakaGlobalConfig").getNumber("live_block_autoplay_bandwidth_threshold",25e4):b("VideoPlayerShakaGlobalConfig").getNumber("block_autoplay_bandwidth_threshold",123034);e===null||e>=d?i=!1:i=!0;return i};return a}();e.exports=a}),null);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};f=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};e.exports={ANALYTICS_SAMPLE_RATE:a,BUCKET_DELIMITER:b,CONTEXT_BUCKET_STRATEGY:c,CONFIG_TYPE:d,EMPTY_RESOLVED_CONTEXTS:f,EMPTY_RESOLVED_MONITORS:g,EMPTY_RESULT_PARAMS:h,ERROR:i,JSON_SUB_SAMPLE_RATE:j,LIST_DELIMITER:k,TYPE:l}}),null);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};b=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};e.exports={getBucketIndices:a,getBucketNames:b,getContextNames:c,getContextValues:d}}),null);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE,h=b("ContextualConfigConstants").LIST_DELIMITER,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigResolvedContextsUtils").getContextNames,k=b("ContextualConfigResolvedContextsUtils").getContextValues,l=["cfg_ver_timestamp","policy_id","version","sample_rate"],m=function(a){return a.join(h)},n=function(a,b){for(var c=0;c<l.length;c++){var d=l[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},o=function(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=m(d.map(function(a){return a.value}))||"INVALID";a.context=m(j(e));a.context_value=m(k(e));a.bucket_name=m(i(e));a.monitor=m(j(b));a.monitor_value=m(k(b))};a=function(a,b,c){var d={sample_rate:g};n(d,a);o(d,b);c&&(d.config_contents=JSON.stringify(a));return d};e.exports=a}),null);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d){this.$2=a,this.$4=b("Random").random()<1/a.sample_rate,this.$3=c,this.$1=d}var c=a.prototype;c.getData=function(){return this.$2};c.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};c.isSampled=function(){return this.$4};return a}();e.exports=a}),null);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){function a(a,b){this.$2=a,this.$1=b}var c=a.prototype;c.createEvent=function(a){var c=this.$1,d=this.$2;a=new(b("ContextualConfigExposureEvent"))(a,d,c);return a};return a}();a=function(a,b){return new g(a,b)};e.exports=a}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){};c=function(a){b("MarauderLogger").log("contextual_config_exposure","",a)};e.exports=b("ContextualConfigExposureLoggerFactory")(a,c)}),null);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){if(a===!1)throw new Error(b)};e.exports=a}),null);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").TYPE;a=function(a){return Array.isArray(a)};c=function(a){return typeof a==="boolean"};d=function(a){return a!=null};f=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};b=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case g.BOOL:case g.FLOAT:case g.INT:case g.STRING:return!0;default:return!1}};e.exports={isArray:a,isBoolean:c,isDefined:d,isKey:f,isInteger:b,isNonEmptyString:h,isNumber:i,isString:j,isType:k}}),null);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(g.BAD_BOOLEAN_FORMAT)}};e.exports=a}),null);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR;a=function(a,c){__p&&__p();var d;switch(c){case g.SAME:var e=b("ContextualConfigParseBoolean")(a);d=function(a){return a===e};break;case g.NULL:d=function(a){return a==null};break;case g.NNULL:d=function(a){return a!=null};break;case g.CATCH_ALL:d=function(a){return!0};break;default:throw new Error(h.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return d(a)}};e.exports=a}),null);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isNumber,j=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,k=function(a){return j.test(a)};a=function(a){(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_NUMBER_FORMAT);a=parseFloat(a);g(i(a),h.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isNumber,j=/^[-\+]?([1-9]\d*|0)$/,k=function(a){return j.test(a)};a=function(a){(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_NUMBER_FORMAT);a=parseInt(a,10);g(i(a),h.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR;a=function(a){return(g||(g=b("ContextualConfigAssert")))(a>0,h.MISMATCH_NUMBER_OF_VALUES)};c=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a===c,h.MISMATCH_NUMBER_OF_VALUES)};d=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a<c,h.BAD_VALUE_ORDER)};e.exports={assertHasValues:a,assertNumberOfValues:c,assertValueOrder:d}}),null);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigPredAssertions").assertNumberOfValues,k=b("ContextualConfigPredAssertions").assertValueOrder,l=b("ContextualConfigValidators").isInteger;a=function(a,c,d,e){__p&&__p();var f=d.map(e?b("ContextualConfigParseInteger"):g||(g=b("ContextualConfigParseFloat"))),m;switch(c){case h.SAME:var n=e?b("ContextualConfigParseInteger")(a):(g||(g=b("ContextualConfigParseFloat")))(a);m=function(a){return e&&!l(a)?!1:a===n};break;case h.NULL:m=function(a){return a==null};break;case h.NNULL:m=function(a){return a!=null};break;case h.CATCH_ALL:m=function(a){return!0};break;case h.COR:j(f.length,2);k(f[0],f[1]);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a>=f[0]&&a<f[1]};break;case h.LT:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a<f[0]};break;case h.LTE:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a<=f[0]};break;case h.EQ:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a===f[0]};break;case h.NEQ:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a!==f[0]};break;case h.GT:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a>f[0]};break;case h.GTE:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a>=f[0]};break;default:throw new Error(i.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return m(a)}};e.exports=a}),null);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/^\/(.+)\/(.*)$/;a=b("ContextualConfigConstants").ERROR;c=function(b){try{var c=b.match(g);if(c!=null)return new RegExp(c[1],c[2]);else return new RegExp(b)}catch(b){throw new Error(a.REGEX_SYNTAX_ERROR)}};e.exports=c}),null);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertHasValues,j=b("ContextualConfigPredAssertions").assertNumberOfValues,k=function(a){if(typeof a!=="string")throw new Error(h.INVALID_VALUE_TYPE);return a},l=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(k(e))}return b};a=function(a,c,d){__p&&__p();var e=l(d),f;switch(c){case g.SAME:f=function(b){return typeof b!=="string"?!1:b===a};break;case g.NULL:f=function(a){return a==null};break;case g.NNULL:f=function(a){return a!=null};break;case g.CATCH_ALL:f=function(a){return!0};break;case g.IN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)!==-1};break;case g.NIN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)===-1};break;case g.CONTAINS:j(e.length,1);f=function(a){return typeof a!=="string"?!1:a.indexOf(e[0])!==-1};break;case g.REGEX:j(e.length,1);var k=b("ContextualConfigParseRegExp")(e[0]);f=function(a){return typeof a!=="string"?!1:k.test(a)};break;default:throw new Error(h.ILLEGAL_STRING_STRATEGY)}return function(a){return f(a)}};e.exports=a}),null);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY;var h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigConstants").TYPE,j=(c=b("ContextualConfigValidators")).isArray,k=c.isDefined;d=c.isKey;var l=c.isNonEmptyString,m=c.isString,n=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.MISSING_BUCKETS)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.MISSING_BUCKETS)},p=d(a),q=function(a){return(g||(g=b("ContextualConfigAssert")))(m(a)&&p(a.toUpperCase()),h.MISSING_BUCKET_STRATEGY)},r=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.ILLEGAL_BUCKET_VALUES)},s=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),h.MISSING_BUCKET_NAME)},t=function(a,c){__p&&__p();var d=c.name;s(d);var e=c.strategy;q(e);c=c.values||[];r(c);switch(a){case i.BOOL:return b("ContextualConfigParsePredBoolean")(d,e);case i.FLOAT:return b("ContextualConfigParsePredNumeric")(d,e,c,!1);case i.INT:return b("ContextualConfigParsePredNumeric")(d,e,c,!0);case i.STRING:return b("ContextualConfigParsePredString")(d,e,c);default:throw new Error(h.UNKNOWN_BUCKET_DEFINITION)}},u=function(a,b){n(b);var c=b.name;s(c);return{name:c,pred:t(a,b)}};f=function(a,b){o(b);return b.map(function(b){return u(a,b)})};e.exports=f}),null);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ContextualConfigConstants").ERROR,i=(a=b("ContextualConfigValidators")).isArray,j=a.isDefined,k=a.isNonEmptyString,l=a.isType,m=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.BAD_CONTEXT_IDENTIFIER)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a)&&a.length>0,h.MISSING_CONTEXT_IN_CONFIG)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_CONTEXT_IDENTIFIER)},p=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),h.BAD_CONTEXT_IDENTIFIER)},q=function(a){m(a);var c=a.name,d=a.type;a=a.buckets;o(c);p(d);return{name:c,type:d,buckets:b("ContextualConfigParseContextBuckets")(d,a)}};c=function(a){n(a);return a.map(q)};e.exports=c}),null);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0};e.exports=a}),null);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigConstants").TYPE,k=b("ContextualConfigValidators").isString,l=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.INVALID_STRING)};a=function(a,c){l(c);switch(a){case j.BOOL:return b("ContextualConfigParseBoolean")(c);case j.FLOAT:return(h||(h=b("ContextualConfigParseFloat")))(c);case j.INT:return b("ContextualConfigParseInteger")(c);case j.STRING:return c;default:throw new Error(i.INVALID_VALUE_TYPE)}};e.exports=a}),null);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ContextualConfigConstants").ERROR,j=(a=b("ContextualConfigValidators")).isArray,k=a.isDefined,l=a.isNonEmptyString,m=a.isType,n=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),i.MISSING_RESULTS)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.BAD_CONTEXT_VALUE)},p=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),i.BAD_CONTEXT_VALUE)},q=function(a){return(g||(g=b("ContextualConfigAssert")))(m(a),i.BAD_CONTEXT_VALUE)},r=function(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.name===b)return e.type}throw new Error(i.UNDECLARED_OUTPUT_PARAM)},s=function(a){return function(c){o(c);var d=c.name;p(d);var e=r(a,d);q(e);c=(h||(h=b("ContextualConfigParseResultParamValue")))(e,c.value);return{name:d,type:e,value:c}}};c=function(a,b){n(b);return b.map(s(a))};e.exports=c}),null);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=function(a,c){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigIsEqualParams")(a,c),h.RESULTS_VECTOR_SIZE_MISMATCH)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c.map(function(b,c){return{name:a[c].name,value:b}}));i(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f){"use strict";a=b("ContextualConfigConstants").ERROR;c=function(c,d){try{return b("ContextualConfigParseDenseResultParams")(c,d)}catch(b){throw new Error(a.MISSING_DEFAULT_VALUE)}};e.exports=c}),null);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ContextualConfigConstants").ERROR,i=(a=b("ContextualConfigValidators")).isArray,j=a.isDefined,k=a.isNonEmptyString,l=a.isType,m=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.BAD_CONTEXT_IDENTIFIER)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.BAD_MONITORED_CONTEXTS)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_CONTEXT_IDENTIFIER)},p=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),h.BAD_CONTEXT_IDENTIFIER)},q=function(a){m(a);var b=a.name;a=a.type;o(b);p(a);return{name:b,type:a}};c=function(a){n(a);return a.map(q)};e.exports=c}),null);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isArray,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.MISSING_OUTPUTS_DEFINITION)},m=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_OUTPUT_TYPE)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.BAD_OUTPUT_NAME)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(p(a),h.DUPLICATE_OUTPUT_NAME)},p=function(a){__p&&__p();var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},q=function(a){n(a.name);m(a.type);return a};a=function(a){l(a);a=a.map(q);o(a);return a};e.exports=a}),null);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigValidators").isArray,k=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),i.MISSING_VECTOR)},l=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a===c,i.RESULTS_VECTOR_SIZE_MISMATCH)},m=function(a,c){l(a.length,c.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=c[d];(h||(h=b("ContextualConfigParseResultParamValue")))(e,f)}},n=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};a=function(a,b,c){k(c);b=n(b);var d=a.length;l(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;m(a,c.slice(f,f+d))}return c};e.exports=a}),null);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};a=function(a,b,c){__p&&__p();var d=null;a=a.map(function(a){__p&&__p();var e=a.name,f={name:e};if(d!=null)return f;var i;c[e]!=null?i=c[e]:b[e]!=null?i=b[e]():i=null;f.value=i;if(a.buckets!=null){e=h(a.buckets,i);if(e==null){d=new Error(g.MISSING_BUCKET_MATCH);return f}a=e[0];i=e[1];f.bucketName=a;f.bucketIndex=i}return f});return[d,a]};e.exports=a}),null);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;var h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigResolvedContextsUtils").getBucketIndices,k=b("ContextualConfigValidators").isDefined,l=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.BAD_CONFIG)},m=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},n=function(a,c,d,e){try{c=c.slice(d,d+a.length);return[null,b("ContextualConfigParseDenseResultParams")(a,c)]}catch(a){return[a,e]}},o=function(a,c,d){try{d=d.reduce(function(c,d,e){(g||(g=b("ContextualConfigAssert")))(e<a.length,"Auxillery index out of range.");return c+a[e]*d},0);return[null,d*c]}catch(a){return[a,-1]}};c=function(){__p&&__p();function c(a,c){__p&&__p();l(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);var d=b("ContextualConfigParseContexts")(a.contexts);this.aux=m(d);this.contexts=d;this.defaults=b("ContextualConfigParseDenseDefaults")(c,a.vectorDefaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=c;this.vector=b("ContextualConfigParseVector")(c,d,a.vector)}var d=c.prototype;d.resolve=function(b){try{return this.unsafeResolve(b)}catch(b){return[b,this.defaults,a,h]}};d.unsafeResolve=function(a){__p&&__p();var c=this.aux,d=this.globalContextProviders,e=this.contexts,f=this.defaults,g=this.monitors,i=this.outputs,k=this.vector;e=b("ContextualConfigResolveContexts")(e,d,a);var l=e[0];e=e[1];if(l!=null)return[l,f,e,h];l=o(c,i.length,j(e));c=l[0];l=l[1];if(c!=null)return[c,f,e,h];c=n(i,k,l,f);i=c[0];k=c[1];if(i!=null)return[i,k,e,h];l=b("ContextualConfigResolveContexts")(g,d,a);f=l[0];c=l[1];return f!=null?[f,k,e,h]:[null,k,e,c]};return c}();e.exports=c}),null);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,i=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,j=b("ContextualConfigConstants").ERROR,k=b("ContextualConfigValidators").isDefined,l=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),j.BAD_CONFIG)};a=function(){__p&&__p();function a(a,c){l(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.values=b("ContextualConfigParseResultParams")(c,a.values)}var c=a.prototype;c.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,h,i]}};c.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.monitors,e=this.values;d=b("ContextualConfigResolveContexts")(d,c,a);c=d[0];a=d[1];return c!=null?[c,e,h,i]:[null,e,h,a]};return a}();e.exports=a}),null);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){__p&&__p();var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(var e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f};e.exports=a}),null);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=function(a,c){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigIsEqualParams")(a,c),h.MISSING_DEFAULT_VALUE)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c);i(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigParseResultParams","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isArray,j=b("ContextualConfigValidators").isDefined,k=b("ContextualConfigValidators").isNonEmptyString,l=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.MISSING_TABLE)},m=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.MISSING_TABLE)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.MISSING_TABLE_ITEM_BUCKET)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.MISSING_TABLE_ITEM_VALUES)},p=function(a,c){m(c);var d=c.bucket;c=c.values;n(d);o(c);return{bucket:d,values:b("ContextualConfigParseResultParams")(a,c)}};a=function(a,b){l(b);return b.reduce(function(b,c){c=p(a,c);b[c.bucket]=c.values;return b},{})};e.exports=a}),null);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(a=b("ContextualConfigConstants")).BUCKET_DELIMITER;c=a.EMPTY_RESOLVED_CONTEXTS;d=a.EMPTY_RESOLVED_MONITORS;var i=a.ERROR,j=b("ContextualConfigResolvedContextsUtils").getBucketNames,k=b("ContextualConfigValidators").isDefined,l=[],m=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.BAD_CONFIG)};f=function(){__p&&__p();function a(a,c){m(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.contexts=b("ContextualConfigParseContexts")(a.contexts);this.defaults=b("ContextualConfigParseDefaults")(c,a.defaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.table=b("ContextualConfigParseTable")(c,a.table)}var e=a.prototype;e.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,c,d]}};e.unsafeResolve=function(a){__p&&__p();var c=this.globalContextProviders,d=this.contexts,e=this.defaults,f=this.monitors,g=this.table;d=b("ContextualConfigResolveContexts")(d,c,a);var i=d[0];d=d[1];if(i!=null)return[i,e,d,[]];i=j(d).join(h);g=g[i]||l;i=b("ContextualConfigMergePartialResultParams")(e,g);e=b("ContextualConfigResolveContexts")(f,c,a);g=e[0];f=e[1];return g!=null?[g,i,d,[]]:[null,i,d,f]};return a}();e.exports=f}),null);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ContextualConfigConstants").CONFIG_TYPE,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigValidators").isDefined,k=[1],l=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a)&&j(a.version),i.BAD_CONFIG)},m=function(a){return(g||(g=b("ContextualConfigAssert")))(k.indexOf(a)!==-1,i.UNSUPPORTED_CONFIG_VERSION)};a=function(a,c){l(a);m(a.version);switch(a.cctype){case h.DENSE:return new(b("DenseContextualConfig"))(a,c);case h.MULTI_OUTPUT_RESOLVED:return new(b("MultiOutputResolvedContextualConfig"))(a,c);case h.TABLE:return new(b("TableContextualConfig"))(a,c);default:throw new Error(i.UNKNOWN_CONFIG_TYPE)}};e.exports=a}),null);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";a=function(a){};e.exports=a}),null);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR;a=function(){__p&&__p();function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var c=a.prototype;c.get=function(a,c){try{a=this.$1[a];if(typeof a!==typeof c){b("ContextualConfigWarn")(g.REQUESTED_PARAM_NOT_FOUND);return c}return a}catch(a){b("ContextualConfigWarn")(a.message);return c}};c.getParams=function(){return this.$2};return a}();e.exports=a}),null);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").EMPTY_RESULT_PARAMS;a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,i,g,h]};return a}();e.exports=a}),null);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE;var g=1/a,h=1;c=function(){__p&&__p();function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var c=a.prototype;c.$5=function(){if(this.$1)return this.$1;var a=this.$2,c=this.$4;try{c=b("ContextualConfigParseConfig")(c,a)}catch(a){c=new(b("ErrorContextualConfig"))(a)}this.$1=c;return c};c.$6=function(a){var c=this.isDebugLoggingEnabled,d=this.$4,e=this.$3;e=!e&&b("Random").random()<g;e&&(this.$3=!0);d=b("ContextualConfigCollateExposureData")(d,a,e);a=b("ContextualConfigExposureLogger").createEvent(d);a.log(c)};c.resolve=function(a){a===void 0&&(a={});var c=this.$1||this.$5();c=c.resolve(a);this.$6(c);return new(b("ContextualConfigResult"))(c[h])};return a}();e.exports=c}),null);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=Object.assign({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerShakaConfig",["ContextualConfig","VideoPlayerShakaConfigContextProvider","VideoPlayerShakaExperimentsConfig","VideoPlayerShakaExposureLogger","VideoPlayerShakaParsedContextualConfig","VideoPlayerShakaSessionConfigOverride"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerShakaParsedContextualConfig").getStaticConfig()||null,h;a=function(){var a=b("VideoPlayerShakaParsedContextualConfig").getRawContextualConfig();h=a?new(b("ContextualConfig"))(a):null};b("VideoPlayerShakaParsedContextualConfig").addListener("configChange",a);a();c=function(){"use strict";__p&&__p();function a(a,c){this.$1=new(b("VideoPlayerShakaConfigContextProvider"))(),this.$2=c||null,this.$3=null,a&&this.$1.setAllContexts(a),h!==null&&(this.$3=h.resolve(a||{}))}var c=a.prototype;c.setContext=function(a,b){if(h===null)return null;var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&(this.$3=h.resolve(a))};c.setOverrideConfig=function(a){this.$2=a};c.getBool=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="boolean"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getNumber=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="number"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getString=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="string"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.$4=function(a,c){if(!!this.$2&&typeof this.$2[a]===typeof c)return this.$2[a];if(b("VideoPlayerShakaSessionConfigOverride")&&typeof b("VideoPlayerShakaSessionConfigOverride")[a]===typeof c)return b("VideoPlayerShakaSessionConfigOverride")[a];if(g!==null&&typeof g[a]===typeof c)return g[a];return this.$3?this.$3.get(a,c):null};return a}();e.exports=c}),null);
__d("VideoPlayerUIComponentDrawer",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$VideoPlayerUIComponentDrawer1=b;d.$VideoPlayerUIComponentDrawer2=c;d.$VideoPlayerUIComponentDrawer4=!1;return d}var c=b.prototype;c.reserve=function(){if(this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!0;this.emit("reserve")};c.release=function(){if(!this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!1;this.emit("release")};c.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1};c.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2};c.setHeight=function(a){this.$VideoPlayerUIComponentDrawer2=a,this.emit("heightChange")};c.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b==="reposition"&&(this.$VideoPlayerUIComponentDrawer3=e[0]);(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};c.reposition=function(){this.emit("reposition",this.$VideoPlayerUIComponentDrawer3)};c.isReserved=function(){return this.$VideoPlayerUIComponentDrawer4};return b}(b("EventEmitter"));a.priorities={EmbeddedControls:0,AdBreakStartingIndicator:1,ClickForMore:2,PollCard:5,GameshowCard:6,Subtitles:3,SphericalMouseAnimation:4};e.exports=a}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a.getPriority()-b.getPriority()};a=function(){__p&&__p();function a(){this.$1=[]}var c=a.prototype;c.register=function(a,c){__p&&__p();var d=this;c=new(b("VideoPlayerUIComponentDrawer"))(a,c);c.addListener("reserve",function(){return d.$2(a)});c.addListener("release",function(){return d.$2(a)});c.addListener("heightChange",function(){return d.$2(a)});this.$1.push(c);this.$1.sort(g);return c};c.$2=function(a){var b=0;this.$1.forEach(function(c){c.getPriority()>a&&c.emit("reposition",b),c.isReserved()&&(b+=c.getHeight())})};return a}();e.exports=a}),null);
__d("VideoPlayerVolumeSettings",["WebStorage"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(){"use strict";__p&&__p();function a(){this.$1=1,this.$2=1}var c=a.prototype;c.getVolume=function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a){a=a.getItem("videoPlayerControllerVolume");return a===null||isNaN(+a)?1:+a}return this.$1};c.getSessionVolume=function(){return this.$1};c.setSessionVolume=function(a){this.$1=a};c.saveVolume=function(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&c.setItem("videoPlayerControllerVolume",a);this.$1=a};c.getLastVolumeBeforeMute=function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a){a=a.getItem("videoPlayerControllerLastVolumeBeforeMute");return a===null||isNaN(+a)?1:+a}return this.$2};c.saveLastVolumeBeforeMute=function(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&c.setItem("videoPlayerControllerLastVolumeBeforeMute",a);this.$2=a};return a}();c=new a();e.exports=c}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();var g=42;a=function(){"use strict";__p&&__p();function a(a,b,c,d){d===void 0&&(d=!1),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var c=a.prototype;c.feedViewabilityPercentage=function(){var a=b("UITinyViewportAction").isTinyHeight();return this.$5(!a)};c.viewabilityPercentage=function(){return this.$5(!1)};c.isTopElement=function(a,b,c){b=document.elementFromPoint(b,c);return b===a||!!a&&a.contains(b)||!!b&&b.contains(a)};c.$5=function(a){__p&&__p();var c=b("getViewportDimensions")(),d=c.width;c=c.height;var e=this.$4&&this.$3?this.$3:this.$1;e=b("getElementPosition")(e);if(e.width===0||e.height===0)return 0;var f=e.x,h=e.x+e.width,i=e.y,j=e.y+e.height;a=a?g:0;if(h<=0||f>=d||j<=a||i>=c)return 0;h=Math.min(h,d)-Math.max(f,0);d=Math.min(j,c)-Math.max(i,a);f=h*d*100/(e.width*e.height);return f};return a}();e.exports=a}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","ViewabilityVideoElement","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("VideoPlayerExperiments").viewabilityPollingRate,i=new Map([[0,0],[25,25],[50,50],[75,75],[100,100]]);a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$12=function(a){if(!f.$14())return;a=(g||(g=b("performanceNow")))();a-f.$1>h&&(f.$10(),f.$1=a);f.$2=window.requestAnimationFrame(f.$12)};this.$9=function(){f.$13()};this.$8=function(){f.setLastLoggedViewability(f.getViewability()),f.$11()};this.$1=0;this.$4=a;this.$5=new(b("ViewabilityVideoElement"))(c,d,e,this.$4.isSpherical());this.$6()}var c=a.prototype;c.getViewability=function(){var a;this.$4.isInline()?a=this.$5.feedViewabilityPercentage():a=this.$5.viewabilityPercentage();return this.$7(a)};c.setLastLoggedViewability=function(a){this.$3=a};c.$6=function(){this.$4.addListener("beginPlayback",this.$8),this.$4.addListener("pausePlayback",this.$9)};c.$10=function(){var a=this.getViewability();a!=this.$3&&(this.$4.logEvent("viewability_changed",{current_viewability_percentage:a,last_viewability_percentage:this.$3}),this.$3=a)};c.$11=function(){this.$2=window.requestAnimationFrame(this.$12)};c.$13=function(){window.cancelAnimationFrame(this.$2)};c.$14=function(){return this.$4.getVideoAPI().isPaused()!==void 0?!this.$4.getVideoAPI().isPaused():this.$4.getState()==="playing"};c.$7=function(a){__p&&__p();var b=-2;if(a<=0)return b;for(var c=i,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];a>=g&&(b=f)}return b};return a}();e.exports=a}),null);
__d("XVideoDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1}})}),null);
__d("canVideoPlayType",["DOM"],(function(a,b,c,d,e,f){var g=null;function a(a){g=g||b("DOM").create("video");return!("canPlayType"in g)?"":g.canPlayType(a)}e.exports=a}),null);
__d("forwardEvent",[],(function(a,b,c,d,e,f){function a(a,b,c){return a.addListener(c,function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b.emit.apply(b,[c].concat(d))})}e.exports=a}),null);
__d("getVideoComponentName",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(a!=null){var b=null;a.prototype&&a.prototype.constructor?b=a.prototype.constructor:a.constructor&&(b=a.constructor);if(b&&b.name)return b.name;if(typeof a.toString==="function")return a.toString()}return null}e.exports=a}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("VideoPlayerController",["csx","cx","invariant","Arbiter","Banzai","Bootloader","CSS","CurrentUser","CVCv3VideoControllerHelper","DelegatedVideoPriorityAdjuster","DOM","DOMDimensions","DOMQuery","ErrorUtils","EventEmitter","FBLogger","FullScreen","JSLogger","LiveVideoCopyrightActionQueryWebGraphQLQuery","LiveVideoCopyrightActionSubscription","MediaController","Parent","Run","ScriptPath","SparkMD5","SphericalVideoPlayerEvents","SubscriptionsHandler","TahoeVariables","URI","VideoAsyncLoggerHelper","VideoChannelViewChainLengthManager","VideoControllerPlayingStateEmitter","VideoLiveTrace","VideoMimeTypes","VideoPermalinkURI","VideoPlaybackQuality","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerConnectionQuality","VideoPlayerExperiments","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerQualitiesArray","VideoPlayerReasonTransitionHelper","VideoPlayerResizeSettings","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","VideoPlayerStateBasedLoggingEvents","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVolumeSettings","VideosRenderingInstrumentation","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideoVisibilityObserver","ViewportTrackingHelper","Visibility","WebGraphQL","XVideoDataController","canVideoPlayType","clearInterval","clearTimeout","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getVideoComponentName","getViewportDimensions","gkx","guid","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","promiseDone","requireWeak","setInterval","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k,l,m,n=b("VideoAsyncLoggerHelper").operateAsync,o=b("VideoPlaybackQuality").getDroppedFrames,p=b("VideoPlaybackQuality").getTotalFrames,q=b("VideoPlayerQualitiesArray").getHighestVideoQuality,r=b("VideoPlayerQualitiesArray").getPreferredVideoQualityForToggleHD,s=b("VideoPlayerQualitiesArray").isHDSelectedVideoQuality,t=null;b("requireWeak")("LiveVideoPlayerStore",function(a){return t=a});var u=5,v=1;function w(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(j||(j=b("performanceAbsoluteNow")))():Date.now()}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e,f=c.video_id,g=c.video_ids,h=c.video_url,i=c.video_urls,j=c.chaining_token,m=c.video_channel_id,n=c.video_list_id,q=c.reaction_video_channel_type,r=c.reaction_video_channel_subtype,s=c.source,t=c.ad_client_token,u=c.should_autoplay,v=c.immediateplay_reason,x=c.player_version,y=c.autoplay_setting,z=c.apiModule,A=c.apiConfig,B=c.useInlineFallback,C=c.accessToken,D=c.projection,E=c.playerOrigin,F=c.playerSuborigin,G=c.playerSuboriginDerived,H=c.isBroadcast,I=c.isInstreamAd,J=c.customLiveManifestUrlParams,K=c.components,L=c.trackingCodes,M=c.alwaysShowCaptions;c.disableLogging;var N=c.subtitleBackgroundColor,O=c.subtitleBackgroundOpacity,P=c.subtitleTextColor,Q=c.subtitleTextSize,R=c.video_path,S=c.customLoggingProps,T=c.broadcasterOrigin,U=c.allowCrossPageTransition,V=c.isReactPlayer,W=c.offsettype,X=c.offsetvalue,aa=c.upstreamPlayerSource,ba=c.shouldLogVideoViewability,Y=c.livingRoomSessionID,ca=c.broadcastId,da=c.isAdsPreview,ea=c.isInjectedAds,fa=c.isBroadcaster,ga=c.keepPlayingOnDialog,ha=c.isChainedLivingRoom,Z=c.liveLinearChannelId,ia=c.isReplayLivingRoom,$=c.device_id;c=c.feedPosition;var ja=d.root_element,ka=d.container_element;d=d.video_element;e=a.call(this)||this;e.$VideoPlayerController22=!1;e.$VideoPlayerController40=!1;e.$VideoPlayerController79=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);e.$VideoPlayerController80=0;e.$VideoPlayerController112=[];e.$VideoPlayerController119=null;e.$VideoPlayerController120=null;e.$VideoPlayerController121=new(b("EventEmitter"))();e.$VideoPlayerController126=null;e.emitHeartbeat=function(){if(!e.isState("playing")||!e.getVideoNode()){e.stopHeartbeat();e.$VideoPlayerController20.stopUnifiedCVC();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&e.isBuffering())return;e.getVideoAPI().logHeartbeat()};e.$VideoPlayerController168=function(){if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){e.$VideoPlayerController167();e.$VideoPlayerController101=b("setTimeout")(e.$VideoPlayerController168,e.$VideoPlayerController107);return}var a=e.getVideoAPI().isPaused()!==void 0?!e.getVideoAPI().isPaused():e.getState()==="playing";a&&(e.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+e.$VideoPlayerController107+"ms.",isPlayback:e.isPlayRequestPending()}),e.$VideoPlayerController167(),e.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT))};e.$VideoPlayerController116=b("guid")();e.$VideoPlayerController48=0;e.$VideoPlayerController26=0;e.$VideoPlayerController25=new Map();e.$VideoPlayerController82={};S&&e.setLogEntryPropertyGetters(S);if(u===void 0)throw new Error("Must pass should_autoplay to "+e.constructor.name+"!");e.$VideoPlayerController117=c;e.$VideoPlayerController24=new(b("VideoPlayerUIComponentDrawerController"))();e.$VideoPlayerController13=new Map();e.$VideoPlayerController60=D;e.$VideoPlayerController1=C;e.$VideoPlayerController70=!!u;e.$VideoPlayerController71=v;e.$VideoPlayerController8=y;e.$VideoPlayerController2=t;e.$VideoPlayerController55=!1;e.$VideoPlayerController92=d;e.$VideoPlayerController69=ja;e.$VideoPlayerController15=ka;e.$VideoPlayerController35=!1;e.$VideoPlayerController36=!1;e.$VideoPlayerController59=x;e.$VideoPlayerController91=f||g&&g[0]||"";e.$VideoPlayerController94=h||i&&i[0];e.$VideoPlayerController93=R;e.$VideoPlayerController11=j;e.$VideoPlayerController88=m;e.$VideoPlayerController89=n;e.$VideoPlayerController56=E;e.$VideoPlayerController57=F||s;e.$VideoPlayerController58=(S=G)!=null?S:null;e.$VideoPlayerController33=H;e.$VideoPlayerController41=I;e.$VideoPlayerController19=(c=J)!=null?c:null;e.$VideoPlayerController84=L;e.$VideoPlayerController3=M;e.$VideoPlayerController74=N||"";e.$VideoPlayerController75=O==void 0?0:O;e.$VideoPlayerController76=P||"";e.$VideoPlayerController77=Q==void 0?0:Q;e.$VideoPlayerController31=b("uniqueID")();e.$VideoPlayerController66=q;e.$VideoPlayerController67=r;e.$VideoPlayerController120=ca;e.$VideoPlayerController122=da;e.$VideoPlayerController123=ea;e.$VideoPlayerController124=ga;e.$VideoPlayerController5=z;e.$VideoPlayerController4=A;e.$VideoPlayerController78=e.$VideoPlayerController5.getStartMutedFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController45=e.$VideoPlayerController5.getStreamTypeFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController44=e.$VideoPlayerController5.getIsServableViaFbmsFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController42=e.$VideoPlayerController5.getIsPlayingLiveFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController43=e.$VideoPlayerController5.getIsGamingFromConfig(e.$VideoPlayerController4);e.isLiveVideo()&&e.$VideoPlayerController5.getIsLiveTraceEnabledOnPlayer(e.$VideoPlayerController4)&&e.$VideoPlayerController120&&(e.$VideoPlayerController119=new(b("VideoLiveTrace"))(e.$VideoPlayerController120,e.$VideoPlayerController116,b("CurrentUser").getAccountID()));e.$VideoPlayerController114=!!ba;e.$VideoPlayerController38=e.$VideoPlayerController5.getIsSpherical(e.$VideoPlayerController4);D={is_ad:e.isAd(),is_live:e.$VideoPlayerController42,player_format:e.$VideoPlayerController128(e.isFullscreen(),s)||"unknown",connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),is_spherical:e.$VideoPlayerController38,content_category:"general",latency_level:"normal",servable_via_fbms:void 0,servable_via_fmbs:void 0};b("gkx")("967666")?D.servable_via_fmbs=!1:D.servable_via_fbms=!1;e.$VideoPlayerController14=new(b("VideoPlayerShakaConfig"))(D);e.$VideoPlayerController115=Y;e.$VideoPlayerController125=ha;e.$VideoPlayerController127=ia;e.$VideoPlayerController126=Z;e.$VideoPlayerController20=new(b("CVCv3VideoControllerHelper"))(babelHelpers.assertThisInitialized(e));e.$VideoPlayerController20.setHandlePlayedFor3SecondsEvent(b("gkx")("1168511"));e.$VideoPlayerController20.setLivingRoomSessionID(Y);e.$VideoPlayerController20.setLinearChannelID(Z);e.$VideoPlayerController45==="progressive"?e.$VideoPlayerController107=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout:e.isLiveVideo()?e.$VideoPlayerController107=b("VideoPlayerExperiments").liveBufferingErrorTimeout:e.$VideoPlayerController107=b("VideoPlayerExperiments").bufferingErrorTimeout;b("VideoPlayerExperiments").createVideoVisibilityObserver&&e.$VideoPlayerController129();e.$VideoPlayerController37=e.$VideoPlayerController5.getIsFacecastAudioFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController86=!!B;e.$VideoPlayerController99=new Set();e.$VideoPlayerController100=T;e.$VideoPlayerController101=null;e.$VideoPlayerController102=!!U;e.$VideoPlayerController103=!!V;e.$VideoPlayerController104=e.getContainerNode().style.paddingBottom;e.$VideoPlayerController105=W;e.$VideoPlayerController106=X;e.$VideoPlayerController108=!1;e.$VideoPlayerController109=!1;e.$VideoPlayerController85=aa;e.$VideoPlayerController23=b("Arbiter").subscribe("DOM/destroy",function(a,c){if(!b("Parent").bySelector(e.getVideoNode(),c))return;e.pause("unloaded");e.destroy()});e.$VideoPlayerController18=0;C=(k||(k=b("URI"))).getRequestURI();u=b("VideoPermalinkURI").parse(C);v=parseFloat(C.getQueryData().t);y=u?u.video_id==e.$VideoPlayerController91:!1;v&&y&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.startTimestamp=v);b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(babelHelpers.assertThisInitialized(e)));e.$VideoPlayerController14.getBool("oz_www_safely_log_player_seeks",!1)&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.seekHandler=function(a){e.isState("playing")?(e.pause(),e.seek(a),e.play("seek_initiated")):e.seek(a)});e.$VideoPlayerController113=new(b("DelegatedVideoPriorityAdjuster"))();b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.streamPriorityAdjuster=e.$VideoPlayerController113);e.$VideoPlayerController17=null;e.$VideoPlayerController53=null;e.$VideoPlayerController72=s;e.$VideoPlayerController50=$?new(b("VideoPlayerLogger"))(s,{device_id:$}):new(b("VideoPlayerLogger"))(s);e.$VideoPlayerController72==="tahoe"&&e.focusOnContainerNode();e.collectFeedTrackingData();e.$VideoPlayerController50.setScriptPath(b("ScriptPath").getScriptPath());e.$VideoPlayerController50.setFrameCountGetters(function(){return e.$VideoPlayerController92!=null?o(e.$VideoPlayerController92):null},function(){return e.$VideoPlayerController92!=null?p(e.$VideoPlayerController92):null});e.$VideoPlayerController62=b("VideosRenderingInstrumentation").retrieveRenderTime(e.getRootNode());e.$VideoPlayerController61=w()-e.$VideoPlayerController62;A&&(A.subtitleDrawer=e.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0));e.$VideoPlayerController73="loading";e.$VideoPlayerController130(!1);if(e.$VideoPlayerController5.isImplementationUnavailable(e.$VideoPlayerController86)){e.$VideoPlayerController131();return babelHelpers.assertThisInitialized(e)}else e.$VideoPlayerController132();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause("unloaded"),e.destroy()});e.$VideoPlayerController7=new(b("SubscriptionsHandler"))();e.$VideoPlayerController70&&(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad?e.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return e.$VideoPlayerController133()})):e.$VideoPlayerController133());e.$VideoPlayerController21=0;e.$VideoPlayerController68=!1;e.$VideoPlayerController27=e.$VideoPlayerController134();e.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause("unloaded"),e.destroy()}));e.$VideoPlayerController135()||e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){if(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight"){c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!1)},"VideoPlayerController");this.$VideoPlayerController21=this.$VideoPlayerController21+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController21>0){a=this.$VideoPlayerController72==="tahoe"&&this.isLiveVideo();this.isState("playing")&&!(a&&b("TahoeVariables").neverAutoPauseLive)&&!this.$VideoPlayerController124&&(this.pause("page_visibility_initiated"),this.$VideoPlayerController68=!0)}}}.bind(babelHelpers.assertThisInitialized(e))),b("Arbiter").subscribe("layer_hidden",function(a,c){(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight")&&(b("VideoPlayerExperiments").addViewabilityFixEnabled?this.$VideoPlayerController21=Math.max(0,this.$VideoPlayerController21-1):this.$VideoPlayerController21=this.$VideoPlayerController21-1,this.$VideoPlayerController21===0&&(c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!0)},"VideoPlayerController"),this.$VideoPlayerController68&&(this.play("page_visibility_initiated"),this.$VideoPlayerController68=!1)))}.bind(babelHelpers.assertThisInitialized(e))));e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){return e.$VideoPlayerController136(a,b)}));e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("share_dialog_closed",function(a,c){if(!c.root)return;if(!e.$VideoPlayerController69)return;b("ViewportTrackingHelper").isDescendantOf(e.$VideoPlayerController69,c.root)&&e.mute()}));b("Run").onLeave(function(){if(e.$VideoPlayerController102||b("VideoPlayerExperiments").persistentWNSEnabled&&e.$VideoPlayerController72==="watch_scroll")return;e.cleanOnLeave()});e.$VideoPlayerController12=K||[];e.$VideoPlayerController12.forEach(function(a){var c=b("getVideoComponentName")(a)||"<MalformedComponent>";a&&typeof a.enable==="function"?b("VideoPlayerExperiments").enableComponentGuards?(l||(l=b("ErrorUtils"))).applyWithGuard(a.enable,a,[babelHelpers.assertThisInitialized(e)],null,"VideoPlayerController Component Enable Guard: "+c):a.enable(babelHelpers.assertThisInitialized(e)):b("FBLogger")("video").warn("no_enable_method_on_component: %s",c)});e.$VideoPlayerController52=1;e.$VideoPlayerController95=!1;e.$VideoPlayerController92&&(e.shouldCalculateViewability()?(e.$VideoPlayerController95=b("VideoPlayerExperiments").enableViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController114,e.isInstreamAd()&&(e.$VideoPlayerController95=e.$VideoPlayerController95&&(b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController114))):e.$VideoPlayerController95=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic);e.$VideoPlayerController95&&e.$VideoPlayerController92&&(e.$VideoPlayerController96=new(b("VideoViewabilityLogging"))(babelHelpers.assertThisInitialized(e),e.$VideoPlayerController92,e.$VideoPlayerController69,e.$VideoPlayerController15));e.$VideoPlayerController32=!1;e.$VideoPlayerController34=fa;e.isLiveVideo()&&(e.$VideoPlayerController16=b("LiveVideoCopyrightActionSubscription").subscribe(e.getVideoID(),function(a){__p&&__p();var b=a.live_video_copyright_action_subscribe.action.toLowerCase();switch(b){case"block":if(e.$VideoPlayerController34)break;e.emit("blockVideo");e.destroy();break;case"mute":e.emit("blockAudio",e.$VideoPlayerController34);e.$VideoPlayerController32=!0;e.$VideoPlayerController34||e.mute();break;case"unmute":e.emit("unblockAudio",e.$VideoPlayerController34);e.$VideoPlayerController32=!1;e.$VideoPlayerController34||e.unmute();break}e.$VideoPlayerController137(a.live_video_copyright_action_subscribe.action,a.live_video_copyright_action_subscribe.timestamp)}));return e}var d=c.prototype;d.setVideoPriorityAdjustment=function(a){this.$VideoPlayerController113.notifyAdjustment(a)};d.addListener=function(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=a.prototype.addListener).call.apply(b,[this].concat(d));d[0]==="visibilityChanged"&&this.$VideoPlayerController129();return f};d.$VideoPlayerController129=function(){var a=this;if(this.$VideoPlayerController110)return;this.$VideoPlayerController92||i(0,3694);this.$VideoPlayerController110=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController92);this.$VideoPlayerController110.addListener("visibilityChanged",function(b){return a.emit("visibilityChanged",b)})};d.setAutoScrollIntoView=function(a){this.$VideoPlayerController22=!a};d.setDetectionID=function(a){this.$VideoPlayerController118=a};d.destroy=function(a){__p&&__p();a=a||{};if(this.isState("destroyed")||this.$VideoPlayerController36)return;this.$VideoPlayerController36=!0;this.$VideoPlayerController110&&(this.$VideoPlayerController110.destroy(),this.$VideoPlayerController110=null);var c=this.$VideoPlayerController12||[];for(var d=c.length-1;d>=0;d--){var e=c[d],f=b("getVideoComponentName")(e)||"<MalformedComponent>";e&&typeof e.disable==="function"?b("VideoPlayerExperiments").enableComponentGuards?(l||(l=b("ErrorUtils"))).applyWithGuard(e.disable,e,[this],null,"VideoPlayerController Component Disable Guard: "+f):e.disable(this):b("FBLogger")("video").warn("no_disable_method_on_component: %s",f)}b("gkx")("678893")?this.$VideoPlayerController87&&this.getVideoAPI().destroy(a):this.getVideoAPI().destroy(a);this.setState("destroyed");this.$VideoPlayerController7.release();a.skipRemoveAllListeners||this.removeAllListeners();this.$VideoPlayerController23&&(this.$VideoPlayerController23.unsubscribe(),this.$VideoPlayerController23=null);this.stopHeartbeat();this.$VideoPlayerController20.stopUnifiedCVC();this.$VideoPlayerController16&&(this.$VideoPlayerController16.unsubscribe(),this.$VideoPlayerController16=null)};d.collectFeedTrackingData=function(){__p&&__p();if(this.$VideoPlayerController84){var a={tn:"","tn-debug":","},c={};for(var d=0;d<this.$VideoPlayerController84.length;d++){var e=JSON.parse(this.$VideoPlayerController84[d]);if(!Array.isArray(e))for(var f in e)a[f]!==void 0?(c[f]===void 0&&(c[f]=[]),c[f].push(e[f])):c[f]===void 0&&(c[f]=e[f])}for(var g in a)c[g]!==void 0&&(c[g]=c[g].join(a[g]));e={ft:c}}else{d=!1;a=this.getRootNode();while(a){if(a instanceof Element&&b("CSS").matchesSelector(a,"._4oep")){d=!0;break}a=b("getContextualParent")(a)}!d?this.isState("replayed")?e=b("collectDataAttributes")(window.event.target,["ft"]):e=b("collectDataAttributes")(this.getRootNode(),["ft"]):e={}}this.$VideoPlayerController50.setFTData(e)};d.$VideoPlayerController136=function(a,c){c.video_player_debug_info=c.video_player_debug_info||{hardware:this.$VideoPlayerController138(),live_autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!0),autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!1)},c.video_player_debug_info[this.getVideoID()]=this.getDebugInfo()};d.$VideoPlayerController138=function(){try{var a=document.createElement("canvas");a=a.getContext("webgl")||a.getContext("experimental-webgl");var b=a.getExtension("WEBGL_debug_renderer_info");return b&&{vendor:a.getParameter(b.UNMASKED_VENDOR_WEBGL),renderer:a.getParameter(b.UNMASKED_RENDERER_WEBGL)}}catch(a){}return null};d.setStillFrameEnabled=function(a){var b=this.getVideoAPI();b.setStillFrameEnabled&&b.setStillFrameEnabled(a)};d.isFallbackRecoverable=function(){return!!this.$VideoPlayerController81};d.setFallbackSources=function(a){this.$VideoPlayerController81=a};d.setRelativeSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalFieldOfView=function(a){this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,a)};d.isSpherical=function(){return this.$VideoPlayerController38};d.getVideoPlayerID=function(){return this.$VideoPlayerController31};d.focusOnContainerNode=function(){this.$VideoPlayerController15&&this.$VideoPlayerController15.focus()};d.setLogEntryPropertyGetters=function(a){var b=this;Object.keys(a).forEach(function(c){var d=a[c];typeof d==="function"?b.$VideoPlayerController25.set(c,d):b.$VideoPlayerController82[c]=d})};d.removeLogEntryPropertyGetters=function(a){var b=this;typeof a==="string"&&(a=[a]);Array.isArray(a)||(a=Object.keys(a));a.forEach(function(a){b.$VideoPlayerController25["delete"](a),delete b.$VideoPlayerController82[a]})};d.$VideoPlayerController132=function(){var a=this;this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.onApiReady()})};d.isImplementationUnavailable=function(){return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController86)&&!this.$VideoPlayerController86};d.getIsInChannel=function(){return this.$VideoPlayerController72==="channel"};d.updateSource=function(a){if(!this.$VideoPlayerController72)return;var c=b("VideoPlayerFormatsMap")[this.$VideoPlayerController72],d=b("VideoPlayerFormatsMap")[a];this.$VideoPlayerController50.updateSource(a);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController128(this.isFullscreen(),a)||"unknown");c&&c!==d&&this.$VideoPlayerController97&&(b("VideoPlayerExperiments").delayFormatChangeEvent?this.isState("playing")&&!this.$VideoPlayerController39?(this.logEvent("player_format_changed"),this.$VideoPlayerController47=d):this.$VideoPlayerController47=c:this.logEvent("player_format_changed"));this.$VideoPlayerController72=a};d.getSource=function(){return this.$VideoPlayerController50.getSource()};d.getPlayerOrigin=function(){return this.$VideoPlayerController56};d.getPlayerSuborigin=function(){return this.$VideoPlayerController57};d.getUpstreamPlayerSource=function(){return this.$VideoPlayerController85};d.hasLooped=function(){return this.$VideoPlayerController52>1};d.$VideoPlayerController131=function(){var a={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent("error",a);this.$VideoPlayerController70=!1};d.logError=function(a){__p&&__p();a=this.$VideoPlayerController46=a;var c=a.error,d=a.message,e=a.isPlayback,f=a.httpStatus,g=a.url;a=a.stack;var h=this.getDebugInfo();a&&(h.player.stack=a);delete h.player.loggedError;delete h.player.lastError;a={error:c,error_description:d,error_user_info:h,error_code:f,resource_url:g,state:e?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};this.$VideoPlayerController49=this.logEvent("error",a);this.$VideoPlayerController38&&Math.random()<.01&&b("FBLogger")("360video").warn("360 video player error: %s %s",c,d);e&&this.$VideoPlayerController55&&this.$VideoPlayerController130(!1)};d.setRotation=function(a){this.getVideoAPI().setRotation(a)};d.setDimensions=function(a,c){__p&&__p();var d=this.getContainerNode();d.style.width=a+"px";d.style.height=c+"px";d=this.getVideoNode();d.style.width=a+"px";d.style.height=c+"px";if(this.isState("loading"))this.$VideoPlayerController63={width:a,height:c};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController39||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(a,c)}};d.isPlayRequestPending=function(){return this.$VideoPlayerController55};d.$VideoPlayerController130=function(a){if(this.$VideoPlayerController55===a)return;this.$VideoPlayerController55=a;this.emit("pendingPlayRequestChanged")};d.updateAutoplayRestrained=function(){var a=this;b("ifRequired")("VideoPlayerHTML5Shaka",function(b){b=b.isAutoplayBandwidthRestrained(a.$VideoPlayerController42);a.$VideoPlayerController139(b)})};d.$VideoPlayerController139=function(a){a?this.emit("turnOffAutoplay",{reason:"poor_network_quality"}):this.emit("resumeAutoplay",{reason:"poor_network_quality"});if(b("gkx")("678893")){var c=this.getVideoAPI();c&&c.setPreloadDisabled(a)}else this.getVideoAPI().setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){if(b("gkx")("678893")){var a=this.getVideoAPI();a&&a.restoreStreamBufferSize()}else this.getVideoAPI().restoreStreamBufferSize()};d.getDataInsertionPosition=function(){return this.$VideoPlayerController27&&this.$VideoPlayerController27.getAttribute("data-insertion-position")};d.getDataFt=function(){return this.$VideoPlayerController27&&this.$VideoPlayerController27.getAttribute("data-ft")};d.play=function(a){__p&&__p();var c=this,d=null;a instanceof b("VideoPlayerReasonTransitionHelper")?d=a.getReason():d=a;a=this.getVideoNodeNullable();if(a&&a.scrollIntoView&&d==="user_initiated"&&!this.$VideoPlayerController22&&this.$VideoPlayerController14.getBool("enable_autoscroll_into_view",!1)){var e=this.getDOMPosition(),f=e.y>=0;e=e.y+e.height<=b("getViewportDimensions")().height;!f?a.scrollIntoView(!0):e||a.scrollIntoView(!1)}this.$VideoPlayerController140();this.$VideoPlayerController54||(this.$VideoPlayerController54=d);this.$VideoPlayerController111=this.getOption("VideoWithCommercialBreak","controller");if(this.$VideoPlayerController111&&this.$VideoPlayerController111.shouldPlayPreRollAds(d)){this.$VideoPlayerController111.schedulePreRollAds();return}if(!this.$VideoPlayerController55){this.$VideoPlayerController53=this.$VideoPlayerController141();var g=this.$VideoPlayerController142({debug_reason:d});f=this.$VideoPlayerController72;b("VideoPlayerExperiments").delayFormatChangeEvent&&f&&this.$VideoPlayerController97&&this.$VideoPlayerController47&&b("VideoPlayerFormatsMap")[f]!==this.$VideoPlayerController47&&!this.$VideoPlayerController39&&(this.logEvent("player_format_changed"),this.$VideoPlayerController47=b("VideoPlayerFormatsMap")[f]);b("VideoPlayerExperiments").logRequestedPlayingAsync?n(function(){c.logEvent("requested_playing",g)},["started_playing","unpaused"],this.$VideoPlayerController121):this.logEvent("requested_playing",g);this.$VideoPlayerController97=!0}this.$VideoPlayerController143(d);this.emit("playRequested",d);this.sendPlayRequest(d);d==="loop_initiated"&&(this.$VideoPlayerController52++,this.$VideoPlayerController52>10&&this.$VideoPlayerController14.getBool("disable_logging_for_long_loops",!1)&&(this.$VideoPlayerController98=!0))};d.sendPlayRequest=function(a){var c=this;if(this.isState("fallback")){this.emit("fallbackPlay");b("VideoPlayerExperiments").endBufferingOnFallbackPlay&&this.$VideoPlayerController50.endBuffering();return}this.$VideoPlayerController130(!0);this.isState("loading")?this.$VideoPlayerController64={reason:a}:(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController51&&(b("VideoPlayerExperiments").logUnmutedAsync?n(function(){c.logEvent("unmuted")},["started_playing","unpaused"],this.$VideoPlayerController121):this.logEvent("unmuted")),this.$VideoPlayerController51=!1,this.$VideoPlayerController144(),this.getVideoAPI().play(a))};d.getOriginalPlayReason=function(){return this.$VideoPlayerController54};d.reset=function(){if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController145();this.$VideoPlayerController87&&this.$VideoPlayerController87.destroy&&this.$VideoPlayerController87.destroy();this.$VideoPlayerController87=null;this.setState("loading");this.$VideoPlayerController132()};d.detachRootNode=function(){var a=this;if(!this.$VideoPlayerController69)return;b("DOM").remove(this.$VideoPlayerController69);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.$VideoPlayerController146()})};d.getVideoAPI=function(){this.$VideoPlayerController87||i(0,3695);return this.$VideoPlayerController87};d.getVideoNodeNullable=function(){return this.$VideoPlayerController92};d.getVideoNode=function(){var a=this.getVideoNodeNullable();return a};d.getRootNodeNullable=function(){return this.$VideoPlayerController69};d.getRootNode=function(){var a=this.getRootNodeNullable();return a};d.getContainerNodeNullable=function(){return this.$VideoPlayerController15};d.getContainerNode=function(){var a=this.getContainerNodeNullable();return a};d.getVideoResolution=function(){var a=this.getVideoNode();return{height:a.videoHeight,width:a.videoWidth}};d.$VideoPlayerController146=function(){this.setState("ready"),this.$VideoPlayerController51=!this.getVideoAPI().isMuted(),this.$VideoPlayerController83=!this.$VideoPlayerController3,this.getVideoAPI().setSubtitlesStyle&&this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController74,this.$VideoPlayerController75,this.$VideoPlayerController76,this.$VideoPlayerController77),this.$VideoPlayerController64&&(this.sendPlayRequest(this.$VideoPlayerController64.reason),this.$VideoPlayerController64=null),this.$VideoPlayerController63&&(this.setDimensions(this.$VideoPlayerController63.width,this.$VideoPlayerController63.height),this.$VideoPlayerController63=null),this.$VideoPlayerController65&&(this.getVideoAPI().unmute(),this.$VideoPlayerController65=null)};d.onApiReady=function(){__p&&__p();var a=this;this.$VideoPlayerController4&&(this.$VideoPlayerController4.id=this.$VideoPlayerController31,this.$VideoPlayerController4.customLiveManifestUrlParams=this.$VideoPlayerController19,this.$VideoPlayerController81&&(this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController81),this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController56,this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController57,this.$VideoPlayerController4.getSource=function(){return a.getSource()},this.$VideoPlayerController4.shakaConfig=this.$VideoPlayerController14,this.$VideoPlayerController4.playerInstanceKey=this.$VideoPlayerController116,this.$VideoPlayerController119&&(this.$VideoPlayerController4.videoLiveTrace=this.$VideoPlayerController119));this.$VideoPlayerController87=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.$VideoPlayerController147();this.getVideoAPI().setup();this.$VideoPlayerController146();var c={is_auto_played:this.isAutoplayable()};this.logEvent("player_loaded",c);this.$VideoPlayerController87&&this.$VideoPlayerController50.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController87.getLocalEstimator()));c=this.getVideoProjection();c&&(this.$VideoPlayerController60=c);this.emit("apiReady")};d.getLocalEstimator=function(){if(this.$VideoPlayerController87)return this.$VideoPlayerController87.getLocalEstimator();else return null};d.runOnApiReady=function(a){a===void 0&&(a=function(){}),!this.isState("loading")?a():this.once("apiReady",a)};d.resetPositions=function(){this.$VideoPlayerController18=0};d.getCurrentTimePosition=function(){if(this.isState("playing")){var a=this.getVideoAPI().getCurrentTimePosition();a!=null&&a!==void 0&&(this.$VideoPlayerController18=a)}return this.$VideoPlayerController18};d.getBufferEndPosition=function(){if(this.isState("loading"))return 0;var a=this.getVideoAPI().getBufferEndPosition();return a!==null&&a!==void 0?a:this.getCurrentTimePosition()};d.$VideoPlayerController140=function(){if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var a=this.getVideoID();if(this.$VideoPlayerController11){var c=this.$VideoPlayerController11.decode();a=c.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(a)}};d.$VideoPlayerController148=function(a){this.$VideoPlayerController130(!1);a=a.position;a!==void 0&&(this.$VideoPlayerController18=a);this.setState("playing");this.areHLSActive()?this.$VideoPlayerController149():this.isRTMP_DEPRECATED()&&this.$VideoPlayerController150();this.startHeartbeat();this.$VideoPlayerController20.startUnifiedCVC()};d.$VideoPlayerController151=function(a){var b=a.position;this.$VideoPlayerController119&&this.isState("playing")&&this.$VideoPlayerController119.onUpdateStatus(a);b!==void 0&&(this.$VideoPlayerController18=b);this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.$VideoPlayerController152=function(a){return this.$VideoPlayerController99.has(a)};d.runOnceOnApiEventLogged=function(a,b){if(this.$VideoPlayerController152(a))b();else var c=this.addListener("apiEventLogged",function(d){d===a&&(b(),c.remove())})};d.$VideoPlayerController153=function(a){var b=a.event;this.$VideoPlayerController99.add(b);delete a.event;this.logEvent(b,a);this.emit("apiEventLogged",b)};d.$VideoPlayerController154=function(){this.isState("finished")||this.setState("paused"),this.stopHeartbeat(),this.$VideoPlayerController20.stopUnifiedCVC()};d.$VideoPlayerController155=function(a){a=a.position;a!==void 0&&(this.$VideoPlayerController18=a)};d.$VideoPlayerController156=function(){this.setState("finished"),this.$VideoPlayerController68=!1,this.stopHeartbeat(),this.$VideoPlayerController20.stopUnifiedCVC()};d.getVolume=function(){return this.getVideoAPI().getVolume()};d.$VideoPlayerController157=function(){__p&&__p();this.$VideoPlayerController40=!1;var a=this.getContainerNode(),c=this.isFullscreen();b("CSS").conditionClass(a,"_1hwh",c);c?a.style.paddingBottom="0":(a.removeAttribute("data-fullscreen"),a.style.paddingBottom=this.$VideoPlayerController104);!c&&this.$VideoPlayerController28&&(this.$VideoPlayerController28.unsubscribe(),this.$VideoPlayerController28=null);if(this.$VideoPlayerController39!=c){this.logFullscreenChanged(c);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController128(c,this.$VideoPlayerController72)||"unknown");a=b("DOMDimensions").getElementDimensions(a);this.isPlayerVersion("silvercity")||this.setVideoPlayerAPIDimensions(a.width,a.height);this.emit("toggleFullscreen");!c?(this.addOffsetStylings(),b("Arbiter").inform("video_fullscreen_change",{})):this.removeOffsetStylings()}this.$VideoPlayerController39=c};d.$VideoPlayerController128=function(a,c){return a?"full_screen":c?b("VideoPlayerFormatsMap")[c]:"inline"};d.logFullscreenChanged=function(a){var c={player_format:this.$VideoPlayerController128(a,this.$VideoPlayerController72)};b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix?this.logEvent(a?"entered_fs":"exited_fs",c):this.logEvent(a?"entered_fs":"exited_fs")};d.setVideoPlayerAPIDimensions=function(a,b){this.getVideoAPI().setDimensions&&this.getVideoAPI().setDimensions(a,b)};d.removeOffsetStylings=function(){var a=this.$VideoPlayerController106;if(a===null||a===void 0)return;this.$VideoPlayerController105===1?(this.getVideoNode().style.setProperty("left","0"),b("CSS").removeClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController105===0&&(this.getVideoNode().style.setProperty("top","0"),b("CSS").removeClass(this.getVideoNode(),"_bli"))};d.addOffsetStylings=function(){var a=this.$VideoPlayerController106;if(a===null||a===void 0)return;this.$VideoPlayerController105===1?(this.getVideoNode().style.setProperty("left",a+"px"),b("CSS").addClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController105===0&&(this.getVideoNode().style.setProperty("top",a+"px"),b("CSS").addClass(this.getVideoNode(),"_bli"))};d.isFullscreen=function(){return this.$VideoPlayerController40||b("FullScreen").isFullScreen()&&this.$VideoPlayerController15===b("getFullScreenElement")()};d.toggleFullscreen=function(){var a=this.isFullscreen(),c=this.getContainerNode();b("FullScreen").toggleFullScreen(c)&&(a||(this.$VideoPlayerController40=!0,c.setAttribute("data-fullscreen","true")),b("CSS").addClass(c,"_1hwh"),this.$VideoPlayerController28=b("FullScreen").subscribe("changed",this.$VideoPlayerController157.bind(this)))};d.instreamVideoStart=function(){b("CSS").addClass(this.getContainerNode(),"_24pm")};d.instreamVideoEnd=function(){b("CSS").removeClass(this.getContainerNode(),"_24pm")};d.unmute=function(){if(!this.$VideoPlayerController34&&this.$VideoPlayerController32)return;!this.isState("loading")?(this.getVideoAPI().unmute(),b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()),this.$VideoPlayerController83&&this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController158()):this.$VideoPlayerController65=!0};d.isAudioBlocked=function(){return this.$VideoPlayerController32};d.isMuted=function(){return this.$VideoPlayerController87?this.getVideoAPI().isMuted():this.$VideoPlayerController78};d.mute=function(){this.$VideoPlayerController83&&!this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController158(),this.getVideoAPI().mute(),b("VideoPlayerVolumeSettings").saveVolume(0)};d.getMediaID=function(){return this.getVideoID()};d.getPlaybackDuration=function(){return this.getVideoAPI().getPlaybackDuration()};d.getPlayerFormat=function(){return this.$VideoPlayerController128(this.isFullscreen(),this.$VideoPlayerController72)};d.getVideoID=function(){return this.$VideoPlayerController91};d.getVideoChannelID=function(){return this.$VideoPlayerController88};d.getVideoListID=function(){return this.$VideoPlayerController89};d.getVideoURL=function(){return this.$VideoPlayerController94};d.$VideoPlayerController147=function(){__p&&__p();var a=this,c=this.getVideoAPI(),d=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=d;var e={buffered:function(){return a.setBuffering(!1)},buffering:function(){return a.setBuffering(!0)},bufferingProgress:function(b){return a.$VideoPlayerController159(b)},streamInterrupted:function(){return a.$VideoPlayerController50.startInterrupt()},streamResumed:function(){return a.$VideoPlayerController50.endInterrupt()},beginPlayback:function(b){return a.$VideoPlayerController148(b)},updateStatus:function(b){return a.$VideoPlayerController151(b)},logEvent:function(b){return a.$VideoPlayerController153(b.logData)},pausePlayback:function(){return a.$VideoPlayerController154()},seekEnd:function(b){return a.$VideoPlayerController155(b)},clickForTracking:function(){return b("logVideosClickTracking")(a.getVideoNode())},error:function(b){return a.logError(b)},finishPlayback:function(){return a.$VideoPlayerController156()},networkInterrupted:function(){return a.$VideoPlayerController160()},networkResumed:function(){return a.$VideoPlayerController161()},replicaSwitch:function(b){return a.switchReplicaSet(b)}};d.addSubscriptions.apply(d,Object.keys(e).map(function(a){return c.addListener(a,e[a])}));d.addSubscriptions.apply(d,b("VideoPlayerApiEvents").map(function(d){return b("forwardEvent")(c,a,d)}))};d.$VideoPlayerController145=function(){this.$VideoPlayerController6&&this.$VideoPlayerController6.release()};d.seek=function(a,b){this.emit("seekRequested",a,b),this.getVideoAPI().seek(a)};d.pause=function(a){this.isState("loading")?this.$VideoPlayerController64=null:this.isState("playing")?this.getVideoAPI().pause(a):this.$VideoPlayerController55&&this.getVideoAPI().pause(a),this.$VideoPlayerController130(!1),this.$VideoPlayerController68=!1,this.$VideoPlayerController162(a),this.emit("pauseRequested",a)};d.stopHeartbeat=function(){b("clearInterval")(this.$VideoPlayerController30),this.$VideoPlayerController30=null,this.$VideoPlayerController20.stopUnifiedCVC()};d.startHeartbeat=function(){if(this.$VideoPlayerController30||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController30=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};d.isPlayerVersion=function(a){return this.getPlayerVersion()===a||this.$VideoPlayerController103&&this.$VideoPlayerController163(a)===this.getPlayerVersion()};d.isHtml5Player=function(){return this.isPlayerVersion("pleasantville")||this.isPlayerVersion("oz")};d.isAutoplayable=function(){return this.$VideoPlayerController70};d.$VideoPlayerController164=function(){return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};d.$VideoPlayerController133=function(){var a=this;if(b("Visibility").isHidden()){var c=b("Visibility").once(b("Visibility").VISIBLE,function(){return a.$VideoPlayerController133()});b("VideoPlayerExperiments").unsubscribeImmediateplay&&this.$VideoPlayerController7.addSubscriptions(c)}else!this.$VideoPlayerController164()&&this.$VideoPlayerController71!=="watch_time_not_logged"&&b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath()),this.play("autoplay_initiated")};d.isBuffering=function(){return this.$VideoPlayerController35};d.$VideoPlayerController165=function(){var a=Math.floor(Date.now()/1e3);this.$VideoPlayerController112=this.$VideoPlayerController112.filter(function(b){return b.time+3>a});this.$VideoPlayerController112.some(function(b){if(b.time===a){b.count+=1;return!0}return!1})||this.$VideoPlayerController112.push({time:a,count:1})};d.$VideoPlayerController166=function(){var a=Math.floor(Date.now()/1e3);return this.$VideoPlayerController112.reduce(function(b,c){return(c.time+3>a?c.count:0)+b},0)};d.$VideoPlayerController159=function(a){this.emit("bufferingProgress",a)};d.setBuffering=function(a){__p&&__p();if(a!==this.$VideoPlayerController35){this.$VideoPlayerController35=a;if(this.$VideoPlayerController35){a=this.$VideoPlayerController14.getNumber("buffering_count_threshold",0);if(a){this.$VideoPlayerController165();if(this.$VideoPlayerController166()>=a){this.logError({error:"EXCEED_BUFFER_FREQUENCY_THRESHOLD",message:"video has entered buffering state "+a+" times in the last 3 seconds.",isPlayback:this.isPlayRequestPending()});return this.emit("error","EXCEED_BUFFER_FREQUENCY_THRESHOLD")}}this.$VideoPlayerController50.startBuffering(this.getCurrentTimePosition());this.$VideoPlayerController107&&(this.$VideoPlayerController167(),this.$VideoPlayerController101=b("setTimeout")(this.$VideoPlayerController168,this.$VideoPlayerController107));this.$VideoPlayerController169()}else this.$VideoPlayerController50.endBuffering(),this.$VideoPlayerController167(),this.isState("paused")&&this.$VideoPlayerController170();this.emit("bufferingChanged")}};d.setSmartBufferAdjustmentEnabled=function(a){var b=this.getVideoAPI();"setSmartBufferAdjustmentEnabled"in b&&b.setSmartBufferAdjustmentEnabled(a)};d.setVideoStreamOffset=function(a){var b=this.getVideoAPI();typeof b.setVideoStreamOffset==="function"&&b.setVideoStreamOffset(a)};d.$VideoPlayerController167=function(){this.$VideoPlayerController101&&(b("clearTimeout")(this.$VideoPlayerController101),this.$VideoPlayerController101=null)};d.$VideoPlayerController170=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController14.getBool("allow_autoplay_on_resume_from_sleep",!0)&&this.$VideoPlayerController109&&this.play("network_resumed")};d.$VideoPlayerController169=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController35&&this.$VideoPlayerController108&&this.isState("playing")&&this.pause("network_interrupted")};d.$VideoPlayerController143=function(a){this.$VideoPlayerController109=!1};d.$VideoPlayerController162=function(a){a==="network_interrupted"?this.$VideoPlayerController109=!0:this.$VideoPlayerController109=!1};d.$VideoPlayerController160=function(){this.$VideoPlayerController108=!0,this.$VideoPlayerController169()};d.$VideoPlayerController161=function(){this.$VideoPlayerController108=!1,this.$VideoPlayerController170()};d.isLiveVideo=function(){return this.$VideoPlayerController42};d.isGaming=function(){return this.$VideoPlayerController43};d.isVideo=function(){return!0};d.isBroadcast=function(){return!!this.$VideoPlayerController33};d.isInline=function(){return!!this.$VideoPlayerController72&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController72]==="inline"&&!this.isFullscreen()};d.isFacecastAudio=function(){return this.$VideoPlayerController37};d.isStreamInterrupted=function(){var a=this.$VideoPlayerController87;return!!(a&&a.isStreamInterrupted&&a.isStreamInterrupted())};d.setVolume=function(a){if(!this.$VideoPlayerController34&&this.$VideoPlayerController32)return;b("VideoPlayerVolumeSettings").saveVolume(a);this.getVideoAPI().setVolume(a)};d.getDOMPosition=function(){var a=this.getRootNodeNullable();return a?b("getElementPosition")(a):{x:0,y:0,width:0,height:0}};d.clickVideo=function(){this.emit("clickVideo"),this.$VideoPlayerController29=!0};d.mouseMove=function(a){this.emit("mouseMove",a)};d.mouseUp=function(a){this.emit("mouseUp",a)};d.mouseLeave=function(a){this.emit("mouseLeave",a)};d.hasSeenClick=function(){return!!this.$VideoPlayerController29};d.isAd=function(){return!!this.$VideoPlayerController2};d.shouldCalculateViewability=function(){if(this.isAd())return!0;var a=this.$VideoPlayerController50.getFTdata();if(a==null)return!1;a=a.ft;return a==null?!1:!!a.ei};d.isInstreamAd=function(){return!!this.$VideoPlayerController41};d.getAdClientToken=function(){return this.$VideoPlayerController2};d.getLastScrollDirection=function(){return this.getOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")||null};d.$VideoPlayerController171=function(){__p&&__p();var a=this,c=null,d=null,e=!1,f=null,g=null,h=null,i=null,j=null;if(!this.isState("loading")&&!this.isState("fallback")){this.$VideoPlayerController17===null&&(this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID());c=this.getVideoAPI().getEstimatedBandwidth();d=this.getVideoAPI().getAvailableVideoQualities().length;e=this.getVideoAPI().getIsAbrEnabled();f=this.getPlaybackDuration();j=this.getAudioStreamId();if(this.$VideoPlayerController14.getBool("log_player_dimensions",!1)){var k=this.getVideoAPI().getDimensionsForDevice();h=k&&k.height;g=k&&k.width}this.$VideoPlayerController14.getBool("log_connection_quality",!1)&&(i=b("VideoPlayerConnectionQuality").evaluate(function(){return a.getVideoAPI().getEstimatedBandwidth()}))}var l=babelHelpers["extends"]({},this.$VideoPlayerController82);this.$VideoPlayerController25.forEach(function(b,c){l[c]=b(c,a)});k={};this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio")&&(k.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout"));var m=this.isLiveVideo()&&!!t&&t.getIsRewound(this.getVideoPlayerID());return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:d,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController100,projection:this.$VideoPlayerController60,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(a){return a.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController73,player_origin:this.$VideoPlayerController56,player_suborigin:this.$VideoPlayerController57,player_suborigin_derived:this.$VideoPlayerController58,playback_is_broadcast:this.$VideoPlayerController33,player_instance_key:this.$VideoPlayerController116,playback_duration:f,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:b("gkx")("678893")?this.$VideoPlayerController87?this.getBufferEndPosition():0:this.getBufferEndPosition(),is_servable_via_fbms:this.$VideoPlayerController44,playback_is_live_streaming:this.$VideoPlayerController42,playback_is_drm:this.isDrm(),is_templated_manifest:this.isFBIsLiveTemplated()||this.isFBWasLive(),is_fbms:this.isFBMS(),is_live_video_rewound:m,last_scroll_direction:this.getLastScrollDirection(),video_channel_id:this.$VideoPlayerController88,video_list_id:this.$VideoPlayerController89,fb_manifest_identifier:this.getFbManifestIdentifier(),reaction_video_channel_type:this.$VideoPlayerController66,reaction_video_channel_subtype:this.$VideoPlayerController67,fbcdn_pop:this.$VideoPlayerController53,representation_id:this.$VideoPlayerController17,audio_representation_id:j,video_bandwidth:c,video_player_height:h,video_player_width:g,data_connection_quality:i,is_abr_enabled:e,feed_position:(d=this.$VideoPlayerController117)!=null?d:this.getDataInsertionPosition(),upstream_player_source:this.$VideoPlayerController85,should_log_video_viewability:this.$VideoPlayerController114,living_room_session_id:this.$VideoPlayerController115,detectionID:this.$VideoPlayerController118,is_ads_preview:this.$VideoPlayerController122,is_injected_ads:this.$VideoPlayerController123,is_chained_living_room:this.$VideoPlayerController125,is_replay_living_room:this.$VideoPlayerController127,live_linear_channel_id:this.$VideoPlayerController126},this.$VideoPlayerController90,this.$VideoPlayerController9,l,k)};d.$VideoPlayerController141=function(){var a=this.getVideoInfo_DEPRECATED();if(!a)return null;a=a.resourceUrl;a=/scontent-([a-z]+)\./.exec(a);return!a?null:a[1]};d.getVideoInfo_DEPRECATED=function(){return this.isState("loading")||this.isState("fallback")?null:this.getVideoAPI().getVideoInfo()};d.getDebugInfo=function(){var a=this.getVideoInfo_DEPRECATED(),c={initializationTime:this.$VideoPlayerController61,initializationTimestamp:this.$VideoPlayerController62,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController50.getCumulativeStallCount(),stallTime:this.$VideoPlayerController50.getCumulativeStallTime(),inPlayStallCount:this.$VideoPlayerController50.getCumulativeInPlayStallCount(),inPlayStallTime:this.$VideoPlayerController50.getCumulativeInPlayStallTime(),interruptCount:this.$VideoPlayerController50.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController50.getCumulativeInterruptTime(),state:this.$VideoPlayerController73,canPlayType:(m||(m=b("mapObject")))(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController49,lastError:this.$VideoPlayerController46,droppedFrames:!!this.$VideoPlayerController87&&this.$VideoPlayerController87.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController87&&this.$VideoPlayerController87.getTotalFrames(),videoSource:!!this.$VideoPlayerController87&&this.$VideoPlayerController87.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController96&&this.$VideoPlayerController96.getViewability(),stack:void 0},d={videoID:this.getVideoID(),isDrm:this.$VideoPlayerController87&&this.$VideoPlayerController87.isDrm()};if(!a)return{player:c,currentVideo:d};var e=this.getVideoAPI().getDimensionsForDevice();return{currentVideo:babelHelpers["extends"]({},d,{streamType:a.streamType,isLiveStream:a.isLiveStream,liveManifestUrl:a.liveManifestUrl,isHD:a.isHD,hasHD:a.hasHD,resourceUrl:a.resourceUrl,hasSubtitles:a.hasSubtitles,hasRateLimit:!!a.hasUnlimitedSrc,isRateLimited:a.hasUnlimitedSrc&&!a.useUnlimitedSrc,tagHD:a.tagHD,tagSD:a.tagSD,projection:this.$VideoPlayerController60,streamId:this.$VideoPlayerController17,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:babelHelpers["extends"]({},c,{dimensions:e})}};d.getLastError=function(){return this.$VideoPlayerController46};d.isAkamai=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.liveManifestUrl&&a.liveManifestUrl.includes("akamaihd"):!1};d.getLoggedError=function(){return this.$VideoPlayerController49};d.getTotalFrames=function(){return this.$VideoPlayerController87?this.$VideoPlayerController87.getTotalFrames():0};d.getDroppedFrames=function(){return this.$VideoPlayerController87?this.$VideoPlayerController87.getDroppedFrames():0};d.getInterruptCount=function(){return this.$VideoPlayerController50.getCumulativeInterruptCount()};d.getInterruptTime=function(){return this.$VideoPlayerController50.getCumulativeInterruptTime()};d.getVideoStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.getAudioStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingAudioStreamInfoID()||this.getVideoAPI().getAudioStreamInfoIDDebug()};d.getVideoTracks=function(){return this.getVideoAPI().getVideoTracksDebug()};d.getAudioDashFormat=function(){return this.getVideoAPI().getDashAudioConfigurationDebug()};d.getCumulativeStallCount=function(){return this.$VideoPlayerController50.getCumulativeStallCount()};d.getCumulativeStallTime=function(){return this.$VideoPlayerController50.getCumulativeStallTime()};d.getStallCount=function(){return this.$VideoPlayerController50.getStallCount()};d.getStreamType=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.streamType:"n/a"};d.hasSubtitles=function(){return this.getVideoAPI().hasSubtitles()};d.getVideoState=function(){return this.$VideoPlayerController73};d.areSubtitlesActive=function(){return this.getVideoAPI().areSubtitlesActive()};d.areSubtitlesAutogenerated=function(){return this.getVideoAPI().areSubtitlesAutogenerated()};d.areHLSActive=function(){return this.getVideoAPI().areHLSActive()};d.isRTMP_DEPRECATED=function(){return this.getVideoAPI().isRTMP()};d.toggleSubtitles=function(){this.$VideoPlayerController158(),this.logEvent("caption_change"),this.$VideoPlayerController83=!1};d.$VideoPlayerController158=function(){this.getVideoAPI().toggleSubtitles(),this.$VideoPlayerController144()};d.$VideoPlayerController144=function(){this.hasSubtitles()&&this.areSubtitlesActive()?this.$VideoPlayerController10="on":this.$VideoPlayerController10="off"};d.isHD=function(){return s(this.getAvailableVideoQualities(),this.getSelectedVideoQuality())};d.hasHD=function(){var a=q(this.getAvailableVideoQualities());return a!=null};d.toggleHD=function(){var a=r(this.getAvailableVideoQualities(),this.getSelectedVideoQuality());a!=null&&this.setPreferredVideoQuality(a)};d.setPreferredVideoQuality=function(a){this.getVideoAPI().setPreferredVideoQuality(a)};d.unsetPreferredVideoQuality=function(){this.getVideoAPI().unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){var a;return(a=this.getVideoAPI().getPreferredVideoQuality())!=null?a:null};d.getSelectedVideoQuality=function(){var a;return(a=this.getVideoAPI().getSelectedVideoQuality())!=null?a:null};d.getAvailableVideoQualities=function(){return this.getVideoAPI().getAvailableVideoQualities()};d.getVideoProjection=function(){return this.getVideoAPI().getVideoProjection()};d.canAutoSelectVideoQuality=function(){return this.getVideoAPI().canAutoSelectVideoQuality()};d.switchToStreamType=function(a){this.getVideoAPI().switchToStreamType(a)};d.$VideoPlayerController150=function(){this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",u).setString("source",this.$VideoPlayerController72).getURI().toString())};d.$VideoPlayerController149=function(){this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",v).setString("source",this.$VideoPlayerController72).getURI().toString())};d.$VideoPlayerController142=function(a){var b=this.getVideoInfo_DEPRECATED();return b!=null?Object.assign({resource_url:b.resourceUrl,liveStream:b.isLiveStream,hd:b.isHD},a):a};d.$VideoPlayerController172=function(){var a=this.getDOMPosition(),c=b("getViewportDimensions")().height,d;a.y<=0?d=a.y:a.y+a.height<c?d=0:d=a.y+a.height-c;return d};d.logEvent=function(a,c){__p&&__p();this.$VideoPlayerController48++;if(this.$VideoPlayerController98)return void 0;this.$VideoPlayerController121.emit(a);var d=this.$VideoPlayerController14.getNumber("logging_log_event_limit",0);d&&this.$VideoPlayerController48>d&&(this.$VideoPlayerController98=!0);d=++this.$VideoPlayerController26;c=Object.assign(this.$VideoPlayerController171(),c);var e=this.getOriginalPlayReason();e&&a!=="displayed"&&(c.video_play_reason=e);a==="finished_playing"&&(c.viewport_distance=this.$VideoPlayerController172());(a==="muted"||a==="unmuted"||a==="started_playing"||a==="caption_change"||a==="unpaused")&&(c.caption_state=this.$VideoPlayerController10);this.$VideoPlayerController95&&b("VideoViewabilityKeyEvents").Events.includes(a)&&(c.current_viewability_percentage=this.$VideoPlayerController96.getViewability(),this.$VideoPlayerController96.setLastLoggedViewability(c.current_viewability_percentage));c.event_seq_num=d;b("VideoPlayerExperiments").correctedSBLEventSequence?this.$VideoPlayerController79.has(a)&&(b("VideoPlayerExperiments").logSBLVpts&&(c.vpts=(j||(j=b("performanceAbsoluteNow")))()),c.seq_num=++this.$VideoPlayerController80):c.seq_num=d;a==="played_for_three_seconds"&&(c.detection_id=this.$VideoPlayerController118,this.emit("videoView/runFraudDetector"));if(a==="requested_playing"&&this.$VideoPlayerController119){e=this.$VideoPlayerController119.getLiveTraceContext();c.live_trace_stream_id=e.streamId;c.live_trace_stream_type=e.streamType;c.live_trace_source_id=e.sourceId}d=this.$VideoPlayerController50.logEvent(a,c);this.emit("debug/vpcLogEvent",d);return d};d.getState=function(){return this.$VideoPlayerController73};d.getStreamingFormat=function(){var a=this.getVideoInfo_DEPRECATED()||{};return a.streamType||this.$VideoPlayerController45};d.setPlaybackRate=function(a){this.getVideoAPI().setPlaybackRate&&this.getVideoAPI().setPlaybackRate(a)};d.getPlaybackRate=function(){return this.getVideoAPI().getPlaybackRate?this.getVideoAPI().getPlaybackRate():1};d.setState=function(a){if(this.isState("destroyed")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.$VideoPlayerController73=a;this.$VideoPlayerController73==="fallback"&&(b("CSS").addClass(this.getRootNode(),"_3-n5"),this.$VideoPlayerController145());this.emit("stateChange")};d.isState=function(a){return this.$VideoPlayerController73===a};d.isIntentionallyViewing=function(){return this.isState("playing")&&!this.isMuted()};d.abortLoading=function(a){if(this.isState("loading")||this.isState("fallback"))return;b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController42)&&this.isState("finished")&&this.seek(0);this.getVideoAPI().abortLoading(a||{});this.stopHeartbeat();this.$VideoPlayerController20.stopUnifiedCVC()};d.preload=function(){if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};d.getPlayerVersion=function(){var a;this.$VideoPlayerController87&&(a=this.getVideoAPI());var b=a&&a.getUpdatedPlayerVersion?a.getUpdatedPlayerVersion.bind(a):this.$VideoPlayerController5.getPlayerVersion;b=b?b():this.$VideoPlayerController59;return this.$VideoPlayerController103?this.$VideoPlayerController163(b):b};d.$VideoPlayerController163=function(a){switch(a){case"silvercity":return"react_silvercity";case"pleasantville":return"react_pleasantville";case"oz":return"react_oz";default:return"react"}};d.registerOption=function(a,b,c,d){var e=this.$VideoPlayerController13.get(a);e||(e=new Map(),this.$VideoPlayerController13.set(a,e));if(e.has(b))throw new Error("An option can only be registered once for each component");e.set(b,{getter:c,setter:d});this.emit("optionsChange")};d.unregisterOption=function(a,b){var c=this.$VideoPlayerController13.get(a);if(!c)throw new Error('The component "'+a+'" has no options registered');if(!c.has(b))throw new Error('The component "'+a+'" has no option "'+b+'" registered');c["delete"](b);c.size||this.$VideoPlayerController13["delete"](a);this.emit("optionsChange")};d.getComponents=function(){return this.$VideoPlayerController13.keys()};d.getOptions=function(a){a=this.$VideoPlayerController13.get(a);return a?a.keys():b("enumerate")([])};d.hasOption=function(a,b){a=this.$VideoPlayerController13.get(a);return!!a&&a.has(b)};d.getOption=function(a,b){a=this.$VideoPlayerController13.get(a);if(!a)return void 0;a=a.get(b);return!a?void 0:a.getter()};d.setOption=function(a,b,c){__p&&__p();a=this.$VideoPlayerController13.get(a);if(!a)throw new Error("Component not registered");a=a.get(b);if(!a)throw new Error("Option not registered");b=a.setter;if(b)return b(c);throw new Error("Read-only option")};d.showDebugOverlayView=function(a){this.emit("showDebugOverlay",a)};d.$VideoPlayerController134=function(){var a=b("DOMQuery").scry(this.$VideoPlayerController69,"^._5pat");return a.length?a[0]:null};d.registerDrawer=function(a,b){return this.$VideoPlayerController24.register(a,b)};d.getVideoPath=function(){return this.$VideoPlayerController93};d.setAllowCrossPageTransition=function(a){this.$VideoPlayerController102=a};d.cleanOnLeave=function(){this.pause("unloaded"),this.destroy()};d.switchReplicaSet=function(a){var b=this.isState("playing");this.getVideoAPI().switchReplicaSet(a.replica,{url:a.url,status:a.status,timestamp:a.timestamp});b&&this.play("autoplay_initiated")};d.switchToFullVideo=function(){var a=this;this.pause("unloaded");this.getVideoAPI().reloadDashManifest().done(function(){a.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated")),a.emit("switchedToFullVideo")})};d.$VideoPlayerController135=function(){return this.getIsInChannel()||this.$VideoPlayerController72==="living_room"||this.$VideoPlayerController72==="topic_channel_living_room"||this.$VideoPlayerController56==="intern_curation"||this.$VideoPlayerController56==="games_video_hub"};d.getDashAudioConfiguration=function(){return this.getVideoAPI().getDashAudioConfiguration()};d.setEnableLiveheadCatchup=function(a){var b=this.getVideoAPI();b&&b.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){var a=this.$VideoPlayerController87&&this.getVideoAPI();return!!(a&&a.isFBWasLive())};d.isFBIsLiveTemplated=function(){var a=this.$VideoPlayerController87&&this.getVideoAPI();return!!(a&&a.isFBIsLiveTemplated())};d.getFbManifestIdentifier=function(){var a=this.$VideoPlayerController87&&this.getVideoAPI();return a?a.getFbManifestIdentifier():""};d.isDrm=function(){var a=this.$VideoPlayerController87&&this.getVideoAPI();return a&&a.isDrm()};d.isFBMS=function(){var a=this.$VideoPlayerController87&&this.getVideoAPI();return!!(a&&a.isFBMS())};d.isLiveheadCatchupEnabled=function(){var a=this.getVideoAPI();return a?a.isLiveheadCatchupEnabled():!1};d.getBandwidthEstimate=function(){var a=this.getVideoAPI();return a?a.getBandwidthEstimate():null};d.getSeekableRanges=function(){var a=this.getVideoAPI();return a?a.getSeekableRanges():null};d.isBroadcaster=function(){return this.$VideoPlayerController34||!1};d.isWatchAndScroll=function(){return this.$VideoPlayerController72==="watch_scroll"};d.$VideoPlayerController137=function(a,c){var d=b("CurrentUser").getAccountID();d=d+"_0_"+this.$VideoPlayerController91+"_"+c+"_"+a+"_secret_www";d=b("SparkMD5").hash(d);c={input:{video_id:this.$VideoPlayerController91,timestamp:c,live_copyright_action:a,signature:d}};a=b("WebGraphQL").exec(new(b("LiveVideoCopyrightActionQueryWebGraphQLQuery"))(c));b("promiseDone")(a,function(a){},function(a){})};return c}(b("MediaController"));e.exports=a}),null);
__d("getBufferedAheadOf",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$MediaBufferingDetector1=c;e.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))();e.$MediaBufferingDetector1.paused||e.$MediaBufferingDetector8();e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"playing",function(){return e.$MediaBufferingDetector9()}),b("Event").listen(e.$MediaBufferingDetector1,"pause",function(){return e.$MediaBufferingDetector10()}),b("Event").listen(e.$MediaBufferingDetector1,"ended",function(){return e.$MediaBufferingDetector11()}),b("Event").listen(e.$MediaBufferingDetector1,"timeupdate",function(){return e.$MediaBufferingDetector12()}));e.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"waiting",function(){return e.$MediaBufferingDetector14()}));return e}var d=c.prototype;d.$MediaBufferingDetector15=function(){var a=(g||(g=b("performanceNow")))(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};d.$MediaBufferingDetector18=function(){this.$MediaBufferingDetector5=(g||(g=b("performanceNow")))(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};d.$MediaBufferingDetector8=function(){var a=this;if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return a.$MediaBufferingDetector15()},500)};d.$MediaBufferingDetector19=function(){b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};d.$MediaBufferingDetector16=function(){if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};d.$MediaBufferingDetector17=function(){if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};d.$MediaBufferingDetector9=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};d.$MediaBufferingDetector10=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector11=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector12=function(){this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};d.$MediaBufferingDetector14=function(){this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};d.$MediaBufferingDetector13=function(a,c){return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.destroy=function(){b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var c=a.prototype;c.updateFrameBuffer=function(){__p&&__p();this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};c.getDOMNode=function(){return this.$1};c.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();e.exports=a}),null);
__d("VideoCaptionBackgroundOpacityType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPAQUE:100,DARK:75,DEFAULT:45,LIGHT:25,TRANSPARENT:-1})}),null);
__d("VideoCaptionTextSizeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BIGGEST:200,BIGGER:175,BIG:150,MEDIUM:125,DEFAULT:100,SMALL:75,SMALLEST:50})}),null);
__d("VideoPlayerHTML5CaptionsDisplayStyle",["cx","CSS","VideoCaptionBackgroundOpacityType","VideoCaptionTextSizeType","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={Black:"20, 22, 26",Blue:"0, 0, 255",Green:"0, 255, 0",Cyan:"0, 255, 255",Red:"255, 0, 0",Magenta:"255, 0, 255",White:"255, 255, 255",Yellow:"255, 255, 0"},i={DEFAULT_BACKGROUND_COLOR:"Black",DEFAULT_BACKGROUND_OPACITY:b("VideoCaptionBackgroundOpacityType").DEFAULT,DEFAULT_TEXT_COLOR:"White",DEFAULT_TEXT_SIZE:b("VideoCaptionTextSizeType").DEFAULT};a=function(){__p&&__p();function a(a,b,c,d,e,f,g){this.$5="center",this.$1=c,this.$2=d,this.setBackgroundColor(a),this.setBackgroundOpacity(b),this.setTextColor(e),this.setTextSize(f),this.setTextAlignment(g),this.updateStyle()}var c=a.prototype;c.setBackgroundColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$3=a:this.$3=i.DEFAULT_BACKGROUND_COLOR};c.setBackgroundOpacity=function(a){b("isTruthy")(a)&&a>=b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&a<=b("VideoCaptionBackgroundOpacityType").OPAQUE?this.$4=a:this.$4=i.DEFAULT_BACKGROUND_OPACITY};c.setTextColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$6=a:this.$6=i.DEFAULT_TEXT_COLOR};c.setTextSize=function(a){a!=null&&a>=b("VideoCaptionTextSizeType").SMALLEST&&a<=b("VideoCaptionTextSizeType").BIGGEST?this.$7=a:this.$7=i.DEFAULT_TEXT_SIZE};c.setTextAlignment=function(a){this.$5=(a=a)!=null?a:"center"};c.updateStyle=function(){__p&&__p();var a,c=this.$4;this.$4===b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&(c=0);c=(a=c)!=null?a:i.DEFAULT_BACKGROUND_OPACITY;a=(a=this.$3)!=null?a:i.DEFAULT_BACKGROUND_COLOR;c=c/100;c="rgba("+h[a]+", "+c+")";this.$1.style.backgroundColor=c;this.$1.style.color=(c=this.$6)!=null?c:i.DEFAULT_TEXT_COLOR;c="0 0 10px rgb("+h[a]+"), 0 0 5px rgba("+h[a]+", .8)";this.$1.style.textShadow=c;b("CSS").conditionClass(this.$2,"_5z64",this.$7==b("VideoCaptionTextSizeType").SMALLEST);b("CSS").conditionClass(this.$2,"_5z65",this.$7==b("VideoCaptionTextSizeType").SMALL);b("CSS").conditionClass(this.$2,"_5z66",this.$7==b("VideoCaptionTextSizeType").MEDIUM);b("CSS").conditionClass(this.$2,"_5z67",this.$7==b("VideoCaptionTextSizeType").BIG);b("CSS").conditionClass(this.$2,"_5z68",this.$7==b("VideoCaptionTextSizeType").BIGGER);b("CSS").conditionClass(this.$2,"_5z69",this.$7==b("VideoCaptionTextSizeType").BIGGEST);b("CSS").conditionClass(this.$2,"_6mk2",this.$5==="left");b("CSS").conditionClass(this.$1,"_6mk2",this.$5==="left")};return a}();e.exports=a}),null);
__d("VideoPlayerHTML5CaptionsDisplay",["csx","cx","CSS","DOM","DOMQuery","VideoPlayerHTML5CaptionsDisplayStyle"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c,d=a.append,e=a.drawer,f=a.existingNodesContainer;a=a.boundingBox;this.$1=null;this.$2=null;this.$3="";this.$4=null;this.$5=null;this.$6=null;this.$8=null;f=(f=b("DOMQuery").scry(f,"._30vn")[0])!=null?f:null;c=f?(c=b("DOMQuery").find(f,"._30vo"))!=null?c:null:null;f||(f=b("DOM").create("div",{className:"_30vn hidden_elem"}));c||(c=b("DOM").create("span",{className:"_30vo hidden_elem"}),b("DOM").setContent(f,c));this.$1=f;this.$2=c;this.$8=d(f);this.$4=e;this.$5=e.addListener("reposition",this.$9.bind(this));this.$7=a;this.$10()}var c=a.prototype;c.handleBoundingBoxChanged=function(a){this.$7=a,this.$10()};c.handleCaptionsChanged=function(a,b){this.$11(a),this.$12(b)};c.setCaptionsStyle=function(a,c,d,e){var f=this.$6;if(f)f.setBackgroundColor(a),f.setBackgroundOpacity(c),f.setTextColor(d),f.setTextSize(e),f.updateStyle();else{f=this.$2;var g=this.$1;f&&g&&(this.$6=new(b("VideoPlayerHTML5CaptionsDisplayStyle"))(a,c,f,g,d,e,"center"))}};c.showCaptions=function(){var a=this.$1;a&&b("CSS").removeClass(a,"hidden_elem");a=this.$4;a&&(a.reposition(),a.reserve())};c.hideCaptions=function(){var a=this.$1;a&&b("CSS").addClass(a,"hidden_elem");a=this.$4;a&&a.release()};c.destroy=function(){var a=this.$5;a&&(a.remove(),this.$5=null);a=this.$4;a&&(a.release(),a.removeAllListeners(),this.$4=null);a=this.$8;a&&a();this.$1=null;this.$2=null};c.$10=function(){var a=this.$7,c=this.$1;c&&(a.width<350?(b("CSS").removeClass(c,"_30vp"),b("CSS").addClass(c,"_30vq")):a.width<800?(b("CSS").removeClass(c,"_30vp"),b("CSS").removeClass(c,"_30vq")):(b("CSS").removeClass(c,"_30vq"),b("CSS").addClass(c,"_30vp")))};c.$9=function(a){var c=this.$1;c&&b("DOM").setAttributes(c,{style:"bottom:"+a+"px;"})};c.$12=function(a){a=a.textAlignment;var c=this.$6;if(c)c.setTextAlignment(a),c.updateStyle();else{c=this.$2;var d=this.$1;c&&d&&(this.$6=new(b("VideoPlayerHTML5CaptionsDisplayStyle"))(void 0,void 0,c,d,void 0,void 0,a))}};c.$11=function(a){__p&&__p();a=a.map(function(a){return a.trim()}).filter(function(a){return!!a}).join("\n").trim();var c=this.$3;this.$3=a;var d=this.$1,e=this.$2,f=this.$4;if(!d||!e||!f)return;this.$10();a!==c&&b("DOM").setContent(e,a);a?(b("CSS").removeClass(e,"hidden_elem"),f.setHeight(d.offsetHeight)):(b("CSS").addClass(e,"hidden_elem"),f.setHeight(0))};return a}();e.exports=a}),null);
__d("BlobFactory",["emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(){try{new a.Blob(),g=!0}catch(a){g=!1}}var i=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;a.Blob?c={getBlob:function(b,c){__p&&__p();b=b||[];c=c||{};g===void 0&&h();if(g)return new a.Blob(b,c);else{var d=new i();for(var e=0;e<b.length;e++)d.append(b[e]);return d.getBlob(c.type)}},isSupported:b("emptyFunction").thatReturnsTrue}:c={getBlob:function(){},isSupported:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("VideoPlayerHTML5TrackNodeManager",["BlobFactory","DOM"],(function(a,b,c,d,e,f){__p&&__p();var g=a.URL||a.webkitURL;c=function(){"use strict";__p&&__p();function a(a){var b=a.videoEl;a=a.parsedSubRipText;this.$1=null;this.$2=null;this.$3=null;this.$2=b;this.$3=a;this.$4()}var c=a.prototype;c.$4=function(){__p&&__p();if(!g||!b("BlobFactory").isSupported())return;if(this.$3){var a=b("BlobFactory").getBlob([this.$3.renderVTT()],{type:"text/vtt"});a=g.createObjectURL(a);this.$1=b("DOM").create("track",{kind:"captions",src:a});b("DOM").appendContent(this.$2,this.$1)}this.$2&&Array.prototype.forEach.call(this.$2.textTracks,function(a){a.mode="hidden"})};c.destroy=function(){this.$1&&(b("DOM").remove(this.$1),this.$1=null)};return a}();e.exports=c}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=window.__fbNativeSetTimeout,i=a.__fbNativeClearTimeout,j=window.requestIdleCallback,k=window.cancelIdleCallback,l=function(a){var b=function b(){a(b)};return b},m=function(a,b){var c=function c(){a(c,b)};return c},n=function(a,b){var c=function c(){a(c,b)};return c};c=function(){__p&&__p();function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var c=a.prototype;c.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};c.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(g||(g=b("performanceNow")))()-Number(this.$2):null};c.$8=function(){this.$2=b("Visibility").isHidden()?null:(g||(g=b("performanceNow")))()};c.$9=function(){this.$2=null,typeof this.$4==="number"&&(k(this.$4),this.$4=null),typeof this.$3==="number"&&(i(this.$3),this.$3=null)};c.$7=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$10():this.$11()};c.$6=function(){var a=this,c;(c=b("Visibility")).addListener(c.VISIBLE,function(){a.$9(),a.$7()});c.addListener(c.HIDDEN,function(){a.$9()})};c.$10=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(c>-1){var d=function b(){a.$8(),a.$3=h(b,c)};h(d,c)}};c.$11=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),d;c>-1&&(d={timeout:c});c=function c(e){a.$8(),a.$4=b("requestIdleCallback")(c,d)};b("requestIdleCallback")(c,d)};c.$5=function(){return b("Visibility").isSupported()&&typeof j==="function"&&typeof k==="function"&&typeof h==="function"&&typeof i==="function"};c.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=l(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=m(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=l(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof j==="function"&&(a=m(j,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof h==="function"&&(a=n(h,d));a&&a()};return a}();e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){var d=this;this.$3=new(b("SubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return d.$5()}),b("EventListener").listen(this.$1,"pause",function(){return d.$6()}))}var c=a.prototype;c.playStarted=function(){(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};c.$6=function(){this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};c.$5=function(){this.$4&&(this.$4.log(),this.$4=null)};c.unload=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=this,d=i(a,function(){if(!d)return;d.remove();d=null;for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=this,d=h(a,function(){d.remove();for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){typeof a==="number"&&(a=Math.floor(a));return a}var h=!1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.isEnabled=function(){return c.$ExtendableVideoPlayerShakaPerformanceTypedLogger3()||c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()};c.enable=function(){h=!0};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger3=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return h};var d=c.prototype;d.log=function(){c.isEnabled()&&a.prototype.log.call(this)};d.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=b;return a.prototype.setState.call(this,b)};d.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};d.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=b;a.prototype.setSequentialID.call(this,b);return this};d.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};d.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,g(b));return this};d.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,g(b));return this};d.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,g(b));return this};return c}(b("VideoPlayerShakaPerformanceTypedLogger"));e.exports=a}),null);
__d("VideoPlayerArtilleryOperationMarker",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=!1}var b=a.prototype;b.markOperationStart=function(){return this.$7("Starting")};b.markOperationEnd=function(){return this.$7("Ending")};b.$7=function(a){var b=this.$4();b&&b.inform(a+" "+this.$2+" #"+this.$3,{pointGroup:this.$5.getGroupName(this.$2,this.$1),isPointOfInterest:!0,type:null}).addStringAnnotation("resource",this.$1||"").addStringAnnotation("wasPrefetchCacheHit",this.$6.toString());return this};b.setResource=function(a){this.$1=a;return this};b.setWasPrefetchCacheHit=function(a){this.$6=a;return this};return a}();e.exports=a}),null);
__d("VideoPlayerArtilleryPointGrouper",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=new Map(),this.$2=new Map()}var b=a.prototype;b.getGroupName=function(a,b){__p&&__p();if(!b){switch(a){case"start_streams":a="source_attach";break}return a}a=this.$1.get(b);if(a)return a;var c;if(b.indexOf("-init.m4v")!==-1)c="-init.m4v";else if(b.indexOf("-init.m4a")!==-1)c="-init.m4a";else if(b.indexOf(".mpd")!==-1)return"source_load";else b.indexOf(".m4v")!==-1?c=".m4v":b.indexOf(".m4a")!==-1?c=".m4a":c="unknown";var d=this.$2.get(c)+1||1;this.$2.set(c,d);a=c+" #"+d;this.$1.set(b,a);return a};return a}();e.exports=a}),null);
__d("VideoPlayerArtilleryTrace",["TimeSliceInteraction","UserAgentData","VideoPlayerArtilleryOperationMarker","VideoPlayerArtilleryPointGrouper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e4,h=3e3;a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.$12=function(){var a=d.$2;if(a){var b=a.stallTrace,c=a.hasStalls;a=a.stallTraceTimeout;c?b.finish():b.disable();clearTimeout(a)}d.$2=null};this.$16=function(){return d.$1};this.$17=function(){var a=d.$2;return a?a.stallTrace:null};this.$3=c.videoID;this.$4=c.video;this.$5=a;this.$6=c.isLive;this.$8=c.playerOrigin;this.$9=c.playerSuborigin;this.$7=0;this.$10=new(b("VideoPlayerArtilleryPointGrouper"))()}var c=a.prototype;c.updateBufferAhead=function(a){var c=this.$2;!c&&a<=h?this.$2={stallTrace:this.$11(b("TimeSliceInteraction").create("video_stall")),hasStalls:!1,stallTraceTimeout:setTimeout(this.$12,g)}:a>h&&this.$12()};c.enterState=function(a){switch(a){case"loading":this.$13();break;case"playing":this.$14();break;default:this.$15(a);break}return this};c.$15=function(a){var b=this.$1;b&&b.inform("State: "+a)};c.getMarkers=function(a){var c=[],d=(++this.$7).toString();this.$1&&c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$16,this.$10));var e=this.$2;e&&(a==="buffering"&&(e.hasStalls=!0),c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$17,this.$10)));return c};c.$13=function(){var a=this.$11(b("TimeSliceInteraction").create("video_psr"));this.$1=a;this.$15("loading")};c.$14=function(){this.$15("playing");var a=this.$1;a&&(a.finish(),this.$1=null)};c.$11=function(a){a.trace().addStringAnnotation("videoID",this.$3).addStringAnnotation("sessionID",this.$5).addStringAnnotation("browserName",b("UserAgentData").browserName).addStringAnnotation("browserVersion",b("UserAgentData").browserVersion).addStringAnnotation("isLive",this.$6.toString()).addStringAnnotation("playerOrigin",this.$8||"").addStringAnnotation("playerSuborigin",this.$9||"");return a};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$8(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$8(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$8=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerArtilleryTrace","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames,i=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};c.setVideoPlaybackExperienceIssue=function(a){c.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),c.maybeEnableMainThreadAvailabilityLogging())};function c(d){__p&&__p();var e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger11=!1;e.$VideoPlayerShakaPerformanceLogger22=0;e.$VideoPlayerShakaPerformanceLogger23=0;e.$VideoPlayerShakaPerformanceLogger21=d;e.$VideoPlayerShakaPerformanceLogger2=d.videoID;e.$VideoPlayerShakaPerformanceLogger4=d.video;e.$VideoPlayerShakaPerformanceLogger1=d.uniqueID;e.$VideoPlayerShakaPerformanceLogger3=0;e.$VideoPlayerShakaPerformanceLogger9=d.isLive;e.$VideoPlayerShakaPerformanceLogger10=d.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger8=null;e.$VideoPlayerShakaPerformanceLogger12=d.accessToken;e.$VideoPlayerShakaPerformanceLogger14=d.playerOrigin;e.$VideoPlayerShakaPerformanceLogger15=d.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger16=d.playerVersion;e.$VideoPlayerShakaPerformanceLogger24=d.getBandwidthEstimate;e.setRepresentationID(d.representationId);e.$VideoPlayerShakaPerformanceLogger26=d.isDrm;e.$VideoPlayerShakaPerformanceLogger13=new(b("VideoPlayerArtilleryTrace"))(e.$VideoPlayerShakaPerformanceLogger1,d);c.maybeEnableMainThreadAvailabilityLogging();return e}c.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};var d=c.prototype;d.$VideoPlayerShakaPerformanceLogger27=function(a){__p&&__p();var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3));this.$VideoPlayerShakaPerformanceLogger13.updateBufferAhead((b.end(c)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3)}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};d.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};d.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};d.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};d.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};d.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger11=a};d.$VideoPlayerShakaPerformanceLogger28=function(){return this.$VideoPlayerShakaPerformanceLogger11};d.getEventLogger=function(a){__p&&__p();var d=this,e=Date.now(),f=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),i=this.$VideoPlayerShakaPerformanceLogger4.currentTime,j=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger27(f).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(g(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(Math.round(this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger9))).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(i*1e3)).setVideoDuration(Math.round(j*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger10).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger28()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger12).setVideoPlaybackExperienceIssue(c.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(e).setClientTimeEnd(e).setIsDrm(this.$VideoPlayerShakaPerformanceLogger26);var k=this,l=f.setState;f.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?k.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(k.$VideoPlayerShakaPerformanceLogger6=null);k.$VideoPlayerShakaPerformanceLogger5=a;k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return l.call(this,a)};f.updateState=function(a){if(this.getState()==k.$VideoPlayerShakaPerformanceLogger5){k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return this.setState(a)}return this};var m=f.setError;f.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),m.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),m.call(this,a.type)),this.setCode(a.status||a.errorRawTransportStatus)):m.call(this,a);return this};var n=f.setManifestType;f.setManifestType=function(a){d.$VideoPlayerShakaPerformanceLogger17=a;return n.call(f,a)};return f};d.getArtilleryMarkers=function(a){return this.$VideoPlayerShakaPerformanceLogger13.getMarkers(a)};d.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};d.createOperationLogger=function(a){__p&&__p();var c=this,d=this.getEventLogger(a),e=this.getArtilleryMarkers(a),f=d.setResource;d.setResource=function(a){e.forEach(function(b){return b.setResource(a)});return f.call(d,a)};var g=d.log,h=this,j=!1,k=null;d.log=function(){__p&&__p();if(j)return;b("clearTimeout")(k);var c=Date.now();this.setClientTimeEnd(c);var d=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);h.$VideoPlayerShakaPerformanceLogger29(d);h.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(h.$VideoPlayerShakaPerformanceLogger7=Date.now());e.forEach(function(a){return a.markOperationEnd()});j=!0;return g.call(this)};d.start=function(){e.forEach(function(a){return a.markOperationStart()});k=b("setTimeoutAcrossTransitions")(function(){k=null,d.setResult("timeout"),d.log()},i);return d};d.setWasPrefetchCacheHit=function(a){e.forEach(function(b){return b.setWasPrefetchCacheHit(a)});return d};d.setLiveheadPosition=function(a){c.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(c.getLiveheadDelta());return d};var l=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;c.setDynamicBitrate(a);return l.call(d,a)};var m=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){c.$VideoPlayerShakaPerformanceLogger18=a;return m.call(d,a)};return d};d.$VideoPlayerShakaPerformanceLogger29=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};d.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger25=null;e.exports=a}),null);
__d("Duration.react",["React","ServerTime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=500,h=1e3,i=60,j=60;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={duration:0};return b}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$2()};d.componentWillUnmount=function(){b("clearTimeout")(this.$1)};d.$2=function(){var a=this,c;this.props.useLocalTime?c=Date.now():c=b("ServerTime").getMillis();this.setState({duration:Math.max(c-this.props.startTime,0)});this.$1=b("setTimeout")(function(){return a.$2()},g)};d.render=function(){__p&&__p();var a=Math.floor(this.state.duration/h),c=a%i;a=Math.floor(a/i);var d=a%j;a=Math.floor(a/j);var e="";a>0&&(e=a+":");a=d+":";a.length<3&&e.length>0&&(a="0"+a);d=""+c;d.length<2&&(d="0"+d);return b("React").jsxs("span",{children:[e,a,d]})};return c}(b("React").Component);a.defaultProps={useLocalTime:!1};e.exports=a}),null);
__d("intlSummarizeNumber",["FbtNumberType","IntlCompactDecimalNumberFormatConfig","IntlVariations","intlNumUtils"],(function(a,b,c,d,e,f){__p&&__p();var g=3,h=14,i={ROUND:"ROUND",TRUNCATE:"TRUNCATE"},j={SHORT:"SHORT",LONG:"LONG"};function a(a,c,d,e){__p&&__p();d===void 0&&(d=j.SHORT);e===void 0&&(e=i.ROUND);d=b("IntlCompactDecimalNumberFormatConfig")[d==j.SHORT?"short_patterns":"long_patterns"];var f=a===0?0:Math.floor(Math.log10(Math.abs(a)));f>h&&(f=h);var l=k(a,f,c,e,d),m=l[0],n=l[1];l=l[2];if(l){f+=1;l=k(a,f,c,e,d);m=l[0];n=l[1];l[2]}e=b("FbtNumberType").getVariation(m)||b("IntlVariations").NUMBER_OTHER;l=f.toString();l=(d=d)!=null?(d=d[l])!=null?d[e.toString()]:d:d;if(!l||f<g||l.positive_prefix_pattern===""&&l.positive_suffix_pattern===""){e=c===void 0?0:c;return b("intlNumUtils").formatNumberWithThousandDelimiters(a,e)}return l&&l.min_integer_digits===0&&m===1?l.positive_prefix_pattern+l.positive_suffix_pattern:(l&&l.positive_prefix_pattern||"")+b("intlNumUtils").formatNumberWithThousandDelimiters(m,n)+(l&&l.positive_suffix_pattern||"")}function k(a,c,d,e,f){__p&&__p();var g=c.toString();g=(f=f)!=null?(f=f[g])!=null?f[b("IntlVariations").NUMBER_OTHER.toString()]:f:f;f=g&&g.min_integer_digits||c+1;var j=c-f+1;j=Math.abs(a)/Math.pow(10,j);var k=d!=null;d=k?d:g&&g.min_fraction_digits;d==null&&(d=c>2?1:0);g=e==i.TRUNCATE?b("intlNumUtils").truncateLongNumber(j.toString(),d):j.toFixed(d);e=parseFloat(g)*(a<0?-1:1);return[e,e%1===0&&!k?0:d,g.length>f+(d>0?d+1:0)+(j>=0?0:1)&&c<h]}e.exports=a}),null);
__d("VideoConcurrentViewerCount.react",["ix","cx","fbt","Image.react","React","Tooltip","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.isAudio)return g("466773");else return g("406916")};d.render=function(){var a=this.props.viewerCount;if(!a)return b("React").jsx("div",{className:"_1jb_ _2z59"});var c=null;this.props.compact||(c=b("React").jsx(b("Image.react"),{className:"_5pf2",src:this.$1()}));var d=this.props.pageCount!=null&&this.props.pageCount>1?b("Tooltip").propsFor(i._({"*":"Total des spectateurs actuels de cette Page et de {number} autres","_1":"Total des spectateurs actuels de cette Page et de 1 autre"},[i._plural(this.props.pageCount-1,"number")]),"right"):{};return b("React").jsxs("div",babelHelpers["extends"]({className:"_1jb_"+(this.props.compact?" _3eca":""),"data-testid":"live-cvc"},d,{children:[c,b("intlSummarizeNumber")(a)]}))};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoIndicator.react",["cx","fbt","DateConsts","Duration.react","React","VideoConcurrentViewerCount.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.isPreview)return this.$1();var a=this.$2();a=this.$3(a);return b("React").jsxs("div",{className:(this.props.inline?"":"_3htz")+(this.props.inline?" _3qry":"")+(this.props.inline?"":" _2659")+(this.props.inline?"":" _530p")+" _4ubd _2lwf"+(this.props.isLive?" _3rno":"")+(this.props.inline?"":" _6xrw")+(this.props.inline?" _6xrt":""),children:[a,b("React").jsx(b("VideoConcurrentViewerCount.react"),{pageCount:this.props.pageCount,viewerCount:this.props.viewerCount})]})};d.$3=function(a){var c=!this.props.isRewound&&this.props.showElapsedTime&&this.props.startTime?b("React").jsx("span",{className:"_2nwf",children:b("React").jsx(b("Duration.react"),{startTime:this.props.startTime*b("DateConsts").MS_PER_SEC,useLocalTime:!0})}):null,d,e;this.props.inBeeper?(d="_60yg",e="_60yf"):this.props.isRewound?(d="_1dvf",e="_1dvg"):(d="_5pe-"+(this.props.isRehearsal?" _1dvf":""),e="_2wrk"+(this.props.isRehearsal?" _7bca":""));return a?b("React").jsx("div",{className:d,"data-testid":"live-indicator",children:b("React").jsxs("span",{className:e,children:[a,c]})}):null};d.$2=function(){if(this.props.isBreakingNews)return h._("FLASH INFO EN DIRECT");if(this.props.textOverride)return this.props.textOverride;return this.props.isPremiere?h._("PREMI\u00c8RE"):this.props.isLive?h._("EN DIRECT"):null};d.$1=function(){return b("React").jsx("div",{className:"_5vj",children:b("React").jsx("div",{className:"_5vm",children:b("React").jsx("span",{className:"_5vo",children:h._("APER\u00c7U")})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerConstants",[],(function(a,b,c,d,e,f){"use strict";a={ACTIONS:{SET_IS_REWOUND:"SET_IS_REWOUND",DISMISS_REWIND_COMMENT_OVERLAY:"DISMISS_REWIND_COMMENT_OVERLAY"}};e.exports=a}),null);
__d("LiveVideoPlayerStore",["FluxReduceStore","LiveVideoPlayerConstants","LiveVideoPlayerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoPlayerConstants").ACTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({})};d.getIsRewound=function(a){return this.getState().getIn([a,"isRewound"],!1)};d.getIsRewindCommentOverlayDismissed=function(a){return this.getState().getIn([a,"isRewindCommentOverlayDismissed"],!1)};d.$LiveVideoPlayerStore1=function(a,b){var c=this;a.hasOption("LivePlayer","isRewound")||a.registerOption("LivePlayer","isRewound",function(){return c.getIsRewound(a.getVideoPlayerID())});a.emit("LivePlayer/isRewoundChanged")};d.reduce=function(a,b){__p&&__p();var c=this;switch(b.type){case g.DISMISS_REWIND_COMMENT_OVERLAY:a=a.setIn([b.playerID,"isRewindCommentOverlayDismissed"],!0);break;case g.SET_IS_REWOUND:var d=b.vpc,e=b.isRewound;a=a.setIn([d.getVideoPlayerID(),"isRewound"],e);setTimeout(function(){return c.$LiveVideoPlayerStore1(d,e)},0);d.setEnableLiveheadCatchup(!e);break;default:break}return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoPlayerDispatcher"))}),null);
__d("LiveVideoIndicatorContainer.react",["FluxContainer","LiveVideoIndicator.react","LiveVideoPlayerDispatcher","LiveVideoPlayerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("LiveVideoPlayerStore")]};c.calculateState=function(a,c){a=b("LiveVideoPlayerStore").getIsRewound(c.playerID);return{isRewound:a}};function c(c){c=a.call(this,c)||this;b("LiveVideoPlayerDispatcher").explicitlyRegisterStores([b("LiveVideoPlayerStore")]);return c}var d=c.prototype;d.render=function(){return b("React").jsx(b("LiveVideoIndicator.react"),{inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,isRewound:this.state.isRewound,pageCount:this.props.pageCount,showElapsedTime:this.props.showElapsedTime,startTime:this.props.startTime,textOverride:this.props.textOverride,viewerCount:this.props.viewerCount})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveVideoIndicatorContainerServerCallable.react",["DateConsts","FBJSON","LiveVideoIndicatorContainer.react","React","SubscriptionsHandler","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3*b("DateConsts").MS_PER_SEC;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showElapsedTime:!1,viewerCount:c.props.viewerCount},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("VideoWithLiveBroadcast/viewCountChange",function(c){c=c.getAttribute("data-store");c=c?b("FBJSON").parse(c).viewerCount:null;a.setState({viewerCount:c})}),this.props.videoPlayerController.addListener("unifiedCVC/update",function(b){a.setState({viewerCount:b.c})}));this.props.showTimePop&&this.props.broadcastCreationTime&&this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("beginPlayback",function(){a.setState({showElapsedTime:!0});var c=b("setInterval")(function(){a.setState({showElapsedTime:!1}),b("clearInterval")(c)},g)}))};d.componentWillUnmount=function(){this.subscriptions.release()};d.render=function(){return b("React").jsx(b("LiveVideoIndicatorContainer.react"),{inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,pageCount:this.props.pageCount,playerID:this.props.videoPlayerController.getVideoPlayerID(),showElapsedTime:this.state.showElapsedTime,startTime:this.props.broadcastCreationTime,textOverride:this.props.textOverride,viewerCount:this.state.viewerCount})};return c}(b("React").Component);e.exports=a}),null);
__d("classWithMixins",[],(function(a,b,c,d,e,f){function a(a,b){var c=function(){a.apply(this,arguments)};c.prototype=Object.assign(Object.create(a.prototype),b.prototype);return c}e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){__p&&__p();a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("oz-player/shims/OzReadableStream",["requireCond","cr:927622"],(function(a,b,c,d,e,f){"use strict";b("cr:927622")&&(b("cr:927622").ReadableStream.isPolyfilled=!0);a=b("cr:927622")?b("cr:927622").ReadableStream:window.ReadableStream;e.exports=a}),null);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";b("Promise").resolve(),e.exports=b("MOzExperiments").use_native_promise?b("MaybeNativePromise"):b("Promise")}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){a===void 0&&(a={});this.$3=[];this.$4=!1;this.$6=0;a=a;var b=a.disableArrayShift;a=a.useNativePromise;this.$1=!!b;this.$2=!!a}var c=a.prototype;c.produce=function(a){this.$7(a)};c.signalProducerInterruption=function(){this.$7(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){__p&&__p();var c=this;if(this.$4)throw new Error("A buffer can only be consumed by one client at a time");this.$4=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$5=this.$2?new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")):new(b("oz-player/shims/OzDeferred"))(),d=this.$5.getPromise());return d.then(function(){__p&&__p();if(c.$1){if(c.$3[c.$6]===void 0)throw new Error("buffer has no value at position "+c.$6)}else if(c.$3.length===0)throw new Error("buffer length must not be 0");c.$5=null;c.$4=!1;var b=c.$1?c.$8(a):c.$9(a);if(b instanceof Uint8Array)return b;throw b})};c.$7=function(a){this.$3.push(a),this.$5&&this.$5.resolve()};c.$8=function(a){__p&&__p();var b=this.$3[this.$6];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$3[this.$6]=void 0;this.$6++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[this.$6]=c}else this.$3[this.$6]=void 0,this.$6++;return b};c.$9=function(a){__p&&__p();if(this.$3.length===0)return new Uint8Array([]);var b=this.$3[0];if(!(b instanceof Uint8Array)){this.$3.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[0]=c}else this.$3.shift();return b};c.isEmpty=function(){return this.$1?this.$3[this.$6]===void 0:this.$3.length===0};return a}();e.exports=a}),null);
__d("pipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzDeferredBuffer","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/manifests/OzByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}var i=function(){__p&&__p();function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=a;this.$20=c;this.$1=d;this.$2=e;a=f||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;e=a.useNativePromiseInDeferredBuffer;f=a.enablePausableStreamResumeFromStartDangerously;var j=a.fixPausePreReadableStream;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!f;this.$17=!!j;this.$18=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d,useNativePromise:!!e});this.$6=new this.$19({start:function(a){g.$10=a},pull:function(a){__p&&__p();if((g.$11&&g.$1.endByte===null&&g.$5||g.$7===g.$21())&&g.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){__p&&__p();var d=g.$15.hasMoreBytesToSkip()?g.$15.getBytesToSkip():void 0;return g.$3.consume(d).then(function(d){if(g.$15.hasMoreBytesToSkip()){g.$15.setBytesSkipped(d.length);return c()}g.$7+=d.length;var e=g.$21();e!==null&&g.$7>(e||0)&&b("pipeErrorTo")(g.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){g.$15.setBytesToSkip(g.$7);return c()}throw a})};return c()},cancel:function(a){g.$12&&g.$12.resolve("stream_cancelled"),b("pipeErrorTo")(g.$9,a)}});this.$22()}var c=a.prototype;c.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$22=function(){__p&&__p();var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("pipeErrorTo")(a.$10,h())},abort:function(c){a.$12&&(a.$18?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("pipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){__p&&__p();var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$12.reject(b))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("pipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};c.enqueue=function(a,b){__p&&__p();b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};c.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};c.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};c.remove=function(a){__p&&__p();var b=this.$5.get(a);if(b===void 0)return;b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)};c.setOnTaskUpdated=function(a){this.$3=a};c.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};c.getLength=function(){return this.$5.size};c.$8=function(a){__p&&__p();var c=this.$6.get(a);if(!c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=d.getPromise();this.$6.set(a,c);var e=a.run;a.run=function(){return e.call(a).then(function(a){d.resolve(a);return a})["catch"](function(a){d.reject(a);throw a})}}return c};c.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};c.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();e.exports=a}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeoutAcrossTransitions")}),null);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var c=a.prototype;c.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};c.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};c.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};c.$6=function(a,c){__p&&__p();var d=this;if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$4>0&&(c=b("oz-player/shims/OzMaybeNativePromise").race([c,new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;c=c.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});return!0};return a}();e.exports=a}),null);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){__p&&__p();if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){function a(a){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState","getVideoBrowserTabId"],(function(a,b,c,d,e,f){__p&&__p();var g=-1,h=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function i(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&h){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,c,d,e,f,h){__p&&__p();var i=this;this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=e;this._fireSeekEvents=f;this._useEventTime=c;this._recentPausedTime=null;var j=this.getVideoElement();if(h){var k=j.pause;j.pause=function(){i._recentPausedTime=j.currentTime;return k.apply(j)}}d&&(this._overwriteVideoCurrentTimeProperty(j),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=g;this._muted=b("getHTMLMediaElementMutedState")(j);this._pausedPosition=g;this._seeking=!1;this._seekSourceTimePosition=g;this._currentTimeAtSeekStart=g;this._volume=j.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=g;a=!1;j.readyState>=j.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();a&&e.addSubscriptions(b("EventListener").listen(j,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(b("EventListener").listen(j,"ended",this.onEnded.bind(this)),b("EventListener").listen(j,"pause",this.onPause.bind(this)),b("EventListener").listen(j,"playing",this.onPlaying.bind(this)),b("EventListener").listen(j,"seeked",this.onSeeked.bind(this)),b("EventListener").listen(j,"seeking",this.onSeeking.bind(this)),b("EventListener").listen(j,"play",this.onPlay.bind(this)),b("EventListener").listen(j,"loadedmetadata",this.onLoadedMetadata.bind(this)),b("EventListener").listen(j,"timeupdate",this.onTimeUpdate.bind(this)),b("EventListener").listen(j,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,c){__p&&__p();this._loggedEvents[a]=!0;c=c?c:{};c.video_id=this.getVideoID();c.browser_tab_id=b("getVideoBrowserTabId")();c.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(c,"video_time_position")||(c.video_time_position=this._getVideoCurrentTime());c.time_ms||(c.time_ms=Date.now());c.time=Math.round(c.time_ms/1e3);if(this.getAdClientToken){var d=this.getAdClientToken();d&&(c.ad_client_token=d)}this.getPlayerFormat&&(c.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(c.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(c.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,c)},_logReadyToPlay:function(){return},__setPendingPlayRequest:function(a){this._pendingPlayRequest=a},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var c=this.getVideoElement();if(this._pendingPlayRequest){var d={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,d);return}d=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);d=c.ended||d&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)?b("VideoPlayerLoggerEvent").FINISHED_PLAYING:b("VideoPlayerLoggerEvent").PAUSED;var e=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;e&&(this._lastPlayedTime=e);e=this._lastPlayedTime;var f=this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition;b("VideoPlayerHTML5Experiments").preventNegativeTimePositions&&(this._lastPlayedTime<0&&(e=0,this._lastStartTimePosition<0&&(f=0)));var h=a.lastPauseReason;if(d===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)e=Math.max(e,c.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(h=h||"unloaded");this._logEvent(d,this._amendEventTime({video_last_start_time_position:f,video_time_position:e,debug_reason:h},a));this._lastStartTimePosition=g},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==g&&b("UserAgent").isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};b("VideoPlayerHTML5Experiments").newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,a);if(b("VideoPlayerHTML5Experiments").newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=g&&this._lastPlayedTime!=g&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=g);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;b("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var c=this.getLastPlayReason();this._pendingPlayRequest=!1;var d=this._loggedEvents[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?b("VideoPlayerLoggerEvent").UNPAUSED:b("VideoPlayerLoggerEvent").STARTED_PLAYING;c=this._amendEventTime({debug_reason:c,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var e=this.getVideoElement().currentTime;e=e-a;c.time_ms-=Math.round(e*1e3)}this._logEvent(d,c);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var c=this._seekSourceTimePosition;this._seekSourceTimePosition=g;var d=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=g;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var e={video_seek_source_time_position:c,video_last_start_time_position:c};this._fixOvewrittenGetVideoCurrentTime&&(e.video_seek_source_time_position=d);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==g?e.video_last_start_time_position=this._lastStartTimePosition:e.video_last_start_time_position=c);c=b("VideoPlayerLoggerEvent").SCRUBBED;this._fireSeekEvents&&(c=b("VideoPlayerLoggerEvent").SEEKED,e={seek_from_video_time_position:d});this._logEvent(c,this._amendEventTime(e,a));d=this.getVideoElement();d.paused?this._lastStartTimePosition=g:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=g},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var c=this.getVideoElement(),d={},e=null;if(b("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var f=c.muted,g=this._muted,h=c.volume,i=this._volume;d.current_volume=Math.round(h*100);this._volume=h;this._muted=f;f=f||h==0;g=g||i==0;if(g&&f)return;if(g!=f)f?e=b("VideoPlayerLoggerEvent").MUTED:e=b("VideoPlayerLoggerEvent").UNMUTED;else{if(i==h)return;h<i?e=b("VideoPlayerLoggerEvent").VOLUME_DECREASE:e=b("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else c.muted!==this._muted&&c.volume===this._volume&&c.volume>0?e=c.muted?b("VideoPlayerLoggerEvent").MUTED:b("VideoPlayerLoggerEvent").UNMUTED:(e=c.volume>this._volume?b("VideoPlayerLoggerEvent").VOLUME_INCREASE:b("VideoPlayerLoggerEvent").VOLUME_DECREASE,d.current_volume=Math.round(c.volume*100)),this._muted=c.muted,this._volume=c.volume;this._logEvent(e,this._amendEventTime(d,a))},_amendEventTime:function(a,c){var d=this._useEventTime;b("VideoPlayerHTML5Experiments").fixEventTimeLogging&&(d=d&&c);if(d)return i(a,c);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===g?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return b("VideoPlayerHTML5Experiments").fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();var b=this;this._didOverwriteVideoCurrentTimeProperty=!1;try{var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!c)return;if(typeof c.get!=="function"||typeof c.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return c.get.call(this)},set:function(d){b._currentTimeAtSeekStart===g&&(b._currentTimeAtSeekStart=c.get.call(a)),c.set.call(a,d)},configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);