if (self.CavalryLogger) { CavalryLogger.start_js(["nZdFc"]); }

__d("OnLiveRHCItemClick",["CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){a=b("CurrentUser").getID();new(b("WebFunnelLogger"))("LiveBroadcastRHCFunnelDefinition").setAction("live_video_carousel_thumbnail_clicked").setSessionKey(a).log()}}),null);
__d("LiveRHCAutoplayController",["Arbiter","VideoAutoplayControllerX","VideoAutoplayPlayerBase","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=42,h=.5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d,e,f){__p&&__p();var g;g=a.call(this)||this;g.$LiveRHCAutoplayController1=new Set();g.$LiveRHCAutoplayController2=d;g.$LiveRHCAutoplayController4=e;g.$LiveRHCAutoplayController5=f;g.$LiveRHCAutoplayController4.registerOption("LivePlayer","isVisibleForAutoplay",function(){return g.isVisible()});g.$LiveRHCAutoplayController3=b("VideoAutoplayControllerX").registerVideoUnit(babelHelpers.assertThisInitialized(g));g.$LiveRHCAutoplayController6=b("Arbiter").subscribe(c.ARBITER_COLLAPSED_EVENT_NAME,function(a,b){b.collapsed?g.pause("video_visibility_initiated"):f&&g.playWithoutUnmute("video_visibility_initiated")});return g}var d=c.prototype;d.$LiveRHCAutoplayController7=function(){return this.$LiveRHCAutoplayController4.isState("destroyed")};d.isVisible=function(){__p&&__p();if(this.$LiveRHCAutoplayController7())return!1;if(this.$LiveRHCAutoplayController4.isFullscreen())return!0;var a=b("getViewportDimensions")().height,c=b("getViewportDimensions")().width,d=this.getDOMPosition();if(d.height===0)return!1;var e=d.y-g+(1-h)*d.height,f=d.y+h*d.height,i=d.x+(1-h)*d.width;d=d.x+h*d.width;return e<0||f>=a||i<0||d>=c?!1:!0};d.getDistanceToViewport=function(){if(this.$LiveRHCAutoplayController7())return-Infinity;if(this.$LiveRHCAutoplayController4.isFullscreen())return 0;var a=b("getViewportDimensions")().height,c=this.getDOMPosition();if(c.height===0)return-Infinity;c=c.y+(1-h)*c.height;return c-a/2};d.getDOMPosition=function(){return this.$LiveRHCAutoplayController4.getDOMPosition()};d.getVideoPlayerController=function(){return this.$LiveRHCAutoplayController4};d.logDisplayed=function(){this.$LiveRHCAutoplayController4.logEvent("displayed")};d.playWithoutUnmute=function(a){a==="page_visibility_initiated"&&this.$LiveRHCAutoplayController4.play(a),this.$LiveRHCAutoplayController4.getVideoState()!=="playing"&&this.$LiveRHCAutoplayController4.play(a)};d.pause=function(a){this.$LiveRHCAutoplayController4.pause(a)};d.preload=function(){this.$LiveRHCAutoplayController4.preload&&this.$LiveRHCAutoplayController4.preload()};d.isLooping=function(){return!1};d.isState=function(a){return this.$LiveRHCAutoplayController4.isState(a)};d.initialAutoplay=function(){this.$LiveRHCAutoplayController4.play("autoplay_initiated")};d.pauseIfInvisible=function(){this.isVisible()||this.pause("video_visibility_initiated")};d.isAutoplayable=function(){var a=this.isVisible()&&this.$LiveRHCAutoplayController5;a&&this.$LiveRHCAutoplayController4.play("video_visibility_initiated");return a};d.unregister=function(){this.$LiveRHCAutoplayController3&&this.$LiveRHCAutoplayController3()};d.isMuted=function(){return this.$LiveRHCAutoplayController4.isMuted()};d.isPlaying=function(){return this.$LiveRHCAutoplayController4.isState("playing")};d.shouldPauseWhenScrolledOffscreen=function(){return!0};d.setDimensions=function(a,b){this.$LiveRHCAutoplayController4.setDimensions(a,b)};d.isRegistered=function(){return this.$LiveRHCAutoplayController3==null};return c}(b("VideoAutoplayPlayerBase"));a.ARBITER_COLLAPSED_EVENT_NAME="LiveRHC/collapsed";e.exports=a}),null);
__d("LiveRHCContent",["Arbiter","LiveRHCAutoplayController"],(function(a,b,c,d,e,f){"use strict";a=function(a){this.$1=b("Arbiter").subscribe(b("LiveRHCAutoplayController").ARBITER_COLLAPSED_EVENT_NAME,function(b,c){a.carousel.forceLayoutUpdate()})};e.exports=a}),null);
__d("LiveRHCUtils",[],(function(a,b,c,d,e,f){"use strict";a="live_rhc_collapse";e.exports=a}),null);
__d("XLiveVideoRHCUpdatePreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/rhc/update_preferences/",{collapsed:{type:"Bool",defaultValue:!1}})}),null);
__d("LiveRHCOptionsMenu",["Arbiter","AsyncRequest","CSS","LiveRHCAutoplayController","LiveRHCUtils","XLiveVideoRHCUpdatePreferencesController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e){b("CSS").hide(a);b("CSS").hide(d);b("CSS").show(c);b("Arbiter").inform(b("LiveRHCAutoplayController").ARBITER_COLLAPSED_EVENT_NAME,{collapsed:!0});if(e){a=b("XLiveVideoRHCUpdatePreferencesController").getURIBuilder().setBool("collapsed",!0).getURI();new(b("AsyncRequest"))(a).send()}}a={init:function(a){__p&&__p();b("Arbiter").subscribe(b("LiveRHCUtils"),function(){return g(a.expanded_options_menu_container,a.collapsed_options_menu_container,a.wrapper,!1)}),a.menu.subscribe("itemclick",function(c,d){__p&&__p();switch(d.item.getValue()){case"collapse":g(a.expanded_options_menu_container,a.collapsed_options_menu_container,a.wrapper,!0);break;case"expand":b("CSS").hide(a.collapsed_options_menu_container);b("CSS").show(a.wrapper);b("CSS").show(a.expanded_options_menu_container);b("Arbiter").inform(b("LiveRHCAutoplayController").ARBITER_COLLAPSED_EVENT_NAME,{collapsed:!1});c=b("XLiveVideoRHCUpdatePreferencesController").getURIBuilder().setBool("collapsed",!1).getURI();new(b("AsyncRequest"))(c).send();break}})}};e.exports=a}),null);