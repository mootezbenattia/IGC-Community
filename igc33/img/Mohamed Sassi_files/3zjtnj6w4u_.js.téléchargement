if (self.CavalryLogger) { CavalryLogger.start_js(["1ANXx"]); }

__d("NotesUFIRenderer_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"NotesUFIRenderer_group",type:"Group",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"group_mentions_sections_info",storageKey:null,args:null,concreteType:"GroupMentionsSectionsInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"member_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"member_aux",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"nonmember_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"nonmember_aux",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"bot_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"bot_aux",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("NotesUFIRenderer_shareableConfig.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"NotesUFIRenderer_shareableConfig",type:"ShareableConfig",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"UFI2ShareActionLink_shareableConfig",args:null}]};e.exports=a}),null);
__d("NotesUFIRenderer_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"NotesUFIRenderer_story",type:"Story",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"can_viewer_save",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"save_info",storageKey:null,args:null,concreteType:"StorySaveInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"viewer_save_state",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"UFI2SaveActionLink_story",args:null}]};e.exports=a}),null);
__d("getWorkplaceUFI2ComposerPlugins_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b=[a];return{kind:"Fragment",name:"getWorkplaceUFI2ComposerPlugins_feedback",type:"Feedback",metadata:{mask:!1},argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor",type:"Boolean"}],selections:[{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_gif",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_file",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_photo",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_video",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_sticker",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_insight_point",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_bot_mention",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_marker",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_comment_markdown_eligible",args:null,storageKey:null},a,{kind:"LinkedField",alias:null,name:"viewer_actor",storageKey:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,plural:!1,selections:b},{kind:"ScalarField",alias:null,name:"composer_tip",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"mentions_datasource_js_constructor_args_json",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owning_profile",storageKey:null,args:null,concreteType:null,plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"people_outside_community_in_comment_notice",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("getWorkplaceUFI2ComposerPlugins_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"getWorkplaceUFI2ComposerPlugins_group",type:"Group",metadata:{mask:!1},argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"group_mentions_sections_info",storageKey:null,args:null,concreteType:"GroupMentionsSectionsInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"member_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"member_aux",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"nonmember_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"nonmember_aux",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"bot_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"bot_aux",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2SaveActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2SaveActionLink_feedback",type:"Feedback",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor",type:"Boolean"}],selections:[{kind:"LinkedField",alias:null,name:"viewer_actor",storageKey:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2SaveActionLink_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2SaveActionLink_story",type:"Story",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"save_info",storageKey:null,args:null,concreteType:"StorySaveInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"viewer_save_state",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2StorySaveMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"StorySaveData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}];return{kind:"Request",fragment:{kind:"Fragment",name:"UFI2StorySaveMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_save",storageKey:null,args:b,concreteType:"StorySaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2SaveActionLink_story",args:null}]}]}]},operation:{kind:"Operation",name:"UFI2StorySaveMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_save",storageKey:null,args:b,concreteType:"StorySaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"save_info",storageKey:null,args:null,concreteType:"StorySaveInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"viewer_save_state",args:null,storageKey:null}]}]}]}]},params:{operationKind:"mutation",name:"UFI2StorySaveMutation",id:"1955734207813658",text:null,metadata:{}}}}();e.exports=a}),null);
__d("UFI2StoryUnsaveMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"StoryUnsaveData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}];return{kind:"Request",fragment:{kind:"Fragment",name:"UFI2StoryUnsaveMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_unsave",storageKey:null,args:b,concreteType:"StoryUnsaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2SaveActionLink_story",args:null}]}]}]},operation:{kind:"Operation",name:"UFI2StoryUnsaveMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_unsave",storageKey:null,args:b,concreteType:"StoryUnsaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"save_info",storageKey:null,args:null,concreteType:"StorySaveInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"viewer_save_state",args:null,storageKey:null}]}]}]}]},params:{operationKind:"mutation",name:"UFI2StoryUnsaveMutation",id:"1906566209421544",text:null,metadata:{}}}}();e.exports=a}),null);
__d("UFI2StoryUnsaveMutation",["RelayModern","UFI2StoryUnsaveMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("UFI2StoryUnsaveMutation.graphql")};e.exports={storyUnsaveMutation:a}}),null);
__d("UFI2StorySaveMutation",["invariant","FBLogger","RelayModern","UFI2StoryUnsaveMutation","UFI2StorySaveMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("UFI2StoryUnsaveMutation").storyUnsaveMutation,j=function(){return b("UFI2StorySaveMutation.graphql")};e.exports={commit:function(a,c){__p&&__p();var d=c.action,e=c.actorId,f=c.mechanism,k=c.storyId,l=c.surface;c=c.tracking;return h(a,{mutation:d==="unsave"?i:j,optimisticResponse:(a={},a[d==="unsave"?"story_unsave":"story_save"]={story:{id:k,save_info:{viewer_save_state:d==="unsave"?"NOT_SAVED":"SAVED"}}},a),updater:function(a){__p&&__p();var c=a.get(k);if(c==null){b("FBLogger")("ufi2").warn("Could not find a story to update while performing %s mutation.",d);return}c=c.getLinkedRecord("save_info");if(c!=null){var e=d==="unsave"?"story_unsave":"story_save";a=a.getRootField(e);a||g(0,12651,e);e=a.getLinkedRecord("story");e||g(0,12652);a=e.getLinkedRecord("save_info");a||g(0,12650);e=a.getValue("viewer_save_state");c.setValue(e,"viewer_save_state")}},variables:{input:{actor_id:e,mechanism:f,story_id:k,surface:l,tracking:c}}})}}}),null);
__d("UFI2SaveActionLink.react",["cx","fbt","FBLogger","React","RelayAPIConfig","RelayModern","UFI2AbstractButtonWrapper.react","UFI2ActionLink.react","UFI2StorySaveMutation","collectDataAttributes","getMutationTrackingPropertyFromTrackingData","joinClasses","UFI2SaveActionLink_feedback.graphql","UFI2SaveActionLink_story.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function i(a){return function(c,d){return a?b("collectDataAttributes")(a,c,d):null}}function a(a,c){__p&&__p();var d=a.className,e=a.feedback,f=a.environment;c=a.story;var g=a.surface,j=c.id;if(j==null){b("FBLogger")("ufi2").warn("TODO");return null}var k=((a=c.save_info)==null?void 0:a.viewer_save_state)==="SAVED";return b("React").jsx(b("UFI2ActionLink.react"),{children:function(a){a=a.className;return b("React").jsx(b("UFI2AbstractButtonWrapper.react"),{className:b("joinClasses")("_78mp"+(k?" _78mq":""),a,d),href:"#",label:k?h._("Annuler l\u2019enregistrement"):h._("Enregistrer"),onClick:function(a){var c;b("UFI2StorySaveMutation").commit(f,{action:k?"unsave":"save",actorId:(c=(c=e.viewer_actor)==null?void 0:c.id)!=null?c:b("RelayAPIConfig").actorID,mechanism:"saved_ufi",storyId:j,surface:g,tracking:b("getMutationTrackingPropertyFromTrackingData")(i(a.target))})},role:"button",tabIndex:0,title:h._("Ajoutez cette story \u00e0 vos \u00e9l\u00e9ments enregistr\u00e9s")})}})}a.displayName="UFI2SaveActionLink";e.exports=c(a,{feedback:function(){return b("UFI2SaveActionLink_feedback.graphql")},story:function(){return b("UFI2SaveActionLink_story.graphql")}})}),null);
__d("UFI2InsertBotsComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFI2MentionBotButton.react").__setRef("UFI2InsertBotsComposerAction.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=h._("D\u00e9couvrez les bots disponibles");return b("React").jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _7a_3",groupID:a.props.groupID,iconActiveClassName:"UFICommentBotsIconActive",iconClassName:"InsertBot",initiallyVisible:b,label:c,onComposerStateChange:a.props.onComposerStateChange}},label:c,placeholder:b("React").jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _7a_3",iconClassName:"InsertBot",label:c}),resource:i})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createUFI2BotComposerPlugin",["React","UFI2InsertBotsComposerAction.react","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return b("React").jsx(c,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[b("React").jsx(b("UFI2InsertBotsComposerAction.react"),{groupID:a.groupID,onComposerStateChange:this.props.inputProps.onComposerStateChange},"botComposerAction")])}))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(d)}}e.exports=a}),null);
__d("UFI2FileUploadComposerAction.react",["cx","fbt","Event","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","UFICommentFileInputAcceptValues","injectSubscriptionsHandler.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFI2FileUploadButton.react").__setRef("UFI2FileUploadComposerAction.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var b=a.target.files.item(0);d.props.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Media",reference:{__type:"File",file:b}}})})},d.$2=function(a){a=document.createElement("input");a.setAttribute("accept",b("UFICommentFileInputAcceptValues").both);a.setAttribute("type","file");d.props.subscriptionsHandler.addSubscriptions(b("Event").listen(a,"change",d.$1));a.click()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.props.allowFileAttachment?(this.props.fileIsHoveringOverDropTarget?"_7cn1":"")+(!this.props.fileIsHoveringOverDropTarget&&!this.props.hasErrored?" _7cn2":"")+(this.props.hasErrored?" _7cn3":""):(this.props.fileIsHoveringOverDropTarget?"_3n42":"")+(!this.props.fileIsHoveringOverDropTarget&&!this.props.hasErrored?" _3n43":"")+(this.props.hasErrored?" _3nb4":""),d=this.props.hasErrored?h._("Une erreur s\u2019est produite avec la pi\u00e8ce jointe, veuillez r\u00e9essayer"):this.props.allowFileAttachment?h._("Joindre un fichier"):h._("Joignez une photo ou une vid\u00e9o");return b("React").jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b.clicked;return{allowFileAttachment:a.props.allowFileAttachment,fileIsHoveringOverDropTarget:a.props.fileIsHoveringOverDropTarget,hasErrored:a.props.hasErrored,label:d,onComposerStateChange:a.props.onComposerStateChange}},label:d,placeholder:b("React").jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _7jfb",iconClassName:c,label:d,onMouseUp:this.$2}),resource:i})};return c}(b("React").Component);a.defaultProps={allowFileAttachment:!1,fileIsHoveringOverDropTarget:!1,hasErrored:!1};e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("isMimeTypeForFile",["UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UFICommentFileInputAcceptValues").files,h=b("UFICommentFileInputAcceptValues").photos,i=b("UFICommentFileInputAcceptValues").videos,j={"image/gif":"video"},k,l,m;function n(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function a(a){l==null&&(l=n(h));var b=j[a];return b!=null?b==="photo":l.some(function(b){return a.startsWith(b)})}function c(a){k==null&&(k=n(i));var b=j[a];return b!=null?b==="video":k.some(function(b){return a.startsWith(b)})}function d(a){m==null&&(m=n(g));var b=j[a];return b!=null?b==="file":m.some(function(b){return a.startsWith(b)})}e.exports={isMimeTypeForFile:d,isMimeTypeForPhoto:a,isMimeTypeForVideo:c}}),null);
__d("mimeTypeIsAcceptableToUFI2FileUploadPlugin",["isMimeTypeForFile"],(function(a,b,c,d,e,f){"use strict";var g=b("isMimeTypeForFile").isMimeTypeForFile,h=b("isMimeTypeForFile").isMimeTypeForPhoto,i=b("isMimeTypeForFile").isMimeTypeForVideo;function a(a){return h(a)||i(a)||g(a)}e.exports=a}),null);
__d("createUFI2FileUploadComposerPlugin",["cx","fbt","Bootloader","ProgressBar.react","React","UFI2ComposerPreviewArea.react","UFI2FileUploadComposerAction.react","createUFI2ComposerPlugin","ifRequired","indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin","injectSubscriptionsHandler.react","mimeTypeIsAcceptableToUFI2FileUploadPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,b){a.inputProps.onComposerStateChange(function(a){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function j(a){return((a=a.attachment)==null?void 0:a.__type)==="Media"}function k(a,b,c){if(b==="ufi-commit"){var d=a.inputProps.composerState;d=d&&d.attachment&&d.attachment.__type==="Media"&&d.attachment.reference.__type;if(d==="File"||d==="UploadingFile")return"handled"}return a.inputProps.handleKeyCommand?a.inputProps.handleKeyCommand(b,c):"not-handled"}function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=0,d.$2=!1,d.state={fileIsHoveringOverDropTarget:!1,upgradedPlugin:b("ifRequired")("getUpgradedUFI2FileUploadComposerPlugin",function(b){return b(a)},function(){return null}),uploadError:null},d.$4=function(a){d.$1++;var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&(a.preventDefault(),d.$1>0&&d.setState({fileIsHoveringOverDropTarget:!0}))},d.$5=function(a){d.$1--,d.$1===0&&d.setState({fileIsHoveringOverDropTarget:!1})},d.$7=function(a){var b=a.dataTransfer;b!=null&&d.$3(a,b);d.$1=0;d.setState({fileIsHoveringOverDropTarget:!1})},d.$8=function(a){if(a.isDefaultPrevented())return;var b=a.clipboardData;if(b==null)return;d.$3(a,b)},d.$9=function(a){a=a.find(function(a){return b("mimeTypeIsAcceptableToUFI2FileUploadPlugin")(a.type)});if(a){i(d.props,new Blob([a],{type:a.type}));return"handled"}return"not-handled"},d.$10=function(a){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(a,c){if(c==null)return;var d=b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c);if(d===-1)return;c=Array.from(c.items);c=d<c.length?c[d].getAsFile():null;c!=null&&(a.preventDefault(),i(this.props,c))};f.$6=function(a){var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&a.preventDefault()};f.$11=function(){var c=this;if(this.state.upgradedPlugin||this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2FileUploadComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2FileUploadComposerPlugin"))};f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.$12=function(){if(this.state.upgradedPlugin||this.$2)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Media"};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(a,this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.render=function(){var d=this;if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),this.$4,this.$5,this.$6,this.$7,k,this.$8,this.$9,c);var e=j(this.props.inputProps.composerState),f=b("React").jsx(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[b("React").jsx(b("UFI2FileUploadComposerAction.react"),{allowFileAttachment:a.allowFileUpload,fileIsHoveringOverDropTarget:this.state.fileIsHoveringOverDropTarget,hasErrored:!1,onComposerStateChange:this.props.inputProps.onComposerStateChange},"mediaUploadComposerAction")]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleKeyCommand:function(a,b){return k(d.props,a,b)},handlePastedFiles:this.$9})})),g=h._("Annuler l\u2019importation");return b("React").jsxs("div",{className:"_25-w",onDragEnter:this.$4,onDragLeave:this.$5,onDragOver:this.$6,onDrop:this.$7,children:[f,e?b("React").jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$10,removeButtonLabel:g,children:b("React").jsx(b("ProgressBar.react"),{label:h._("{value} \u0025",[h._param("value","0")]),value:0})}):null]})};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("WorkFilePDFViewEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({PAGE_CHANGE:"PAGE_CHANGE",SELECTED_MARKER:"SELECTED_MARKER",MARKER_CLICK:"MARKER_CLICK",NEW_COMMENT:"NEW_COMMENT",NEW_MARKER_CLOSE_BUTTON_CLICKED:"NEW_MARKER_CLOSE_BUTTON_CLICKED"});e.exports=a}),null);
__d("WorkFilePDFViewerLoggerUtils",["CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={createLogger:function(){return new(b("WebFunnelLogger"))("WorkFilePDFViewerFunnelDefinition").setSessionKey(b("CurrentUser").getID())},startLog:function(a){var b=Object.keys(a).reduce(function(b,c){return b.addFunnelPayload(c,a[c])},g.createLogger().setAction("VIEWER_OPENED"));b.markStart().log()},endLog:function(a){g.createLogger().setAction(a).markEnd().log()},log:function(a,b,c){a=g.createLogger().setAction(a);if(b!=null)for(var d in b)a.addActionPayload(d,b[d]);if(c!=null)for(var e in c)a.addFunnelPayload(e,c[e]);a.log()}};e.exports=g}),null);
__d("createUFI2FileViewerComposerPlugin",["fbt","Arbiter","React","SubscriptionsHandler","WorkFilePDFViewerLoggerUtils","WorkFilePDFViewEvents","createUFI2ComposerPlugin","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();return function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){__p&&__p();var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.$1=new(b("SubscriptionsHandler"))(),c.state={pageNumber:null},c.$2=function(a,b){c.props.inputProps.onComposerStateChange(function(a){c.setState({pageNumber:b.page});return{fileMarker:b}})},c.$3=function(a,b){if(c.props.inputProps.depth!==0)return;c.props.inputProps.onComposerStateChange(function(a){return{fileMarker:b}})},c.$4=function(){c.props.inputProps.onCommit();var a=c.props.inputProps.composerState.fileMarker,d={};a==null&&(d.isReply=!0);(a==null?void 0:a.page)!=null&&(d.pageIndex=b("nullthrows")(a==null?void 0:a.page)-1);(a==null?void 0:a.location)!=null&&(d.isMarker=!0);b("WorkFilePDFViewerLoggerUtils").log("ADD_COMMENT",d)},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){if(this.props.inputProps.depth!==0)return;this.$1.addSubscriptions(b("Arbiter").subscribe(b("WorkFilePDFViewEvents").PAGE_CHANGE,this.$2),b("Arbiter").subscribe(b("WorkFilePDFViewEvents").SELECTED_MARKER,this.$3))};e.componentWillUnmount=function(){this.$1.release()};e.render=function(){return b("React").jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onCommit:this.$4,placeholder:this.state.pageNumber!=null&&this.props.inputProps.depth===0?g._("Page {Page number}: Write a comment",[g._param("Page number",this.state.pageNumber)]):this.props.inputProps.placeholder})}))};return c}(b("React").Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("createUFI2InsightsPointComposerPlugin",["Arbiter","DOMScroll","React","ReactDOM","SubscriptionsHandler","UFI2LocalUserAction","clearTimeout","setFocusOnUFI2ComposerInputState","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){__p&&__p();return function(a){__p&&__p();return function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=new(b("SubscriptionsHandler"))(),d.$2=null,d.state={insightsPoint:null},d.$3=function(a,c){__p&&__p();var e=c==null?void 0:c.selectedInsightPoint;d.setState({insightsPoint:e});if(e!=null){var f=b("setTimeoutAcrossTransitions")(function(){if(d.$2!=null){var a=b("ReactDOM").findDOMNode(d.$2);a instanceof Element&&b("DOMScroll").ensureVisible(a,null,null,null)}d.props.inputProps.onComposerStateChange(function(a){return b("setFocusOnUFI2ComposerInputState")(babelHelpers["extends"]({},a,{insightsPoint:JSON.stringify(e)}))})});d.$1.addSubscriptions({remove:function(){b("clearTimeout")(f)}})}},d.onBlur=function(a){b("Arbiter").inform("ufi/blur",{ftEntIdentifier:d.getDecodedFeedbackID()}),d.props.inputProps.onBlur&&d.props.inputProps.onBlur(a)},a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.getDecodedFeedbackID=function(){return atob(this.props.inputProps.composerState.feedbackID).split(":").pop()};e.componentDidMount=function(){this.$1.addSubscriptions(b("Arbiter").subscribe("InsightsComments/"+this.getDecodedFeedbackID()+"/selectedInsightsPoint/",this.$3))};e.componentWillUnmount=function(){this.$1.release()};e.render=function(){var c=this;return b("React").jsx("div",{ref:function(a){return c.$2=a},children:b("React").jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:this.onBlur,onCommit:function(){b("UFI2LocalUserAction").emit("commit",{feedbackID:c.getDecodedFeedbackID()}),c.props.inputProps.onCommit()},placeholder:this.state.insightsPoint?"Write a comment about ["+this.state.insightsPoint.formattedValue+"]:":this.props.inputProps.placeholder})}))})};return d}(b("React").Component)}}e.exports=a}),null);
__d("UFI2ToggleMarkdownComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFI2ToggleMarkdownButton.react").__setRef("UFI2ToggleMarkdownComposerAction.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.formattingStyle,d=a.onComposerStateChange,e=a.onClick,f=h._("Formater le texte avec Markdown");return b("React").jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(a){a=a.clicked;return{buttonClassName:"_1t9_ _1qtn",formattingStyle:c,iconActiveClassName:"_15tt",iconClassName:"_15t_",initiallyEnabled:a,label:f,onClick:e,onComposerStateChange:d}},label:f,placeholder:b("React").jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1qtn",iconClassName:"_15t_",label:f}),resource:i})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createUFI2MarkdownComposerPlugin",["cx","Bootloader","React","UFI2NUXConfig","UFI2ToggleMarkdownComposerAction.react","XUISpinner.react","createUFI2ComposerPlugin","getPlainTextFromUFI2InputState","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!1;function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=!1,d.state={NUXVisible:!1,sourceCodeToPreview:b("getPlainTextFromUFI2InputState")(d.props.inputProps.composerState.inputState),upgradedPlugin:b("ifRequired")("getUpgradedUFI2MarkdownComposerPlugin",function(b){return b(a)},function(){return null})},d.$2=function(a){h||(h=!0,d.setState({NUXVisible:!0})),d.props.inputProps.onFocus!=null&&d.props.inputProps.onFocus(a)},d.action=b("React").createRef(),d.$5=function(){d.setState({NUXVisible:!1})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(){var c=this;if(this.state.upgradedPlugin||this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2MarkdownComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2MarkdownComposerPlugin"))};f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidMount(this.props):this.$4()&&this.$3()};f.$4=function(){if(this.state.upgradedPlugin||this.$1)return!1;var a=this.props.inputProps.composerState;return a.formattingStyle==="MARKDOWN"};f.componentDidUpdate=function(a,b){this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(this.props,this.state,this.setState.bind(this)):this.$4()&&this.$3()};f.render=function(){var d=this;if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),a.topLevelFeedbackTargetID,c);var e=this.props.inputProps.composerState.formattingStyle,f=this.state.NUXVisible,g=b("React").jsx(c,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[b("React").jsx(b("UFI2ToggleMarkdownComposerAction.react"),{formattingStyle:e,onClick:this.$5,onComposerStateChange:this.props.inputProps.onComposerStateChange,ref:this.action},"markdownComposerAction")]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$2})}));return b("React").jsxs("div",{className:"_21qf",children:[g,this.state.sourceCodeToPreview&&e==="MARKDOWN"?b("React").jsx("div",{className:"_21qj",children:b("React").jsx(b("XUISpinner.react"),{className:"_691k",size:"large"})}):null,f&&b("UFI2NUXConfig").UFI2MarkdownNUX?b("React").jsx(b("UFI2NUXConfig").UFI2MarkdownNUX,{contextRef:function(){return d.action.current},onClose:this.$5}):null]})};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("UFI2SubmitComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFI2SubmitButton.react").__setRef("UFI2SubmitComposerAction.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.onComposerStateChange,d=a.onClick,e=a.isActive;a=a.shortcutKeys;a=h._("Ajoutez votre commentaire. Vous pouvez \u00e9galement le faire en pressant {keyboard keys} sur votre clavier. Pour ajouter une ligne \u00e0 votre commentaire, pressez Entrer sur votre clavier.",[h._param("keyboard keys",a)]);var f=e?"_79l6":"_79l7";return b("React").jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(a){a.clicked;return{buttonClassName:"_1t9_ _79l8",iconClassName:f,onClick:d,onComposerStateChange:c}},label:a,placeholder:b("React").jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _79l8",iconClassName:f,label:a}),resource:i})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createUFI2SubmitComposerPlugin",["cx","fbt","KeyBindingUtil","Keys","React","UFI2NUXConfig","UFI2SubmitComposerAction.react","UserAgent","createUFI2ComposerPlugin","getDefaultKeyBinding","isUFI2ComposerStateEmpty"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Keys").RETURN,j=6653,k=b("UserAgent").isPlatform("Mac OS X");function a(){__p&&__p();return function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){__p&&__p();var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.$1=function(){c.props.inputProps.onCommit()},c.$2=function(a){__p&&__p();if(c.props.inputProps.keyBindingFn){var d=c.props.inputProps.keyBindingFn(a);if(d!=null)return d}if(a.keyCode===i)if(b("KeyBindingUtil").hasCommandModifier(a))return"ufi-commit";else return b("getDefaultKeyBinding")(a);return null},c.$3=b("React").createRef(),a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.render=function(){var c=this,d=!b("isUFI2ComposerStateEmpty")(this.props.inputProps.composerState),e=k?"Cmd+Enter":"Ctrl+Enter",f=b("React").jsx(a,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[b("React").jsx(b("UFI2SubmitComposerAction.react"),{isActive:d,onClick:this.$1,onComposerStateChange:this.props.inputProps.onComposerStateChange,ref:this.$3,shortcutKeys:e},"sumbitComposerAction")]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{keyBindingFn:this.$2})}));return b("React").jsxs("div",{className:"_79l8",children:[f,d&&b("UFI2NUXConfig").UFI2SubmitNUX?b("React").jsxs(b("UFI2NUXConfig").UFI2SubmitNUX,{contextRef:function(){return c.$3.current},nuxID:j,shouldShow:d,children:[h._("Pour ajouter votre commentaire, vous devez d\u00e9sormais appuyer sur Envoyer ou presser {keyboard keys} sur votre clavier.",[h._param("keyboard keys",e)]),b("React").jsx("br",{}),h._("Pour ajouter une ligne \u00e0 votre commentaire, pressez Entrer sur votre clavier.")]}):null]})};return c}(b("React").Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("UFI2UnifiedInputComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFI2UnifiedInputButton.react").__setRef("UFI2UnifiedInputComposerAction.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=h._("Publiez des stickers, des emojis et des GIF");return b("React").jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _1ta3",config:a.props.config,iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"InsertEmoji",initiallyVisible:b,label:c,onComposerStateChange:a.props.onComposerStateChange}},label:c,placeholder:b("React").jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ta3",iconClassName:"InsertEmoji",label:c}),resource:i})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createUFI2UnifiedInputComposerPlugin",["React","UFI2UnifiedInputComposerAction.react","createUFI2ComposerPlugin","createUFI2EmojiComposerActionComponentPlugin","createUFI2GIFComposerActionComposerPlugin","createUFI2StickersComposerActionComposerPlugin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return b("React").jsx(c,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[b("React").jsx(b("UFI2UnifiedInputComposerAction.react"),{config:a,onComposerStateChange:this.props.inputProps.onComposerStateChange},"unifiedInputComposerAction")])}))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(d)};return[c,b("createUFI2EmojiComposerActionComponentPlugin")({size:16}),b("createUFI2GIFComposerActionComposerPlugin")(),b("createUFI2StickersComposerActionComposerPlugin")({environment:a.environment,targetID:a.targetID})]}e.exports=a}),null);
__d("getWorkplaceUFI2ComposerPlugins",["requireCond","JSResource","RelayModern","UFI2Config","createUFI2AssociateReplyWithParentComposerPlugin","createUFI2BotComposerPlugin","createUFI2ComposerTipPlugin","createUFI2EmoticonsComposerPlugin","createUFI2FileUploadComposerPlugin","createUFI2FileViewerComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2InsightsPointComposerPlugin","createUFI2LiveTypingBroadcastComposerPlugin","createUFI2MarkdownComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2SetReplyClickedComposerPlugin","cr:1101374","createUFI2SubmitComposerPlugin","createUFI2UnifiedInputComposerPlugin","cr:1185028","gkx","qex","getWorkplaceUFI2ComposerPlugins_feedback.graphql","getWorkplaceUFI2ComposerPlugins_group.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;(function(){return b("getWorkplaceUFI2ComposerPlugins_feedback.graphql")});(function(){return b("getWorkplaceUFI2ComposerPlugins_group.graphql")});function a(a){__p&&__p();var c,d=a.environment,e=a.feedback,f=a.group;a.pluginsToInsertBeforePositions;a=a.feedbackTargetID;var g=e.viewer_actor,h=e.mentions_datasource_js_constructor_args_json;return[e.can_viewer_comment_with_marker===!0?b("createUFI2FileViewerComposerPlugin")({}):null,e.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:e.composer_tip}):null,b("cr:1185028")&&b("UFI2Config").shouldShowWritingHelp?b("cr:1185028")({defaultInterfaceType:"inline_composer",isAutoEnabled:!0}):null,f!=null?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:h,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,c){__p&&__p();var d,e=a.getAuxiliaryData().renderType,f=c.getAuxiliaryData().renderType;d=(d=b("qex")._("1083132"))!=null?d:!1;if(e===f||d){d=a.getAuxiliaryData().indexRank;var g=c.getAuxiliaryData().indexRank;if(d===-1&&g!==-1)return-1;else if(d!==-1&&g===-1)return 1;else return a.getOrder()-c.getOrder()}d={bot:1,member:0,non_member:2,place:3};return d[e]-d[f]},viewProps:{bot:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_title:c:c},member:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("getWorkplaceUFI2ComposerPlugins")}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:h,typeaheadViewProps:{},upgradedPluginResource:b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("getWorkplaceUFI2ComposerPlugins")}),b("createUFI2HashtagComposerPlugin")(),e.can_viewer_comment_with_bot_mention===!0&&f!=null&&f.id!=null?b("createUFI2BotComposerPlugin")({groupID:f.id}):null,b("createUFI2EmoticonsComposerPlugin")({size:16}),e.is_comment_markdown_eligible===!0&&a!=null?b("createUFI2MarkdownComposerPlugin")({topLevelFeedbackTargetID:a}):null,e.can_viewer_comment_with_photo===!0&&e.can_viewer_comment_with_video===!0?b("createUFI2FileUploadComposerPlugin")({allowFileUpload:e.can_viewer_comment_with_file===!0,feedback:{viewer_actor:g}}):null,e.can_viewer_comment_with_insight_point===!0?b("createUFI2InsightsPointComposerPlugin")():null,b("createUFI2LiveTypingBroadcastComposerPlugin")({feedback:e,relayEnvironment:d}),b("createUFI2PrefillMentionComposerPlugin")(),b("createUFI2AssociateReplyWithParentComposerPlugin")(),b("createUFI2SetReplyClickedComposerPlugin")(),b("gkx")("779036")?b("createUFI2SubmitComposerPlugin")():null].concat(b("createUFI2UnifiedInputComposerPlugin")({allowGifAttachments:(c=e.can_viewer_comment_with_gif)!=null?c:!1,allowStickerAttachments:(h=e.can_viewer_comment_with_sticker)!=null?h:!1,environment:d,targetID:(f=e)!=null?(f=f.owning_profile)!=null?f.id:f:f}),[b("cr:1101374")!=null?b("cr:1101374")({environment:d,ftentidentifier:e==null?void 0:e.id,surface:"workplace_comment_www"}):null]).filter(Boolean)}e.exports=a}),null);
__d("NotesUFIRenderer.react",["cx","fbt","invariant","requireDeferred","BootloadedComponent.react","FBLogger","FeedStoryUFISummary.react","JSResource","React","RelayModern","UFI2AddCommentLink.react","UFI2Comment.react","UFI2CommentActionLink.react","UFI2CommentDisabledNotice.react","UFI2CommentsConfig","UFI2CommentsFilterFallbackWarning.react","UFI2CommentsList.react","UFI2CommentsPager.react","UFI2CommentTranslateAllButton.react","UFI2Composer.react","UFI2CreateCommentMutation","UFI2FeedbackCommentReactSubscription","UFI2FeedbackReactSubscription","UFI2HiddenCommentsPlaceholder.react","UFI2LazyCodedErrorDialog.react","UFI2PaginationProgressIndicator.react","UFI2ReactionActionLink.react","UFI2RealtimeContainer.react","UFI2RealtimeRoot.react","UFI2RepliesCollapser.react","UFI2RepliesExpander.react","UFI2SaveActionLink.react","UFI2ShareActionLink.react","UFI2SurfaceContainerContext","UFI2ToggleCommentPermissionSubscription","UFI2ViewOption","UFI2ViewOptionsSelector.react","XUISpinner.react","createUFI2LiveTypingBroadcastComposerPlugin","cxMargin","deferredLoadComponent","getCommentCreateMutationPropertiesFromTrackingData","getConsumerFacebookUFI2ComposerPlugins","getViewportViewDurationPropertiesFromTrackingData","getWorkplaceUFI2ComposerPlugins","isCommentFresh","isCommentTokenOrFBID","lazyLoadComponent","logCommentViewportViewDuration","nullthrows","NotesUFIRenderer_feedback.graphql","NotesUFIRenderer_group.graphql","NotesUFIRenderer_shareableConfig.graphql","NotesUFIRenderer_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("deferredLoadComponent")(b("requireDeferred")("UFI2TypingIndicator.react")),k=b("BootloadedComponent.react").create(b("JSResource")("UFI2CommentingAsConstituentHeader.react").__setRef("NotesUFIRenderer.react")),l=b("lazyLoadComponent")(b("JSResource")("UFI2CommentEditor.react").__setRef("NotesUFIRenderer.react"));function m(a){__p&&__p();var c=a.comment,d=a.group;a=a.streamLastViewTime;if(b("isCommentFresh")(c))return!0;if(d!=null&&a!=null){d=c.created_time;if(d!=null)return a<d}return!1}function n(a,c){var d=a.actorID,e=a.feedback,f=a.feedbackTargetID,g=a.getComposerPluginsToInsertBeforePositions,h=a.group,i=a.isWorkplace;a=a.relay.environment;var j=e.mentions_datasource_js_constructor_args_json;g=g?g({feedback:e,feedbackTargetID:f}):null;return{composerPluginProps:{initialPlugins:[].concat(i===!0?b("getWorkplaceUFI2ComposerPlugins")({environment:a,feedback:e,feedbackTargetID:f,group:e==null?void 0:e.associated_group,pluginsToInsertBeforePositions:g}):b("getConsumerFacebookUFI2ComposerPlugins")({environment:a,feedback:e,group:h,pluginsToInsertBeforePositions:g}),[d!=null?b("createUFI2LiveTypingBroadcastComposerPlugin")({feedback:e,relayEnvironment:a}):null]).filter(Boolean)},editingCommentID:null,maybeCodedError:null,mirroredMentionsDataSourceJSON:j,renderedTranslationCommentID:null,shouldRequestTranslationForAllComments:Boolean(c==null?void 0:c.shouldRequestTranslationForAllComments)}}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state=n(babelHelpers["extends"]({},d.props,{isWorkplace:d.context.containerMapping.containerIsWorkplace}),null),d.$2=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackCommentReactSubscription").subscribe(d.props.relay.environment,{top_level_feedback_id:c},!0,a,d.context.isComet):null},d.$3=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackReactSubscription").subscribe(d.props.relay.environment,{feedback_id:c},!0,a):null},d.$4=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2ToggleCommentPermissionSubscription").subscribe(d.props.relay.environment,{feedback_id:c},!0,a):null},d.$5=function(){d.$1&&d.$1.Actions.toggleList({focusComposer:!1})},d.$6=function(a){d.$1?(d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0}),a.preventDefault()):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d.props.feedbackTargetID||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")},d.$7=function(){d.$1&&d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0})},d.$8=function(a){var c=a.actorID,e=a.clientID,f=a.commentData,g=a.entitiesByID,h=a.environment,i=a.feedLocation,j=a.feedbackSource,k=a.focusCommentID,l=a.getTrackingDataFn;a=a.topLevelFeedbackID;if(!f)return;b("UFI2CreateCommentMutation").commit({actorID:c,clientID:e,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,containerMapping:b("nullthrows")((c=d.context)==null?void 0:c.containerMapping),entitiesByID:g,environment:h,feedLocation:i,feedbackSource:j,focusCommentID:k,input:babelHelpers["extends"]({},f,b("getCommentCreateMutationPropertiesFromTrackingData")(l)),isComet:d.context.isComet,onError:d.$9,topLevelFeedbackId:a,useDefaultActor:!0})},d.$10=function(){d.setState(function(a){return a.maybeCodedError==null?null:{maybeCodedError:babelHelpers["extends"]({},a.maybeCodedError,{acknowledged:!0})}})},d.$9=function(a){d.setState({maybeCodedError:{acknowledged:!1,error:a}})},d.$11=function(){d.setState({shouldRequestTranslationForAllComments:!0})},d.$12=function(a){d.setState({editingCommentID:a})},d.$13=function(a){d.setState({renderedTranslationCommentID:a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){var c=b.mirroredMentionsDataSourceJSON,d=a.feedback;return d.mentions_datasource_js_constructor_args_json!==c?n(a,b):null};var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.displayCommentsContext,e=c.feedLocation,f=c.feedback,g=c.feedbackSource,h=c.feedbackTargetID,i=c.group,j=c.focusCommentID,k=c.relay,l=c.shareableConfig,n=c.streamLastViewTime,q=c.story,r=c.storyRenderLocation;c=this.state;var s=c.composerPluginProps,t=c.editingCommentID,u=c.maybeCodedError,v=c.renderedTranslationCommentID,w=c.shouldRequestTranslationForAllComments,x={environment:k.environment,feedback:f,feedbackSource:g,feedbackTargetID:h,onClickCommentsCount:this.$5,onCommentClick:this.$6,shareableConfig:l,story:q};return(c=b("React")).jsxs("div",{className:"_78tc",children:[c.jsx(b("UFI2RealtimeRoot.react"),{enabled:f.is_eligible_for_real_time_updates===!0,children:c.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$2,children:c.jsx(b("UFI2CommentsList.react"),{displayCommentsContext:d,fallback:c.jsxs(c.Fragment,{children:[c.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$3,children:c.jsx(o,babelHelpers["extends"]({},x))}),(k=this.props.commentsListFallback)!=null?k:null]}),feedLocation:e,feedback:f,feedbackSource:g,focusCommentID:j,listRef:function(b){a.$1=b},useDefaultActor:!0,children:function(c){c=b("React").jsx(p,{commentsListRenderProps:c,composerPluginProps:s,editingCommentID:t,feedLocation:e,feedback:f,feedbackSource:g,feedbackTargetID:h,focusCommentID:j,isCommentFresh:function(a){return m({comment:a,group:i,streamLastViewTime:n})},onAddCommentClick:a.$7,onCommitCommentCreate:a.$8,onEditCommentError:a.$9,onTranslateAllClick:a.$11,renderedTranslationCommentID:v,setEditingCommentID:a.$12,setRenderedTranslationCommentID:a.$13,shouldRequestTranslationForAllComments:w,storyRenderLocation:r});f.supports_disabling_comments!==!1&&(c=b("React").jsx(b("UFI2RealtimeContainer.react"),{subscribe:a.$4,children:c}));return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("UFI2RealtimeContainer.react"),{subscribe:a.$3,children:b("React").jsx(o,babelHelpers["extends"]({},x))}),b("React").jsx("section",{className:"_78sn",children:c})]})}})})}),u&&b("React").jsx(b("UFI2LazyCodedErrorDialog.react"),{error:u.error,onHide:this.$10,shown:u.acknowledged===!1})]})};return c}(b("React").Component);c.displayName="NotesUFIRenderer";c.contextType=b("UFI2SurfaceContainerContext");function o(a){var c,d=a.environment,e=a.feedback,f=a.feedbackTargetID,g=a.feedbackSource,h=a.onCommentClick,i=a.onClickCommentsCount,j=a.shareableConfig;a=a.story;c=(a==null?void 0:a.can_viewer_save)===!0&&(e==null?void 0:(c=e.viewer_actor)==null?void 0:c.__typename)!=="Page";return b("React").jsxs("div",{className:"_78so",children:[b("React").jsx(b("FeedStoryUFISummary.react"),{feedback:e,onClickCommentsCount:i}),b("React").jsx("div",{className:"_78sp",children:b("React").jsxs("div",{className:"_78sq",children:[e.can_viewer_react===!0&&b("React").jsx(b("UFI2ReactionActionLink.react"),{enableAnimations:!0,feedback:e,feedbackSource:g,useDefaultActor:!0}),e.can_viewer_comment===!0&&b("React").jsx(b("UFI2CommentActionLink.react"),{onClick:h}),b("React").jsx(b("UFI2ShareActionLink.react"),{feedback:e,feedbackTargetID:f,shareableConfig:j}),a!=null&&c?b("React").jsx(b("UFI2SaveActionLink.react"),{environment:d,feedback:e,story:a,surface:"campfire_note"}):null]})})]})}function p(a){__p&&__p();var c=a.commentsListRenderProps,d=a.composerPluginProps,e=a.editingCommentID,f=a.feedback,g=a.feedbackSource,m=a.feedbackTargetID,n=a.isCommentFresh,o=a.focusCommentID,p=a.onAddCommentClick,r=a.onCommitCommentCreate,s=a.onEditCommentError,t=a.renderedTranslationCommentID,u=a.setEditingCommentID,v=a.setRenderedTranslationCommentID,w=a.storyRenderLocation,x=a.onTranslateAllClick,y=a.shouldRequestTranslationForAllComments;c.depth===0||i(0,12222);var z=c.Actions.setViewOption;a=c.Selectors;var A=c.depth,B=c.getCommentEditorProps,C=c.getCommentProps,D=c.getComposerProps,E=c.getFilterWarningPropsForOlderComments,F=c.getHiddenCommentsPlaceholderProps,G=c.getPagerPropsForNewerComments,H=c.getPagerPropsForOlderComments,I=c.getPaginationProgressProps,J=c.getNestedCommentsListProps,K=c.listState,L=c.onCommentsListMouseEnter,M=c.onCommentsListMouseLeave,N=c.totalCount,O=c.viewOption;c=a.hasPagedInDirection({depth:A,direction:"forward",state:K});var P=b("UFI2ViewOption").isChronologicalOrder(O),Q=a.isComposerVisible({depth:A,state:K}),R=a.isListExpanded({depth:A,state:K}),S=a.isListLoading({depth:A,state:K});N=N>0&&(f.num_localized_comment_orderings||0)>1;var T=a.getVisibleCommentsCount({depth:A,state:K});if(!R)return null;if(R&&T===0&&S)return b("React").jsx("div",{className:"_78sr _78ss",children:b("React").jsx(b("XUISpinner.react"),{className:"_78st",size:"large"})});R=a.getVisibleCommentsWithHiddenCommentsCollapsed({depth:A,reverse:P,state:K});var U=(S=f)!=null?S.viewer_actor:S;S=f.can_viewer_comment===!0;S&&!U&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",m||"UNKNOWN").mustfix("FeedStoryUFI: Cant render composer without actor");m=(m=f)!=null?m.constituent_badge_banner_link:m;Q=f.have_comments_been_disabled===!0||f.is_viewer_muted===!0?b("React").jsx(b("UFI2CommentDisabledNotice.react"),{feedback:f}):Q&&S&&U!=null?b("React").jsxs(b("React").Fragment,{children:[m!=null?b("React").jsx(k,{bootloadPlaceholder:b("React").jsx("div",{className:"_3-8t",children:b("React").jsx(b("XUISpinner.react"),{})}),uri:m}):null,b("React").jsx(b("UFI2Composer.react"),babelHelpers["extends"]({},d,D(),{actor:U,className:"clearfix _78su _78sv"+(T===0?" _78sw":"")+(!P&&T>0?" _78sx":""),commentAction:"ADD",depth:A,onCommit:r}))]}):null;S=b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},G(),{className:"_78sy"}));m=b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},H(),{className:"_78sy"}));D=!P&&Q&&c;G=a.isPagerVisible({depth:A,direction:"forward",state:K})?b("React").jsx(b("UFI2PaginationProgressIndicator.react"),babelHelpers["extends"]({},I(),{className:"_78sy"})):null;return b("React").jsxs("div",{className:"_78sr","data-testid":"UFI2CommentsList/root_depth_0",onMouseEnter:L,onMouseLeave:M,children:[b("React").jsx("h6",{className:"accessible_elem",children:h._("Commentaires")}),b("React").jsxs("div",{className:"_78sz _78s-",children:[P?m:S,N?b("React").jsx("div",{className:"_78s_",children:b("React").jsx(b("UFI2ViewOptionsSelector.react"),{alignh:"left",caretClassName:"_78t0",className:"_78t1",feedback:f,linkClassName:"_78t2",onChange:function(a){return z({viewOption:a})},selectedViewOption:O})}):P?G:null]}),!P&&Q,T>0?b("React").jsx("ul",{className:"_78t3",children:R.map(function(a,c){__p&&__p();if(a.state==="COLLAPSED"){var h;return b("React").jsx("li",{children:b("React").jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},F(),{className:"_78su"+(c===0?" _78t4":""),commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((h=(h=a.comments[0])==null?void 0:h.id)!=null?h:c))}else if(a.state==="VISIBLE")return b("React").jsx(b("React").Fragment,{children:a.comments.map(function(a,h){var i=a.id,j=a.optimistic_action==null&&a.optimistic_error==null,k=C(a);h=b("React").jsx(b("UFI2Comment.react"),babelHelpers["extends"]({},k,{className:"clearfix _78su"+(h===0&&c===0?" _78t4":""),feedbackSource:g,isCommentFresh:n,isHighlighted:b("isCommentTokenOrFBID")(o,a),logCommentViewportViewDuration:j?function(a,c){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:i,isLivePinnedComment:!1,isReply:!1,milliseconds:a,storyRenderLocation:w},b("getViewportViewDurationPropertiesFromTrackingData")(c)))}:null,onEdit:function(){return u(i)},onTranslated:function(){return v(i)},onUntranslated:function(){t===i&&v(null)},storyRenderLocation:w,translationRequested:y}));return b("React").jsxs("li",{children:[i===e?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{"aria-busy":"true",className:"aero",children:h}),children:b("React").jsx(l,babelHelpers["extends"]({},d,B(),{comment:a,commentId:i,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,depth:0,feedbackSource:g,onError:s,onFinishEdit:function(){return u(null)},storyRenderLocation:w}))}):h,i===t&&!y?b("React").jsx(b("UFI2CommentTranslateAllButton.react"),{onClick:x}):null,b("React").jsx(b("UFI2CommentsList.react"),babelHelpers["extends"]({},J(i),{children:function(a){return b("React").jsx(q,{composerPluginProps:d,currentActor:U,editingCommentID:e,feedback:f,feedbackSource:g,focusCommentID:o,isCommentFresh:n,onCommitCommentCreate:r,onEditCommentError:s,onTranslateAllClick:x,renderedTranslationCommentID:t,repliesListRenderProps:a,setEditingCommentID:u,setRenderedTranslationCommentID:v,shouldRequestTranslationForAllComments:y,storyRenderLocation:w,topLevelViewOption:O})}}))]},k.key||i)})},c);return null})}):null,O==="RANKED_THREADED"&&b("React").jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},E(),{className:"_78su"})),b("React").jsxs("div",{className:"_78sz _78t5",children:[P?S:m,P?null:G]}),b("React").jsx(b("React").Suspense,{fallback:null,loading:null,children:b("React").jsx(j,{feedback:f})}),P&&Q,D===!0&&b("React").jsx(b("UFI2AddCommentLink.react"),{onClick:p})]})}var q=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.composerPluginProps,d=a.currentActor,e=a.editingCommentID,f=a.feedbackSource,g=a.isCommentFresh,h=a.focusCommentID,j=a.onCommitCommentCreate,k=a.onEditCommentError,m=a.onTranslateAllClick,n=a.renderedTranslationCommentID,o=a.repliesListRenderProps,p=a.setEditingCommentID,q=a.setRenderedTranslationCommentID,r=a.shouldRequestTranslationForAllComments,s=a.storyRenderLocation;a=a.topLevelViewOption;o.depth===1||i(0,2952);var t=o.Selectors,u=o.depth,v=o.getCommentEditorProps,w=o.getCommentProps,x=o.getComposerProps,y=o.getFilterWarningPropsForOlderComments,z=o.getFilterWarningPropsForNewerComments,A=o.getHiddenCommentsPlaceholderProps,B=o.getPagerPropsForNewerComments,C=o.getPagerPropsForOlderComments,D=o.getRepliesCollapserProps,E=o.getRepliesExpanderProps,F=o.listState,G=o.onCommentsListMouseEnter;o=o.onCommentsListMouseLeave;var H=t.getVisibleCommentsWithHiddenCommentsCollapsed({depth:u,reverse:!0,state:F}),I=t.isComposerVisible({depth:u,state:F}),J=t.isListExpanded({depth:u,state:F}),K=t.isRepliesExpanderLoading({depth:u,state:F});t=t.getVisibleCommentsCount({depth:u,state:F});J=!J||K?b("React").jsx(b("UFI2RepliesExpander.react"),babelHelpers["extends"]({},E(),{className:"_78t6 _78sy"})):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("UFI2RepliesCollapser.react"),babelHelpers["extends"]({},D(),{className:"_78t7"})),b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},C(),{className:"_78t6 _78sy"})),a==="RANKED_THREADED"&&b("React").jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},y(),{className:"_78t8 clearfix",viewOption:a})),t>0?b("React").jsx("ul",{children:H.map(function(a,d){__p&&__p();if(a.state==="COLLAPSED"){var i;return b("React").jsx("li",{children:b("React").jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},A(),{className:"_78su",commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((i=(i=a.comments[0])==null?void 0:i.id)!=null?i:d))}else if(a.state==="VISIBLE")return b("React").jsx(b("React").Fragment,{children:a.comments.map(function(a){var d=a.id,i=a.optimistic_action==null&&a.optimistic_error==null,j=w(a);i=b("React").jsx(b("UFI2Comment.react"),babelHelpers["extends"]({},j,{className:"_78t8 clearfix",feedbackSource:f,isCommentFresh:g,isHighlighted:b("isCommentTokenOrFBID")(h,a),logCommentViewportViewDuration:i?function(a,c){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:d,isLivePinnedComment:!1,isReply:!0,milliseconds:a,storyRenderLocation:s},b("getViewportViewDurationPropertiesFromTrackingData")(c)))}:null,onEdit:function(){return p(d)},onTranslated:function(){return q(d)},onUntranslated:function(){n===d&&q(null)},storyRenderLocation:s,translationRequested:r}));return b("React").jsxs("li",{children:[d===e?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{"aria-busy":"true",className:"aero",children:i}),children:b("React").jsx(l,babelHelpers["extends"]({},c,v(),{comment:a,commentId:d,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,depth:1,onError:k,onFinishEdit:function(){return p(null)},storyRenderLocation:s}))}):i,d===n&&!r?b("React").jsx(b("UFI2CommentTranslateAllButton.react"),{onClick:m}):null]},j.key||d)})},d);return null})}):null,a==="RANKED_THREADED"&&b("React").jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},z(),{className:"_78t8 clearfix",viewOption:a})),b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},B(),{className:"_78t6 _78sy"})),I&&d!=null?b("React").createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},c,x(),{actor:d,className:"_78t9",commentAction:"ADD",depth:u,key:"composerForUID"+((F=d.id)!=null?F:"UNKNOWN"),onCommit:j})):null]});return b("React").jsx("div",{className:"_78ta","data-testid":"UFI2CommentsList/root_depth_1",onMouseEnter:G,onMouseLeave:o,children:J})};return a}(b("React").Component);e.exports=a(c,{feedback:function(){return b("NotesUFIRenderer_feedback.graphql")},group:function(){return b("NotesUFIRenderer_group.graphql")},shareableConfig:function(){return b("NotesUFIRenderer_shareableConfig.graphql")},story:function(){return b("NotesUFIRenderer_story.graphql")}})}),null);
__d("NotesUFICommon.react",["cx","FBLogger","JSResource","NotesUFIRenderer.react","React","RelayAPIConfig","RelayModern","RelayPreloadedQueryRenderer.react","RelayUFI2Environment","UFIODSLogger","XUISpinner.react","lazyLoadComponent","NotesUFICommonQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("RelayModern").graphql;var h=b("lazyLoadComponent")(b("JSResource")("FeedStoryUFIError.react").__setRef("NotesUFICommon.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){__p&&__p();var c=a.error;a=a.props;var e=d.props,f=e.queryVariables;e=e.streamLastViewTime;if(c){var g;return(g=b("React")).jsx(g.Fragment,{children:g.jsx(g.Suspense,{fallback:g.jsx(b("XUISpinner.react"),{className:"_78st",size:"large"}),children:g.jsx(h,{error:c})})})}if(a==null)return b("React").jsx(b("XUISpinner.react"),{className:"_78st",size:"large"});g=a.feedback;c=a.feed_unit;var i=a.group;a=a.shareable_config;if(!g){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f.feedbackTargetID||"UNKNOWN").mustfix("Query is missing feedback data.");return null}var j=f.displayCommentsContextEnableComment,k=f.displayCommentsFeedbackContext,l=f.feedLocation,m=f.feedbackTargetID,n=f.focusCommentID;f=f.feedbackSource;return b("React").jsx(b("NotesUFIRenderer.react"),{actorID:d.props.defaultActorID,displayCommentsContext:{enableComment:j,feedbackContext:k,isAdPreview:!1,isAggregatedShare:!1,isStorySet:!1},feedLocation:l,feedback:g,feedbackSource:f,feedbackTargetID:m,focusCommentID:n,getComposerPluginsToInsertBeforePositions:d.props.getComposerPluginsToInsertBeforePositions,group:i,shareableConfig:a,story:c,storyRenderLocation:d.props.storyRenderLocation,streamLastViewTime:e})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("UFIODSLogger").bump("componentDidMount.notes","relay")};d.render=function(){var a;return b("React").jsx(b("RelayPreloadedQueryRenderer.react"),{disableEnforcement:!0,environment:b("RelayUFI2Environment").forActor((a=this.props.defaultActorID)!=null?a:b("RelayAPIConfig").actorID),query:c.query,render:this.$1})};return c}(b("React").PureComponent);a.displayName="NotesUFICommon";a.query=function(){return b("NotesUFICommonQuery.graphql")};e.exports=a}),null);
__d("NotesUFI.react",["invariant","FeedStoryUFICommentActionLinks.react","FeedStoryUFICommentActorLinkBadges.react","FeedStoryUFICommentAttachments.react","FeedStoryUFICommentBody.react","NotesUFICommon.react","React","UFI2CommentActorName.react","UFI2ProfileLink.react","UFI2SurfaceContainerProvider.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={containerIsFeedStory:!0,containerIsLiveStory:!1,containerIsTahoe:!1,containerIsWorkplace:!1};a={components:{CommentActionLinksComponent:b("FeedStoryUFICommentActionLinks.react"),CommentActorLinkBadgesComponent:b("FeedStoryUFICommentActorLinkBadges.react"),CommentActorNameComponent:b("UFI2CommentActorName.react"),CommentAttachmentComponent:b("FeedStoryUFICommentAttachments.react"),CommentBodyComponent:b("FeedStoryUFICommentBody.react"),ProfileLinkComponent:b("UFI2ProfileLink.react")},containerMapping:a,isComet:!1};return b("React").jsx(b("UFI2SurfaceContainerProvider.react"),{providerValue:a,children:b("React").jsx(b("NotesUFICommon.react"),babelHelpers["extends"]({},this.props))})};return c}(b("React").PureComponent);a.displayName="NotesUFI";e.exports=a}),null);